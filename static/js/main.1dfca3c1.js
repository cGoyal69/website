/*! For license information please see main.1dfca3c1.js.LICENSE.txt */
(()=>{var __webpack_modules__={1531:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(t){var e=t.files,n=r.useRef(),s=r.useContext(i.LocalizationContext).l10n,a=r.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,o=r.useRef([]),l=s&&s.attachment?s.attachment.clickToDownload:"Click to download",c=function(t){var e=n.current,i=[].slice.call(e.getElementsByClassName("rpv-attachment__item"));if(0!==i.length){i.forEach((function(t){return t.setAttribute("tabindex","-1")}));var r=document.activeElement,s=i[Math.min(i.length-1,Math.max(0,t(i,r)))];s.setAttribute("tabindex","0"),s.focus()}};return i.useIsomorphicLayoutEffect((function(){var t=n.current;if(t){var e=[].slice.call(t.getElementsByClassName("rpv-attachment__item"));if(o.current=e,e.length>0){var i=e[0];i.focus(),i.setAttribute("tabindex","0")}}}),[]),r.createElement("div",{"data-testid":"attachment__list",className:i.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":a}),ref:n,tabIndex:-1,onKeyDown:function(t){switch(t.key){case"ArrowDown":t.preventDefault(),c((function(t,e){return t.indexOf(e)+1}));break;case"ArrowUp":t.preventDefault(),c((function(t,e){return t.indexOf(e)-1}));break;case"End":t.preventDefault(),c((function(t,e){return t.length-1}));break;case"Home":t.preventDefault(),c((function(t,e){return 0}))}}},e.map((function(t){return r.createElement("button",{className:"rpv-attachment__item",key:t.fileName,tabIndex:-1,title:l,type:"button",onClick:function(){return e=t.fileName,i="string"==typeof(n=t.data)?"":URL.createObjectURL(new Blob([n],{type:""})),(r=document.createElement("a")).style.display="none",r.href=i||e,r.setAttribute("download",function(t){var e=t.split("/").pop();return e?e.split("#")[0].split("?")[0]:t}(e)),document.body.appendChild(r),r.click(),document.body.removeChild(r),void(i&&URL.revokeObjectURL(i));var e,n,i,r}},t.fileName)})))},a=function(t){var e=t.doc,n=r.useContext(i.LocalizationContext).l10n,a=r.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,o=n&&n.attachment?n.attachment.noAttachment:"There is no attachment",l=r.useState({files:[],isLoaded:!1}),c=l[0],u=l[1];return r.useEffect((function(){e.getAttachments().then((function(t){var e=t?Object.keys(t).map((function(e){return{data:t[e].content,fileName:t[e].filename}})):[];u({files:e,isLoaded:!0})}))}),[e]),c.isLoaded?0===c.files.length?r.createElement("div",{"data-testid":"attachment__empty",className:i.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":a})},o):r.createElement(s,{files:c.files}):r.createElement(i.Spinner,null)},o=function(t){var e=t.store,n=r.useState(e.get("doc")),s=n[0],o=n[1],l=function(t){o(t)};return r.useEffect((function(){return e.subscribe("doc",l),function(){e.unsubscribe("doc",l)}}),[]),s?r.createElement(a,{doc:s}):r.createElement("div",{className:"rpv-attachment__loader"},r.createElement(i.Spinner,null))};e.attachmentPlugin=function(){var t=r.useMemo((function(){return i.createStore({})}),[]);return{onDocumentLoad:function(e){t.update("doc",e.doc)},Attachments:function(){return r.createElement(o,{store:t})}}}},7019:(t,e,n)=>{"use strict";t.exports=n(1531)},3065:(t,e,n)=>{"use strict";var i=n(3237);var r,s=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},o=function(){return s.createElement(i.Icon,{size:16},s.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},l=function(){return s.createElement(i.Icon,{size:16},s.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c=function(t){var e=t.bookmark,n=t.depth,r=t.doc,c=t.index,h=t.isBookmarkExpanded,d=t.numberOfSiblings,p=t.pathFromRoot,f=t.renderBookmarkItem,g=t.store,m=p?"".concat(p,".").concat(c):"".concat(c),v=s.useMemo((function(){return function(t){var e=t.count,n=t.items;if(e>=0)return!1;var i=n.length;if(0===i)return!1;for(var r=n.concat([]);r.length>0;){var s=r.shift(),a=s.items;s.count&&a&&s.count>0&&a.length>0&&(i+=a.length,r=r.concat(a))}return Math.abs(e)===i}(e)}),[e]),b=g.get("bookmarkExpandedMap"),y=h?h({bookmark:e,doc:r,depth:n,index:c}):b.has(m)?b.get(m):!v,_=s.useState(y),x=_[0],w=_[1],S=e.items&&e.items.length>0,k=function(){var t=!x;g.updateCurrentValue("bookmarkExpandedMap",(function(e){return e.set(m,t)})),w(t)},E=function(){var t=e.dest,n=g.get("jumpToDestination");i.getDestination(r,t).then((function(t){n&&n(a({label:e.title},t))}))},C=function(){S&&e.dest&&E()},A=function(){!S&&e.dest&&E()},P=function(t,e){return s.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*n,"rem")},onClick:t},e)},M=function(t,e){return S?s.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(n,"-").concat(c),onClick:k},x?t:e):s.createElement("span",{className:"rpv-bookmark__toggle"})},T=function(t){return e.url?s.createElement("a",{className:"rpv-bookmark__title",href:e.url,rel:"noopener noreferrer nofollow",target:e.newWindow?"_blank":""},e.title):s.createElement("div",{className:"rpv-bookmark__title","aria-label":e.title,onClick:t},e.title)};return s.createElement("li",{"aria-expanded":x?"true":"false","aria-label":e.title,"aria-level":n+1,"aria-posinset":c+1,"aria-setsize":d,role:"treeitem",tabIndex:-1},f?f({bookmark:e,depth:n,hasSubItems:S,index:c,isExpanded:x,path:m,defaultRenderItem:P,defaultRenderTitle:T,defaultRenderToggle:M,onClickItem:A,onClickTitle:C,onToggleSubItems:k}):P(A,s.createElement(s.Fragment,null,M(s.createElement(o,null),s.createElement(l,null)),T(C))),S&&x&&s.createElement(u,{bookmarks:e.items,depth:n+1,doc:r,isBookmarkExpanded:h,isRoot:!1,pathFromRoot:m,renderBookmarkItem:f,store:g}))},u=function(t){var e=t.bookmarks,n=t.depth,i=void 0===n?0:n,r=t.doc,a=t.isBookmarkExpanded,o=t.isRoot,l=t.pathFromRoot,u=t.renderBookmarkItem,h=t.store;return s.createElement("ul",{className:"rpv-bookmark__list",role:o?"tree":"group",tabIndex:-1},e.map((function(t,n){return s.createElement(c,{bookmark:t,depth:i,doc:r,index:n,isBookmarkExpanded:a,key:n,numberOfSiblings:e.length,pathFromRoot:l,renderBookmarkItem:u,store:h})})))};!function(t){t[t.Collapse=0]="Collapse",t[t.Expand=1]="Expand"}(r||(r={}));var h=function(t){var e=t.bookmarks,n=t.doc,i=t.isBookmarkExpanded,a=t.renderBookmarkItem,o=t.store,l=s.useRef(),c=function(t){var e=l.current;if(e&&t.target instanceof HTMLElement&&e.contains(t.target))switch(t.key){case"ArrowDown":t.preventDefault(),d((function(t,e){return t.indexOf(e)+1}));break;case"ArrowLeft":t.preventDefault(),p(r.Collapse);break;case"ArrowRight":t.preventDefault(),p(r.Expand);break;case"ArrowUp":t.preventDefault,d((function(t,e){return t.indexOf(e)-1}));break;case"End":t.preventDefault(),d((function(t,e){return t.length-1}));break;case" ":case"Enter":case"Space":t.preventDefault(),h();break;case"Home":t.preventDefault(),d((function(t,e){return 0}))}},h=function(){var t=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");t&&t.click()},d=function(t){var e=l.current,n=[].slice.call(e.getElementsByClassName("rpv-bookmark__item"));if(0!==n.length){var i=document.activeElement,r=n[Math.min(n.length-1,Math.max(0,t(n,i)))];i.setAttribute("tabindex","-1"),r.setAttribute("tabindex","0"),r.focus()}},p=function(t){var e=l.current;if(0!==[].slice.call(e.getElementsByClassName("rpv-bookmark__item")).length){var n=document.activeElement.closest(".rpv-bookmark__item"),i=t===r.Collapse?"true":"false";if(n&&n.parentElement.getAttribute("aria-expanded")===i){var s=n.querySelector(".rpv-bookmark__toggle");s&&s.click()}}};return s.useEffect((function(){return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[]),s.useEffect((function(){var t=l.current;if(t){var e=[].slice.call(t.getElementsByClassName("rpv-bookmark__item"));e.length>0&&(e[0].focus(),e[0].setAttribute("tabindex","0"))}}),[]),s.createElement("div",{ref:l},s.createElement(u,{bookmarks:e,depth:0,doc:n,isBookmarkExpanded:i,isRoot:!0,pathFromRoot:"",renderBookmarkItem:a,store:o}))},d=function(t){var e=t.doc,n=t.isBookmarkExpanded,r=t.renderBookmarkItem,a=t.store,o=s.useContext(i.LocalizationContext).l10n,l=s.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,c=s.useState({isLoaded:!1,items:[]}),u=c[0],d=c[1];return s.useEffect((function(){d({isLoaded:!1,items:[]}),e.getOutline().then((function(t){d({isLoaded:!0,items:t||[]})}))}),[e]),u.isLoaded?0===u.items.length?s.createElement("div",{"data-testid":"bookmark__empty",className:i.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":l})},o&&o.bookmark?o.bookmark.noBookmark:"There is no bookmark"):s.createElement("div",{"data-testid":"bookmark__container",className:i.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":l})},s.createElement(h,{bookmarks:u.items,doc:e,isBookmarkExpanded:n,renderBookmarkItem:r,store:a})):s.createElement("div",{className:"rpv-bookmark__loader"},s.createElement(i.Spinner,null))},p=function(t){var e=t.isBookmarkExpanded,n=t.renderBookmarkItem,r=t.store,a=s.useState(r.get("doc")),o=a[0],l=a[1],c=function(t){l(t)};return s.useEffect((function(){return r.subscribe("doc",c),function(){r.unsubscribe("doc",c)}}),[]),o?s.createElement(d,{doc:o,isBookmarkExpanded:e,renderBookmarkItem:n,store:r}):s.createElement("div",{className:"rpv-bookmark__loader"},s.createElement(i.Spinner,null))};e.DownArrowIcon=o,e.RightArrowIcon=l,e.bookmarkPlugin=function(){var t=s.useMemo((function(){return i.createStore({bookmarkExpandedMap:new Map})}),[]);return{install:function(e){t.update("jumpToDestination",e.jumpToDestination)},onDocumentLoad:function(e){t.update("doc",e.doc)},Bookmarks:function(e){return s.createElement(p,{isBookmarkExpanded:null==e?void 0:e.isBookmarkExpanded,renderBookmarkItem:null==e?void 0:e.renderBookmarkItem,store:t})}}}},6482:(t,e,n)=>{"use strict";t.exports=n(3065)},4839:(t,e,n)=>{"use strict";var i=n(5043),r=n(6749);function s(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var a,o=s(i),l=s(r);e.AnnotationType=void 0,(a=e.AnnotationType||(e.AnnotationType={}))[a.Text=1]="Text",a[a.Link=2]="Link",a[a.FreeText=3]="FreeText",a[a.Line=4]="Line",a[a.Square=5]="Square",a[a.Circle=6]="Circle",a[a.Polygon=7]="Polygon",a[a.Polyline=8]="Polyline",a[a.Highlight=9]="Highlight",a[a.Underline=10]="Underline",a[a.Squiggly=11]="Squiggly",a[a.StrikeOut=12]="StrikeOut",a[a.Stamp=13]="Stamp",a[a.Caret=14]="Caret",a[a.Ink=15]="Ink",a[a.Popup=16]="Popup",a[a.FileAttachment=17]="FileAttachment";var c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},c(t,e)};function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h,d=function(){return d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)};e.TextDirection=void 0,(h=e.TextDirection||(e.TextDirection={})).RightToLeft="RTL",h.LeftToRight="LTR";var p,f=o.createContext({currentTheme:"light",direction:e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),g=function(t){var e=[];return Object.keys(t).forEach((function(n){n&&t[n]&&e.push(n)})),e.join(" ")},m="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,v=function(t){var e=o.useRef(null),n=t.once,i=t.threshold,r=t.onVisibilityChanged;return m((function(){var t=e.current;if(t){var s=new IntersectionObserver((function(e){e.forEach((function(e){var i=e.isIntersecting,a=e.intersectionRatio;r({isVisible:i,ratio:a}),i&&n&&(s.unobserve(t),s.disconnect())}))}),{threshold:i||0});return s.observe(t),function(){s.unobserve(t),s.disconnect()}}}),[]),e},b=function(t){var n=t.children,i=t.ignoreDirection,r=void 0!==i&&i,s=t.size,a=void 0===s?24:s,l=o.useContext(f).direction,c=!r&&l===e.TextDirection.RightToLeft,u="".concat(a||24,"px");return o.createElement("svg",{"aria-hidden":"true",className:g({"rpv-core__icon":!0,"rpv-core__icon--rtl":c}),focusable:"false",height:u,viewBox:"0 0 24 24",width:u},n)},y=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},_=function(t){var n=t.children,i=t.testId,r=t.onClick,s=o.useContext(f).direction===e.TextDirection.RightToLeft,a=i?{"data-testid":i}:{};return o.createElement("button",d({className:g({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":s}),type:"button",onClick:r},a),n)},x=function(t){var e=t.size,n=void 0===e?"4rem":e,i=t.testId,r=o.useState(!1),s=r[0],a=r[1],l=i?{"data-testid":i}:{},c=v({onVisibilityChanged:function(t){a(t.isVisible)}});return o.createElement("div",d({},l,{className:g({"rpv-core__spinner":!0,"rpv-core__spinner--animating":s}),ref:c,style:{height:n,width:n}}))},w=function(t){var n=t.ariaLabel,i=void 0===n?"":n,r=t.autoFocus,s=void 0!==r&&r,a=t.placeholder,l=void 0===a?"":a,c=t.testId,u=t.type,h=void 0===u?"text":u,p=t.value,v=void 0===p?"":p,b=t.onChange,y=t.onKeyDown,_=void 0===y?function(){}:y,x=o.useContext(f).direction,w=o.useRef(),S=x===e.TextDirection.RightToLeft,k={ref:w,"data-testid":"","aria-label":i,className:g({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":S}),placeholder:l,value:v,onChange:function(t){return b(t.target.value)},onKeyDown:_};return c&&(k["data-testid"]=c),m((function(){if(s){var t=w.current;if(t){var e=window.scrollX,n=window.scrollY;t.focus(),window.scrollTo(e,n)}}}),[]),"text"===h?o.createElement("input",d({type:"text"},k)):o.createElement("input",d({type:"password"},k))};!function(t){t[t.ExitFullScreen=0]="ExitFullScreen",t[t.FullScreenChange=1]="FullScreenChange",t[t.FullScreenElement=2]="FullScreenElement",t[t.FullScreenEnabled=3]="FullScreenEnabled",t[t.RequestFullScreen=4]="RequestFullScreen"}(p||(p={}));var S,k={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},E={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},C={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},A="undefined"!=typeof window,P=A&&(p.FullScreenEnabled in document&&k||E.FullScreenEnabled in document&&E||C.FullScreenEnabled in document&&C)||k,M=function(){return A&&P.FullScreenEnabled in document&&!0===document[P.FullScreenEnabled]},T=function(t){return A?t[P.ExitFullScreen]():Promise.resolve({})},R=function(){return A?document[P.FullScreenElement]:null},F=function(t,e){var n=o.useRef(),i=function(){n.current&&clearTimeout(n.current)};return o.useEffect((function(){return function(){return i()}}),[]),o.useCallback((function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];i(),n.current=setTimeout((function(){t.apply(void 0,r)}),e)}),[t,e])},I=function(){var t=o.useRef(!1);return o.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t},L=function(t){var e=o.useRef(t);return o.useEffect((function(){e.current=t}),[t]),e.current};!function(t){t.NotRenderedYet="NotRenderedYet",t.Rendering="Rendering",t.Rendered="Rendered"}(S||(S={}));var D,O=-9999,N=function(t){var e=t.doc,n=e.numPages,i=e.loadingTask.docId,r=o.useMemo((function(){return Array(n).fill(null).map((function(t,e){return{pageIndex:e,renderStatus:S.NotRenderedYet,visibility:O}}))}),[i]),s=o.useRef({currentRenderingPage:-1,startRange:0,endRange:n-1,visibilities:r}),a=function(t,e){s.current.visibilities[t].visibility=e};return{getHighestPriorityPage:function(){var t=s.current.visibilities.slice(s.current.startRange,s.current.endRange+1).filter((function(t){return t.visibility>O}));if(!t.length)return-1;for(var e=t[0].pageIndex,i=t[t.length-1].pageIndex,r=t.length,a=0;a<r;a++){if(t[a].renderStatus===S.Rendering)return-1;if(t[a].renderStatus===S.NotRenderedYet)return t[a].pageIndex}return i+1<n&&s.current.visibilities[i+1].renderStatus!==S.Rendered?i+1:e-1>=0&&s.current.visibilities[e-1].renderStatus!==S.Rendered?e-1:-1},isInRange:function(t){return t>=s.current.startRange&&t<=s.current.endRange},markNotRendered:function(){for(var t=0;t<n;t++)s.current.visibilities[t].renderStatus=S.NotRenderedYet},markRendered:function(t){s.current.visibilities[t].renderStatus=S.Rendered},markRendering:function(t){-1!==s.current.currentRenderingPage&&s.current.currentRenderingPage!==t&&s.current.visibilities[s.current.currentRenderingPage].renderStatus===S.Rendering&&(s.current.visibilities[s.current.currentRenderingPage].renderStatus=S.NotRenderedYet),s.current.visibilities[t].renderStatus=S.Rendering,s.current.currentRenderingPage=t},setOutOfRange:function(t){a(t,O)},setRange:function(t,e){s.current.startRange=t,s.current.endRange=e;for(var i=0;i<n;i++)(i<t||i>e)&&(s.current.visibilities[i].visibility=O,s.current.visibilities[i].renderStatus=S.NotRenderedYet)},setVisibility:a}},j={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},z=o.createContext({l10n:j,setL10n:function(){}}),B=0,W=function(){return B++},H=function(t,e,n){var i=function(t){var i=e.current;if(i){var r=t.target;if(r instanceof Element&&r.shadowRoot){var s=t.composedPath();s.length>0&&!i.contains(s[0])&&n()}else i.contains(r)||n()}};o.useEffect((function(){if(t){var e={capture:!0};return document.addEventListener("click",i,e),function(){document.removeEventListener("click",i,e)}}}),[])},V=function(t){var e=function(e){"Escape"===e.key&&t()};o.useEffect((function(){return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[])},U=function(t){var n=t.ariaControlsSuffix,i=t.children,r=t.closeOnClickOutside,s=t.closeOnEscape,a=t.onToggle,l=o.useRef(),c=o.useContext(f).direction===e.TextDirection.RightToLeft;return o.useEffect((function(){var t=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=t}}),[]),V((function(){l.current&&s&&a()})),H(r,l,a),m((function(){var t=l.current;if(t){var e=.75*document.body.clientHeight;t.getBoundingClientRect().height>=e&&(t.style.overflow="auto",t.style.maxHeight="".concat(e,"px"))}}),[]),o.createElement("div",{"aria-modal":"true",className:g({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":c}),id:"rpv-core__modal-body-".concat(n),ref:l,role:"dialog",tabIndex:-1},i)},G=function(t){var e=t.children;return o.createElement("div",{className:"rpv-core__modal-overlay"},e)};e.ToggleStatus=void 0,(D=e.ToggleStatus||(e.ToggleStatus={})).Close="Close",D.Open="Open",D.Toggle="Toggle";var q,X=function(t){var n=o.useState(t),i=n[0],r=n[1];return{opened:i,toggle:function(t){switch(t){case e.ToggleStatus.Close:r(!1);break;case e.ToggleStatus.Open:r(!0);break;case e.ToggleStatus.Toggle:default:r((function(t){return!t}))}}}},K=function(t){var e=t.content,n=t.isOpened,i=void 0!==n&&n,r=t.target,s=X(i),a=s.opened,l=s.toggle;return o.createElement(o.Fragment,null,r&&r(l,a),a&&e(l))};e.Position=void 0,(q=e.Position||(e.Position={})).TopLeft="TOP_LEFT",q.TopCenter="TOP_CENTER",q.TopRight="TOP_RIGHT",q.RightTop="RIGHT_TOP",q.RightCenter="RIGHT_CENTER",q.RightBottom="RIGHT_BOTTOM",q.BottomLeft="BOTTOM_LEFT",q.BottomCenter="BOTTOM_CENTER",q.BottomRight="BOTTOM_RIGHT",q.LeftTop="LEFT_TOP",q.LeftCenter="LEFT_CENTER",q.LeftBottom="LEFT_BOTTOM";var Y,Q,J,$,Z,tt,et,nt,it=function(t,n,i,r,s){m((function(){var a=n.current,o=t.current,l=i.current;if(o&&a&&l){var c=l.getBoundingClientRect(),u=function(t,n,i,r){var s=n.getBoundingClientRect(),a=t.getBoundingClientRect(),o=a.height,l=a.width,c=0,u=0;switch(i){case e.Position.TopLeft:c=s.top-o,u=s.left;break;case e.Position.TopCenter:c=s.top-o,u=s.left+s.width/2-l/2;break;case e.Position.TopRight:c=s.top-o,u=s.left+s.width-l;break;case e.Position.RightTop:c=s.top,u=s.left+s.width;break;case e.Position.RightCenter:c=s.top+s.height/2-o/2,u=s.left+s.width;break;case e.Position.RightBottom:c=s.top+s.height-o,u=s.left+s.width;break;case e.Position.BottomLeft:c=s.top+s.height,u=s.left;break;case e.Position.BottomCenter:c=s.top+s.height,u=s.left+s.width/2-l/2;break;case e.Position.BottomRight:c=s.top+s.height,u=s.left+s.width-l;break;case e.Position.LeftTop:c=s.top,u=s.left-l;break;case e.Position.LeftCenter:c=s.top+s.height/2-o/2,u=s.left-l;break;case e.Position.LeftBottom:c=s.top+s.height-o,u=s.left-l}return{left:u+(r.left||0),top:c+(r.top||0)}}(o,a,r,s),h=u.top,d=u.left;o.style.top="".concat(h-c.top,"px"),o.style.left="".concat(d-c.left,"px")}}),[])},rt=function(t){var n,i=t.customClassName,r=t.position;return o.createElement("div",{className:g((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":r===e.Position.TopLeft,"rpv-core__arrow--tc":r===e.Position.TopCenter,"rpv-core__arrow--tr":r===e.Position.TopRight,"rpv-core__arrow--rt":r===e.Position.RightTop,"rpv-core__arrow--rc":r===e.Position.RightCenter,"rpv-core__arrow--rb":r===e.Position.RightBottom,"rpv-core__arrow--bl":r===e.Position.BottomLeft,"rpv-core__arrow--bc":r===e.Position.BottomCenter,"rpv-core__arrow--br":r===e.Position.BottomRight,"rpv-core__arrow--lt":r===e.Position.LeftTop,"rpv-core__arrow--lc":r===e.Position.LeftCenter,"rpv-core__arrow--lb":r===e.Position.LeftBottom},n["".concat(i)]=""!==i,n))})},st=function(t){var n=t.ariaControlsSuffix,i=t.children,r=t.closeOnClickOutside,s=t.offset,a=t.position,l=t.targetRef,c=t.onClose,u=o.useRef(),h=o.useRef(),d=o.useRef(),p=o.useContext(f).direction===e.TextDirection.RightToLeft;H(r,u,c),it(u,l,d,a,s),m((function(){var t=h.current;if(t){var e=.75*document.body.clientHeight;t.getBoundingClientRect().height>=e&&(t.style.overflow="auto",t.style.maxHeight="".concat(e,"px"))}}),[]);var v="rpv-core__popover-body-inner-".concat(n);return o.createElement(o.Fragment,null,o.createElement("div",{ref:d,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{"aria-describedby":v,className:g({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":p}),id:"rpv-core__popover-body-".concat(n),ref:u,role:"dialog",tabIndex:-1},o.createElement(rt,{customClassName:"rpv-core__popover-body-arrow",position:a}),o.createElement("div",{id:v,ref:h},i)))},at=function(t){var e=t.closeOnEscape,n=t.onClose,i=o.useRef();return V((function(){i.current&&e&&n()})),o.createElement("div",{className:"rpv-core__popover-overlay",ref:i})},ot=function(t){var n=t.ariaControlsSuffix,i=t.children,r=t.contentRef,s=t.offset,a=t.position,l=t.targetRef,c=o.useRef(),u=o.useContext(f).direction===e.TextDirection.RightToLeft;return it(r,l,c,a,s),o.createElement(o.Fragment,null,o.createElement("div",{ref:c,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{className:g({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":u}),id:"rpv-core__tooltip-body-".concat(n),ref:r,role:"tooltip"},o.createElement(rt,{customClassName:"rpv-core__tooltip-body-arrow",position:a}),o.createElement("div",{className:"rpv-core__tooltip-body-content"},i)))};e.FullScreenMode=void 0,(Y=e.FullScreenMode||(e.FullScreenMode={})).Normal="Normal",Y.Entering="Entering",Y.Entered="Entered",Y.EnteredCompletely="EnteredCompletely",Y.Exitting="Exitting",Y.Exited="Exited",e.LayerRenderStatus=void 0,(Q=e.LayerRenderStatus||(e.LayerRenderStatus={}))[Q.PreRender=0]="PreRender",Q[Q.DidRender=1]="DidRender",e.PageMode=void 0,(J=e.PageMode||(e.PageMode={})).Attachments="UseAttachments",J.Bookmarks="UseOutlines",J.ContentGroup="UseOC",J.Default="UserNone",J.FullScreen="FullScreen",J.Thumbnails="UseThumbs",e.PasswordStatus=void 0,($=e.PasswordStatus||(e.PasswordStatus={})).RequiredPassword="RequiredPassword",$.WrongPassword="WrongPassword",e.RotateDirection=void 0,(Z=e.RotateDirection||(e.RotateDirection={})).Backward="Backward",Z.Forward="Forward",e.ScrollMode=void 0,(tt=e.ScrollMode||(e.ScrollMode={})).Page="Page",tt.Horizontal="Horizontal",tt.Vertical="Vertical",tt.Wrapped="Wrapped",e.SpecialZoomLevel=void 0,(et=e.SpecialZoomLevel||(e.SpecialZoomLevel={})).ActualSize="ActualSize",et.PageFit="PageFit",et.PageWidth="PageWidth",e.ViewMode=void 0,(nt=e.ViewMode||(e.ViewMode={})).DualPage="DualPage",nt.DualPageWithCover="DualPageWithCover",nt.SinglePage="SinglePage";var lt,ct=function(t,e){return t.reduce((function(t,n,i){return i%e?t[t.length-1].push(n):t.push([n]),t}),[])},ut=function(t,n){switch(n[1].name){case"XYZ":return{bottomOffset:function(t,e){return null===n[3]?e:n[3]},leftOffset:function(t,e){return null===n[2]?0:n[2]},pageIndex:t,scaleTo:n[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:t,scaleTo:e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:n[2],leftOffset:0,pageIndex:t,scaleTo:e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:t,scaleTo:1}}},ht=new Map,dt=new Map,pt=function(t,e){return"".concat(t.loadingTask.docId,"___").concat(e.num,"R").concat(0===e.gen?"":e.gen)},ft=function(t,e,n){ht.set(pt(t,e),n)},gt=function(t,e){if(!t)return Promise.reject("The document is not loaded yet");var n="".concat(t.loadingTask.docId,"___").concat(e),i=dt.get(n);return i?Promise.resolve(i):new Promise((function(i,r){t.getPage(e+1).then((function(r){dt.set(n,r),r.ref&&ft(t,r.ref,e),i(r)}))}))},mt=function(t,e){return new Promise((function(n){new Promise((function(n){"string"==typeof e?t.getDestination(e).then((function(t){n(t)})):n(e)})).then((function(i){if("object"==typeof i[0]&&null!==i[0]){var r=i[0],s=function(t,e){var n=pt(t,e);return ht.has(n)?ht.get(n):null}(t,r);null===s?t.getPageIndex(r).then((function(i){ft(t,r,i),mt(t,e).then((function(t){return n(t)}))})):n(ut(s,i))}else{var a=ut(i[0],i);n(a)}}))}))};!function(t){t[t.Solid=1]="Solid",t[t.Dashed=2]="Dashed",t[t.Beveled=3]="Beveled",t[t.Inset=4]="Inset",t[t.Underline=5]="Underline"}(lt||(lt={}));var vt,bt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),yt=function(t,e,n,i){var r=parseInt(t,10);return r>=e&&r<=n?r:i},_t=function(t){return t.contentsObj?t.contentsObj.str:t.contents||""},xt=function(t){return t.titleObj?t.titleObj.str:t.title||""},wt=function(t){var n=t.annotation,i=o.useContext(f).direction,r=xt(n),s=_t(n),a=i===e.TextDirection.RightToLeft,l=o.useRef(),c="";if(n.modificationDate){var u=function(t){var e=bt.exec(t);if(!e)return null;var n=parseInt(e[1],10),i=yt(e[2],1,12,1)-1,r=yt(e[3],1,31,1),s=yt(e[4],0,23,0),a=yt(e[5],0,59,0),o=yt(e[6],0,59,0),l=e[7]||"Z",c=yt(e[8],0,23,0),u=yt(e[9],0,59,0);switch(l){case"-":s+=c,a+=u;break;case"+":s-=c,a-=u}return new Date(Date.UTC(n,i,r,s,a,o))}(n.modificationDate);c=u?"".concat(u.toLocaleDateString(),", ").concat(u.toLocaleTimeString()):""}return o.useLayoutEffect((function(){if(l.current){var t=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(t){var e=t;return e.style.zIndex+=1,function(){e.style.zIndex="".concat(parseInt(e.style.zIndex,10)-1)}}}}),[]),o.createElement("div",{ref:l,className:g({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":a}),style:{top:n.annotationType===e.AnnotationType.Popup?"":"100%"}},r&&o.createElement(o.Fragment,null,o.createElement("div",{className:g({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!a,"rpv-core__annotation-popup-title--rtl":a})},r),o.createElement("div",{className:"rpv-core__annotation-popup-date"},c)),s&&o.createElement("div",{className:"rpv-core__annotation-popup-content"},s.split("\n").map((function(t,e){return o.createElement(o.Fragment,{key:e},t,o.createElement("br",null))}))))};!function(t){t.Click="Click",t.Hover="Hover"}(vt||(vt={}));var St,kt=function(t){var n,i=t.annotation,r=t.children,s=t.ignoreBorder,a=t.hasPopup,l=t.isRenderable,c=t.page,u=t.viewport,h=i.rect,d=function(){var t=X(!1),n=t.opened,i=t.toggle,r=o.useState(vt.Hover),s=r[0],a=r[1];return{opened:n,closeOnHover:function(){s===vt.Hover&&i(e.ToggleStatus.Close)},openOnHover:function(){s===vt.Hover&&i(e.ToggleStatus.Open)},toggleOnClick:function(){switch(s){case vt.Click:n&&a(vt.Hover),i(e.ToggleStatus.Toggle);break;case vt.Hover:a(vt.Click),i(e.ToggleStatus.Open)}}}}(),p=d.closeOnHover,f=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(n=[h[0],c.view[3]+c.view[1]-h[1],h[2],c.view[3]+c.view[1]-h[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),b=h[2]-h[0],y=h[3]-h[1],_={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!s&&i.borderStyle.width>0){switch(i.borderStyle.style){case lt.Dashed:_.borderStyle="dashed";break;case lt.Solid:_.borderStyle="solid";break;case lt.Underline:_=Object.assign({borderBottomStyle:"solid"},_);case lt.Beveled:case lt.Inset:}var x=i.borderStyle.width;_.borderWidth="".concat(x,"px"),i.borderStyle.style!==lt.Underline&&(b-=2*x,y-=2*x);var w=i.borderStyle,S=w.horizontalCornerRadius,k=w.verticalCornerRadius;(S>0||k>0)&&(_.borderRadius="".concat(S,"px / ").concat(k,"px")),i.color?_.borderColor="rgb(".concat(0|i.color[0],", ").concat(0|i.color[1],", ").concat(0|i.color[2],")"):_.borderWidth="0"}return o.createElement(o.Fragment,null,l&&r({popup:{opened:f,closeOnHover:p,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:"".concat(y,"px"),left:"".concat(v[0],"px"),top:"".concat(v[1],"px"),transform:"matrix(".concat(u.transform.join(","),")"),transformOrigin:"-".concat(v[0],"px -").concat(v[1],"px"),width:"".concat(b,"px")},_)},children:o.createElement(o.Fragment,null,a&&f&&o.createElement(wt,{annotation:i}))}}))},Et=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a);return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},Ct=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a),c=e.rect,u=c[2]-c[0],h=c[3]-c[1],p=e.borderStyle.width;return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),o.createElement("svg",{height:"".concat(h,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(h),width:"".concat(u,"px")},o.createElement("circle",{cy:h/2,fill:"none",rx:u/2-p/2,ry:h/2-p/2,stroke:"transparent",strokeWidth:p||1})),t.slot.children)}))},At=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=xt(e),s=_t(e),a=!(!1!==e.hasPopup||!r&&!s),l=function(){var t,n,i,r,s=e.file;s&&(t=s.filename,i="string"==typeof(n=s.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(r=document.createElement("a")).style.display="none",r.href=i||t,r.setAttribute("download",function(t){var e=t.split("/").pop();return e?e.split("#")[0].split("?")[0]:t}(t)),document.body.appendChild(r),r.click(),document.body.removeChild(r),i&&URL.revokeObjectURL(i))};return o.createElement(kt,{annotation:e,hasPopup:a,ignoreBorder:!0,isRenderable:!0,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},Pt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a);return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},Mt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=xt(e),s=_t(e),a=!(!r&&!s),l=!e.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(e.parentType);return m((function(){if(e.parentId){var t=document.querySelector('[data-annotation-id="'.concat(e.parentId,'"]')),n=document.querySelector('[data-annotation-id="'.concat(e.id,'"]'));if(t&&n){var i=parseFloat(t.style.left),r=parseFloat(t.style.top)+parseFloat(t.style.height);n.style.left="".concat(i,"px"),n.style.top="".concat(r,"px"),n.style.transformOrigin="-".concat(i,"px -").concat(r,"px")}}}),[]),o.createElement(kt,{annotation:e,hasPopup:l,ignoreBorder:!1,isRenderable:a,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":e.id}),o.createElement(wt,{annotation:e}))}))},Tt=function(t){var n=t.annotation,i=t.childAnnotation,r=t.page,s=t.viewport,a=!1===n.hasPopup,l=xt(n),c=_t(n),u=!!(n.hasPopup||l||c);if(n.quadPoints&&n.quadPoints.length>0){var h=n.quadPoints.map((function(t){return Object.assign({},n,{rect:[t[2].x,t[2].y,t[1].x,t[1].y],quadPoints:[]})}));return o.createElement(o.Fragment,null,h.map((function(t,e){return o.createElement(Tt,{key:e,annotation:t,childAnnotation:i,page:r,viewport:s})})))}return o.createElement(kt,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:u,page:r,viewport:s},(function(t){return o.createElement(o.Fragment,null,o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children),i&&i.annotationType===e.AnnotationType.Popup&&t.popup.opened&&o.createElement(Mt,{annotation:i,page:r,viewport:s}))}))},Rt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a),c=e.rect,u=c[2]-c[0],h=c[3]-c[1],p=e.borderStyle.width;return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),e.inkLists&&e.inkLists.length&&o.createElement("svg",{height:"".concat(h,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(h),width:"".concat(u,"px")},e.inkLists.map((function(t,e){return o.createElement("polyline",{key:e,fill:"none",stroke:"transparent",strokeWidth:p||1,points:t.map((function(t){return"".concat(t.x-c[0],",").concat(c[3]-t.y)})).join(" ")})}))),t.slot.children)}))},Ft=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a),c=e.rect,u=c[2]-c[0],h=c[3]-c[1],p=e.borderStyle.width;return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),o.createElement("svg",{height:"".concat(h,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(h),width:"".concat(u,"px")},o.createElement("line",{stroke:"transparent",strokeWidth:p||1,x1:c[2]-e.lineCoordinates[0],x2:c[2]-e.lineCoordinates[2],y1:c[3]-e.lineCoordinates[1],y2:c[3]-e.lineCoordinates[3]})),t.slot.children)}))},It=/^([^\w]*)(javascript|data|vbscript)/im,Lt=/&#(\w+)(^\w|;)?/g,Dt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ot=/^([^:]+):/gm,Nt=function(t){var e,n=t.annotation,i=t.annotationContainerRef,r=t.doc,s=t.outlines,a=t.page,l=t.pageIndex,c=t.scale,u=t.viewport,h=t.onExecuteNamedAction,p=t.onJumpFromLinkAnnotation,f=t.onJumpToDest,g=o.useRef(),m=s&&s.length&&n.dest&&"string"==typeof n.dest?null===(e=s.find((function(t){return t.dest===n.dest})))||void 0===e?void 0:e.title:"",v=!!(n.url||n.dest||n.action||n.unsafeUrl),b={};if(n.url||n.unsafeUrl){var y=function(t,e){void 0===e&&(e="about:blank");var n,i=(n=t||"",n.replace(Lt,(function(t,e){return String.fromCharCode(e)}))).replace(Dt,"").trim();if(!i)return e;var r=i[0];if("."===r||"/"===r)return i;var s=i.match(Ot);if(!s)return i;var a=s[0];return It.test(a)?e:i}(n.url||n.unsafeUrl,"");y?b={"data-target":"external",href:y,rel:"noopener noreferrer nofollow",target:n.newWindow?"_blank":"",title:y}:v=!1}else b={href:"","data-annotation-link":n.id,onClick:function(t){t.preventDefault(),n.action?h(n.action):mt(r,n.dest).then((function(t){var e=g.current,n=i.current;if(e&&n){var r=e.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var s=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var a=(r.left-s.left)/c,o=(s.bottom-r.bottom+r.height)/c;p({bottomOffset:o,label:m,leftOffset:a,pageIndex:l})}f(t)}))}};return m&&(b=Object.assign({},b,{title:m,"aria-label":m})),o.createElement(kt,{annotation:n,hasPopup:!1,ignoreBorder:!1,isRenderable:v,page:a,viewport:u},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":n.id,"data-testid":"core__annotation--link-".concat(n.id)}),o.createElement("a",d({ref:g},b)))}))},jt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a),c=e.rect,u=c[2]-c[0],h=c[3]-c[1],p=e.borderStyle.width;return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),e.vertices&&e.vertices.length&&o.createElement("svg",{height:"".concat(h,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(h),width:"".concat(u,"px")},o.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:p||1,points:e.vertices.map((function(t){return"".concat(t.x-c[0],",").concat(c[3]-t.y)})).join(" ")})),t.slot.children)}))},zt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a),c=e.rect,u=c[2]-c[0],h=c[3]-c[1],p=e.borderStyle.width;return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),e.vertices&&e.vertices.length&&o.createElement("svg",{height:"".concat(h,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(h),width:"".concat(u,"px")},o.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:p||1,points:e.vertices.map((function(t){return"".concat(t.x-c[0],",").concat(c[3]-t.y)})).join(" ")})),t.slot.children)}))},Bt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a),c=e.rect,u=c[2]-c[0],h=c[3]-c[1],p=e.borderStyle.width;return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),o.createElement("svg",{height:"".concat(h,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(h),width:"".concat(u,"px")},o.createElement("rect",{height:h-p,fill:"none",stroke:"transparent",strokeWidth:p||1,x:p/2,y:p/2,width:u-p})),t.slot.children)}))},Wt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a);return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},Ht=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a);return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},Vt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a);return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},Ut=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),o.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),o.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),o.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Gt=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),o.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),o.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),o.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),o.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),o.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),o.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),o.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),o.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),o.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},qt=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),o.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Xt=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),o.createElement("path",{d:"M6 4.5L6 0.5"}),o.createElement("path",{d:"M18 4.5L18 0.5"}),o.createElement("path",{d:"M10 4.5L10 0.5"}),o.createElement("path",{d:"M14 4.5L14 0.5"}))},Kt=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),o.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),o.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Yt=function(){return o.createElement(b,{size:16},o.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Qt=function(t){var n=t.annotation,i=t.childAnnotation,r=t.page,s=t.viewport,a=!1===n.hasPopup,l=xt(n),c=_t(n),u=!!(n.hasPopup||l||c),h=n.name?n.name.toLowerCase():"";return o.createElement(kt,{annotation:n,hasPopup:a,ignoreBorder:!1,isRenderable:u,page:r,viewport:s},(function(t){return o.createElement(o.Fragment,null,o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),h&&o.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===h&&o.createElement(y,null),"comment"===h&&o.createElement(Ut,null),"help"===h&&o.createElement(Gt,null),"insert"===h&&o.createElement(Yt,null),"key"===h&&o.createElement(qt,null),"note"===h&&o.createElement(Xt,null),("newparagraph"===h||"paragraph"===h)&&o.createElement(Kt,null)),t.slot.children),i&&i.annotationType===e.AnnotationType.Popup&&t.popup.opened&&o.createElement(Mt,{annotation:i,page:r,viewport:s}))}))},Jt=function(t){var e=t.annotation,n=t.page,i=t.viewport,r=!1===e.hasPopup,s=xt(e),a=_t(e),l=!!(e.hasPopup||s||a);return o.createElement(kt,{annotation:e,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(t){return o.createElement("div",d({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":e.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover}),t.slot.children)}))},$t=function(t){var n=t.annotations,i=t.doc,r=t.outlines,s=t.page,a=t.pageIndex,l=t.plugins,c=t.rotation,u=t.scale,h=t.onExecuteNamedAction,d=t.onJumpFromLinkAnnotation,p=t.onJumpToDest,f=o.useRef(),g=s.getViewport({rotation:c,scale:u}).clone({dontFlip:!0}),v=n.filter((function(t){return!t.parentId}));return m((function(){var t=f.current;t&&l.forEach((function(e){e.onAnnotationLayerRender&&e.onAnnotationLayerRender({annotations:v,container:t,pageIndex:a,rotation:c,scale:u})}))}),[]),o.createElement("div",{ref:f,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(a)},v.map((function(t){var l=n.find((function(e){return e.parentId===t.id}));switch(t.annotationType){case e.AnnotationType.Caret:return o.createElement(Et,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Circle:return o.createElement(Ct,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.FileAttachment:return o.createElement(At,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.FreeText:return o.createElement(Pt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Highlight:return o.createElement(Tt,{key:t.id,annotation:t,childAnnotation:l,page:s,viewport:g});case e.AnnotationType.Ink:return o.createElement(Rt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Line:return o.createElement(Ft,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Link:return o.createElement(Nt,{key:t.id,annotation:t,annotationContainerRef:f,doc:i,outlines:r,page:s,pageIndex:a,scale:u,viewport:g,onExecuteNamedAction:h,onJumpFromLinkAnnotation:d,onJumpToDest:p});case e.AnnotationType.Polygon:return o.createElement(jt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Polyline:return o.createElement(zt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Popup:return o.createElement(Mt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Square:return o.createElement(Bt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Squiggly:return o.createElement(Wt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Stamp:return o.createElement(Ht,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.StrikeOut:return o.createElement(Vt,{key:t.id,annotation:t,page:s,viewport:g});case e.AnnotationType.Text:return o.createElement(Qt,{key:t.id,annotation:t,childAnnotation:l,page:s,viewport:g});case e.AnnotationType.Underline:return o.createElement(Jt,{key:t.id,annotation:t,page:s,viewport:g});default:return o.createElement(o.Fragment,{key:t.id})}})))},Zt=function(t){var e=t.page,n=t.renderAnnotations,i=I(),r=o.useState({loading:!0,annotations:[]}),s=r[0],a=r[1];return o.useEffect((function(){e.getAnnotations({intent:"display"}).then((function(t){i.current&&a({loading:!1,annotations:t})}))}),[]),s.loading?o.createElement(o.Fragment,null):n(s.annotations)},te=function(t){var e=t.doc,n=t.outlines,i=t.page,r=t.pageIndex,s=t.plugins,a=t.rotation,l=t.scale,c=t.onExecuteNamedAction,u=t.onJumpFromLinkAnnotation,h=t.onJumpToDest;return o.createElement(Zt,{page:i,renderAnnotations:function(t){return o.createElement($t,{annotations:t,doc:e,outlines:n,page:i,pageIndex:r,plugins:s,rotation:a,scale:l,onExecuteNamedAction:c,onJumpFromLinkAnnotation:u,onJumpToDest:h})}})},ee=function(t,e){var n=t%e;return 0===n?t:Math.floor(t-n)},ne=function(t){var n=t.canvasLayerRef,i=t.height,r=t.page,s=t.pageIndex,a=t.plugins,l=t.rotation,c=t.scale,u=t.width,h=t.onRenderCanvasCompleted,d=o.useRef();return m((function(){var t=d.current;t&&t.cancel();var i=n.current;i.removeAttribute("data-testid"),a.forEach((function(t){t.onCanvasLayerRender&&t.onCanvasLayerRender({ele:i,pageIndex:s,rotation:l,scale:c,status:e.LayerRenderStatus.PreRender})}));var o=r.getViewport({rotation:l,scale:c}),u=window.devicePixelRatio||1,p=Math.sqrt(16777216/(o.width*o.height)),f=u>p;f?i.style.transform="scale(1, 1)":i.style.removeProperty("transform");var g=Math.min(p,u),m=function(t,e){var n,i;if(Math.floor(t)===t)return[t,1];var r=1/t;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];for(var s=t>1?r:t,a=0,o=1,l=1,c=1;;){var u=a+l,h=o+c;if(h>8)break;s<=u/h?(l=(n=[u,h])[0],c=n[1]):(a=(i=[u,h])[0],o=i[1])}return s<(a/o+l/c)/2?s===t?[a,o]:[o,a]:s===t?[l,c]:[c,l]}(g),v=m[0],b=m[1];i.width=ee(o.width*g,v),i.height=ee(o.height*g,v),i.style.width="".concat(ee(o.width,b),"px"),i.style.height="".concat(ee(o.height,b),"px"),i.hidden=!0;var y=i.getContext("2d",{alpha:!1}),_=f||1!==u?[g,0,0,g,0,0]:null;return d.current=r.render({canvasContext:y,transform:_,viewport:o}),d.current.promise.then((function(){i.hidden=!1,i.setAttribute("data-testid","core__canvas-layer-".concat(s)),a.forEach((function(t){t.onCanvasLayerRender&&t.onCanvasLayerRender({ele:i,pageIndex:s,rotation:l,scale:c,status:e.LayerRenderStatus.DidRender})})),h()}),(function(){h()})),function(){i&&(i.width=0,i.height=0)}}),[]),o.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(i,"px"),width:"".concat(u,"px")}},o.createElement("canvas",{ref:n}))},ie=function(t){var e=t.height,n=t.page,i=t.rotation,r=t.scale,s=t.width,a=o.useRef();return m((function(){var t=a.current,o=n.getViewport({rotation:i,scale:r});n.getOperatorList().then((function(i){!function(){var t=a.current;t&&(t.innerHTML="")}(),new l.SVGGraphics(n.commonObjs,n.objs).getSVG(i,o).then((function(n){n.style.height="".concat(e,"px"),n.style.width="".concat(s,"px"),t.appendChild(n)}))}))}),[]),o.createElement("div",{className:"rpv-core__svg-layer",ref:a})},re=function(t){var n=t.containerRef,i=t.page,r=t.pageIndex,s=t.plugins,a=t.rotation,c=t.scale,u=t.onRenderTextCompleted,h=o.useRef(),d=function(){var t=n.current;t&&([].slice.call(t.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(e){return t.removeChild(e)})),[].slice.call(t.querySelectorAll('br[role="presentation"]')).forEach((function(e){return t.removeChild(e)})))};return m((function(){var t=h.current;t&&t.cancel();var o=n.current;if(o){o.removeAttribute("data-testid");var p=i.getViewport({rotation:a,scale:c});return s.forEach((function(t){t.onTextLayerRender&&t.onTextLayerRender({ele:o,pageIndex:r,scale:c,status:e.LayerRenderStatus.PreRender})})),i.getTextContent().then((function(t){d(),h.current=l.renderTextLayer({container:o,textContent:t,textContentSource:t,viewport:p}),h.current.promise.then((function(){o.setAttribute("data-testid","core__text-layer-".concat(r)),[].slice.call(o.children).forEach((function(t){t.classList.contains("rpv-core__text-layer-text--not")||t.classList.add("rpv-core__text-layer-text")})),s.forEach((function(t){t.onTextLayerRender&&t.onTextLayerRender({ele:o,pageIndex:r,scale:c,status:e.LayerRenderStatus.DidRender})})),u()}),(function(){o.removeAttribute("data-testid"),u()}))})),function(){var t;d(),null===(t=h.current)||void 0===t||t.cancel()}}}),[]),o.createElement("div",{className:"rpv-core__text-layer",ref:n})},se=function(t){var n=t.doc,i=t.measureRef,r=t.outlines,s=t.pageIndex,a=t.pageRotation,l=t.pageSize,c=t.plugins,u=t.renderPage,h=t.renderQueueKey,d=t.rotation,p=t.scale,f=t.shouldRender,m=t.viewMode,v=t.onExecuteNamedAction,b=t.onJumpFromLinkAnnotation,y=t.onJumpToDest,_=t.onRenderCompleted,w=t.onRotatePage,S=I(),k=o.useState(null),E=k[0],C=k[1],A=o.useState(!1),P=A[0],M=A[1],T=o.useState(!1),R=T[0],F=T[1],L=o.useRef(),D=o.useRef(),O=Math.abs(d+a)%180==0,N=l.pageWidth*p,j=l.pageHeight*p,z=O?N:j,B=O?j:N,W=(l.rotation+d+a)%360,H=o.useRef(0),V=u||function(t){return o.createElement(o.Fragment,null,t.canvasLayer.children,t.textLayer.children,t.annotationLayer.children)};return o.useEffect((function(){C(null),M(!1),F(!1)}),[a,d,p]),o.useEffect((function(){f&&S.current&&!E&&gt(n,s).then((function(t){S.current&&(H.current=h,C(t))}))}),[f,E]),o.useEffect((function(){P&&R&&(h!==H.current?(C(null),M(!1),F(!1)):_(s))}),[P,R]),o.createElement("div",{className:g({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":m===e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":m===e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":m===e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(s),ref:i,style:{height:"".concat(B,"px"),width:"".concat(z,"px")}},E?o.createElement(o.Fragment,null,V({annotationLayer:{attrs:{},children:o.createElement(te,{doc:n,outlines:r,page:E,pageIndex:s,plugins:c,rotation:W,scale:p,onExecuteNamedAction:v,onJumpFromLinkAnnotation:b,onJumpToDest:y})},canvasLayer:{attrs:{},children:o.createElement(ne,{canvasLayerRef:L,height:B,page:E,pageIndex:s,plugins:c,rotation:W,scale:p,width:z,onRenderCanvasCompleted:function(){S.current&&M(!0)}})},canvasLayerRendered:P,doc:n,height:B,pageIndex:s,rotation:W,scale:p,svgLayer:{attrs:{},children:o.createElement(ie,{height:B,page:E,rotation:W,scale:p,width:z})},textLayer:{attrs:{},children:o.createElement(re,{containerRef:D,page:E,pageIndex:s,plugins:c,rotation:W,scale:p,onRenderTextCompleted:function(){S.current&&F(!0)}})},textLayerRendered:R,width:z,markRendered:_,onRotatePage:function(t){return w(s,t)}}),c.map((function(t,e){return t.renderPageLayer?o.createElement(o.Fragment,{key:e},t.renderPageLayer({canvasLayerRef:L,canvasLayerRendered:P,doc:n,height:B,pageIndex:s,rotation:W,scale:p,textLayerRef:D,textLayerRendered:R,width:z})):o.createElement(o.Fragment,{key:e})}))):o.createElement(x,{testId:"core__page-layer-loading-".concat(s)}))},ae=function(t,e){var n=e.rect;return t.height!==n.height||t.width!==n.width?n:t};!function(t){t.Horizontal="Horizontal",t.Vertical="Vertical",t.Both="Both"}(St||(St={}));var oe=function(t){return 1-Math.pow(1-t,4)},le=1e-4,ce={left:0,top:0},ue={capture:!1,passive:!0},he=function(t,e,n){return Math.max(t,Math.min(n,e))},de=function(t,n){if(n!==e.ViewMode.DualPageWithCover)return 0;if(!function(t){var e=t.length;if(1===e)return!1;for(var n=1;n<e;n++)if(t[n].height!==t[0].height||t[n].width!==t[0].width)return!0;return!1}(t))return 2*t[0].width;var i=ct(t.slice(1),2).map((function(t){return 2===t.length?t[0].width+t[1].width:t[0].width})),r=[t[0].width].concat(i);return Math.max.apply(Math,r)},pe={left:0,top:0},fe={left:0,top:0},ge={left:0,top:0},me={left:0,top:0},ve={height:0,width:0},be={left:0,top:0},ye="data-virtual-index",_e=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],xe=function(t){var n=t.enableSmoothScroll,i=t.isRtl,r=t.numberOfItems,s=t.parentRef,a=t.setRenderRange,l=t.sizes,c=t.scrollMode,u=t.viewMode,h=o.useState(!1),p=h[0],f=h[1],g=o.useCallback((function(t){return f(t)}),[]),v=o.useRef(c);v.current=c;var b=o.useRef(u);b.current=u;var y=c===e.ScrollMode.Wrapped||u===e.ViewMode.DualPageWithCover||u===e.ViewMode.DualPage?St.Both:c===e.ScrollMode.Horizontal?St.Horizontal:St.Vertical,_=function(t){var e=t.elementRef,n=t.enableSmoothScroll,i=t.isRtl,r=t.scrollDirection,s=t.onSmoothScroll,a=o.useState(ce),l=a[0],c=a[1],u=o.useState(e.current),h=u[0],d=u[1],p=i?-1:1,f=o.useRef(r);f.current=r;var g=o.useRef(ce),v=o.useRef(!0),b=o.useCallback((function(){v.current=!0,n&&c(g.current),s(!1)}),[]),y=o.useCallback((function(){if(h){switch(f.current){case St.Horizontal:g.current={left:p*h.scrollLeft,top:0};break;case St.Both:g.current={left:p*h.scrollLeft,top:h.scrollTop};break;case St.Vertical:default:g.current={left:0,top:h.scrollTop}}n&&!v.current||c(g.current)}}),[h]);m((function(){d(e.current)})),m((function(){if(h)return h.addEventListener("scroll",y,ue),function(){h.removeEventListener("scroll",y,ue)}}),[h]);var _=o.useCallback((function(t,n){var i=e.current;if(!i)return Promise.resolve();var r={left:0,top:0};switch(f.current){case St.Horizontal:r.left=p*t.left;break;case St.Both:r.left=p*t.left,r.top=t.top;break;case St.Vertical:default:r.top=t.top}return n?(v.current=!1,s(!0),new Promise((function(t,e){!function(t,e,n,i,r,s){void 0===r&&(r=function(t){return t}),void 0===s&&(s=function(){});var a=0,o=0,l=!1;switch(e){case St.Horizontal:o=t.scrollLeft,a=0;case St.Both:o=t.scrollLeft,a=t.scrollTop;break;case St.Vertical:default:o=0,a=t.scrollTop}var c=function(){l||(l=!0,t.scrollLeft=n.left,t.scrollTop=n.top,s())};if(Math.abs(a-n.top)<=le&&e===St.Vertical)c();else if(Math.abs(o-n.left)<=le&&e===St.Horizontal)c();else{var u,h=-1,d=o-n.left,p=a-n.top,f=function(i){-1===h&&(h=i);var s=i-h,g=Math.min(s/400,1),m=r(g),v={left:o-d*m,top:a-p*m};switch(e){case St.Horizontal:t.scrollLeft=v.left;break;case St.Both:t.scrollLeft=v.left,t.scrollTop=v.top;break;case St.Vertical:default:t.scrollTop=v.top}Math.abs(v.top-n.top)<=le&&Math.abs(v.left-n.left)<=le&&!l&&(window.cancelAnimationFrame(u),c()),s<400?u=window.requestAnimationFrame(f):window.cancelAnimationFrame(u)};u=window.requestAnimationFrame(f)}}(i,f.current,r,0,oe,(function(){b(),t()}))}))):new Promise((function(t,e){switch(f.current){case St.Horizontal:i.scrollLeft=r.left;break;case St.Both:i.scrollLeft=r.left,i.scrollTop=r.top;break;case St.Vertical:default:i.scrollTop=r.top}t()}))}),[e]);return{scrollOffset:l,scrollTo:_}}({elementRef:s,enableSmoothScroll:n,isRtl:i,scrollDirection:y,onSmoothScroll:g}),x=_.scrollOffset,w=_.scrollTo,S=function(t){var e=t.elementRef,n=o.useState(e.current),i=n[0],r=n[1],s=o.useRef(!1),a=o.useReducer(ae,{height:0,width:0}),l=a[0],c=a[1];return m((function(){e.current!==i&&r(e.current)})),m((function(){if(i&&!s.current){s.current=!0;var t=i.getBoundingClientRect(),e=t.height,n=t.width;c({rect:{height:e,width:n}})}}),[i]),o.useEffect((function(){if(i){var t=new ResizeObserver((function(t,e){t.forEach((function(t){if(t.target===i){var e=t.contentRect,n=e.height,r=e.width;c({rect:{height:n,width:r}})}}))}));return t.observe(i),function(){t.unobserve(i)}}}),[i]),l}({elementRef:s}),k=o.useRef({scrollOffset:be,measurements:[]});k.current.scrollOffset=x;var E=o.useMemo((function(){return Array(r).fill(-1)}),[]),C=o.useState(E),A=C[0],P=C[1],M=o.useMemo((function(){var t=new IntersectionObserver((function(t){t.forEach((function(t){var e=t.isIntersecting?t.intersectionRatio:-1,n=t.target.getAttribute(ye);if(n){var i=parseInt(n,10);0<=i&&i<r&&P((function(t){return t[i]=e,function(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}([],t,!0)}))}}))}),{threshold:_e});return t}),[]),T=o.useMemo((function(){return c===e.ScrollMode.Page&&u===e.ViewMode.SinglePage?function(t,e,n){for(var i=[],r=0;r<t;r++){var s={height:Math.max(e.height,n[r].height),width:Math.max(e.width,n[r].width)},a=0===r?me:i[r-1].end,o={left:a.left+s.width,top:a.top+s.height};i[r]={index:r,start:a,size:s,end:o,visibility:-1}}return i}(r,S,l):u===e.ViewMode.DualPageWithCover?function(t,n,i,r){for(var s=[],a=0,o=0,l=ge,c=0;c<t;c++){var u=0===c?{height:r===e.ScrollMode.Page?Math.max(n.height,i[c].height):i[c].height,width:r===e.ScrollMode.Page?Math.max(n.width,i[c].width):i[c].width}:{height:r===e.ScrollMode.Page?Math.max(n.height,i[c].height):i[c].height,width:Math.max(n.width/2,i[c].width)};r===e.ScrollMode.Page?l=0===c?ge:{left:c%2==0?u.width:0,top:Math.floor((c-1)/2)*u.height+s[0].end.top}:0===c?(l=ge,a=i[0].height,o=0):c%2==1?(l={left:0,top:a+=o},o=c===t-1?i[c].height:Math.max(i[c].height,i[c+1].height)):l={left:s[c-1].end.left,top:a};var h={left:l.left+u.width,top:l.top+u.height};s[c]={index:c,start:l,size:u,end:h,visibility:-1}}return s}(r,S,l,c):u===e.ViewMode.DualPage?function(t,n,i,r){for(var s=[],a=0,o=0,l=fe,c=0;c<t;c++){var u={height:r===e.ScrollMode.Page?Math.max(n.height,i[c].height):i[c].height,width:Math.max(n.width/2,i[c].width)};r===e.ScrollMode.Page?l={left:c%2==0?0:u.width,top:Math.floor(c/2)*u.height}:c%2==0?(l={left:0,top:a+=o},o=c===t-1?i[c].height:Math.max(i[c].height,i[c+1].height)):l={left:s[c-1].end.left,top:a};var h={left:l.left+u.width,top:l.top+u.height};s[c]={index:c,start:l,size:u,end:h,visibility:-1}}return s}(r,S,l,c):function(t,n,i,r){for(var s=[],a=0,o={left:0,top:0},l=0,c=pe,u=0;u<t;u++){var h=i[u];if(0===u)a=h.width,o={left:0,top:0},l=h.height;else switch(r){case e.ScrollMode.Wrapped:(a+=h.width)<n.width?(c={left:s[u-1].end.left,top:o.top},l=Math.max(l,h.height)):(a=h.width,o={left:(c={left:o.left,top:o.top+l}).left,top:c.top},l=h.height);break;case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:c=s[u-1].end}var d={left:c.left+h.width,top:c.top+h.height};s[u]={index:u,start:c,size:h,end:d,visibility:-1}}return s}(r,S,l,c)}),[c,l,u,S]),R=T[r-1]?{height:T[r-1].end.top,width:T[r-1].end.left}:ve;k.current.measurements=T;var F=o.useMemo((function(){var t=function(t,e,n,i){var r=0;switch(t){case St.Horizontal:r=i.left;break;case St.Vertical:default:r=i.top}var s=e.length-1,a=function(t,e,n,i){for(;t<=e;){var r=(t+e)/2|0,s=i(r);if(s<n)t=r+1;else{if(!(s>n))return r;e=r-1}}return t>0?t-1:0}(0,s,r,(function(n){switch(t){case St.Horizontal:return e[n].start.left;case St.Both:case St.Vertical:default:return e[n].start.top}}));if(t===St.Both)for(var o=e[a].start.top;a-1>=0&&e[a-1].start.top===o&&e[a-1].start.left>=i.left;)a--;for(var l=a;l<=s;){var c={top:e[l].start.top-i.top,left:e[l].start.left-i.left},u={height:n.height-c.top,width:n.width-c.left};if(t===St.Horizontal&&u.width<0)break;if(t===St.Vertical&&u.height<0)break;if(t===St.Both&&(u.width<0||u.height<0))break;l++}return{start:a,end:l}}(y,T,S,x),n=t.start,i=t.end,s=n+A.slice(he(0,r,n),he(0,r,i)).reduce((function(t,e,n,i){return e>i[t]?n:t}),0),o=s=he(0,r-1,s),l=a({endPage:i,numPages:r,startPage:n}),c=l.startPage,h=l.endPage;switch(c=Math.max(c,0),h=Math.min(h,r-1),u){case e.ViewMode.DualPageWithCover:s>0&&(o=s%2==1?s:s-1),c=0===c?0:c%2==1?c:c-1,r-(h=h%2==1?h-1:h)<=2&&(h=r-1);break;case e.ViewMode.DualPage:o=s%2==0?s:s-1,c=c%2==0?c:c-1,h=h%2==1?h:h-1;break;case e.ViewMode.SinglePage:default:o=s}return{startPage:c,endPage:h,maxVisbilityIndex:o}}),[T,S,x,u,A]),I=F.startPage,L=F.endPage,D=F.maxVisbilityIndex,O=o.useMemo((function(){for(var t=[],e=function(e){var n=T[e],i=d(d({},n),{visibility:void 0!==A[e]?A[e]:-1,measureRef:function(t){t&&(t.setAttribute(ye,"".concat(e)),M.observe(t))}});t.push(i)},n=I;n<=L;n++)e(n);return t}),[I,L,A,T]),N=o.useCallback((function(t,i){var s=k.current.measurements[he(0,r-1,t)],a=v.current===e.ScrollMode.Page?be:i;return s?w({left:a.left+s.start.left,top:a.top+s.start.top},n):Promise.resolve()}),[w,n]),j=o.useCallback((function(t,n){var i=k.current.measurements,r=i[t].start,s=i.find((function(t){return t.start.top-r.top>1e-12}));if(!s)return Promise.resolve();var a=s.index;switch(b.current){case e.ViewMode.DualPage:a=a%2==0?a:a+1;break;case e.ViewMode.DualPageWithCover:a=a%2==1?a:a+1}return N(a,n)}),[]),z=o.useCallback((function(t,n){for(var i=k.current.measurements,s=i[t].start,a=t,o=!1,l=r-1;l>=0;l--)if(s.top-i[l].start.top>1e-12){o=!0,a=i[l].index;break}if(!o)return Promise.resolve();switch(b.current){case e.ViewMode.DualPage:a=a%2==0?a:a-1;break;case e.ViewMode.DualPageWithCover:a=a%2==0?a-1:a}return a===t&&(a=t-1),N(a,n)}),[]),B=o.useCallback((function(t,n){if(b.current===e.ViewMode.DualPageWithCover||b.current===e.ViewMode.DualPage)return j(t,n);switch(v.current){case e.ScrollMode.Wrapped:return j(t,n);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return N(t+1,n)}}),[]),W=o.useCallback((function(t,n){if(b.current===e.ViewMode.DualPageWithCover||b.current===e.ViewMode.DualPage)return z(t,n);switch(v.current){case e.ScrollMode.Wrapped:return z(t,n);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return N(t-1,n)}}),[]),H=o.useCallback((function(){return function(t,n){switch(n){case e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(t.width,"px")};case e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(t.height,"px"),width:"100%"}}}(R,v.current)}),[R]),V=o.useCallback((function(t){return function(t,n,i){return i!==e.ScrollMode.Page?{}:{height:"".concat(n.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(t.start.top,"px)")}}(t,S,v.current)}),[S]),U=o.useCallback((function(t){return function(t,n,i,r,s){var a,o,l,c,u,h,d,p=n?"right":"left",f=n?-1:1,g=i.length,m=t.start.left*f,v=t.size,b=v.height,y=v.width;if(r===e.ViewMode.DualPageWithCover){var _=s===e.ScrollMode.Page?0:t.start.top;return 0===t.index||g%2==0&&t.index===g-1?((a={height:"".concat(b,"px"),minWidth:"".concat(de(i,r),"px"),width:"100%"})[p]=0,a.position="absolute",a.top=0,a.transform="translate(".concat(m,"px, ").concat(_,"px)"),a):((o={height:"".concat(b,"px"),width:"".concat(y,"px")})[p]=0,o.position="absolute",o.top=0,o.transform="translate(".concat(m,"px, ").concat(_,"px)"),o)}if(r===e.ViewMode.DualPage)return(l={height:"".concat(b,"px"),width:"".concat(y,"px")})[p]=0,l.position="absolute",l.top=0,l.transform="translate(".concat(m,"px, ").concat(s===e.ScrollMode.Page?0:t.start.top,"px)"),l;switch(s){case e.ScrollMode.Horizontal:return(c={height:"100%",width:"".concat(y,"px")})[p]=0,c.position="absolute",c.top=0,c.transform="translateX(".concat(m,"px)"),c;case e.ScrollMode.Page:return(u={height:"".concat(b,"px"),width:"".concat(y,"px")})[p]=0,u.position="absolute",u.top=0,u;case e.ScrollMode.Wrapped:return(h={height:"".concat(b,"px"),width:"".concat(y,"px")})[p]=0,h.position="absolute",h.top=0,h.transform="translate(".concat(m,"px, ").concat(t.start.top,"px)"),h;case e.ScrollMode.Vertical:default:return(d={height:"".concat(b,"px"),width:"100%"})[p]=0,d.position="absolute",d.top=0,d.transform="translateY(".concat(t.start.top,"px)"),d}}(t,i,l,b.current,v.current)}),[i,l]),G=o.useCallback((function(t,n){var i=k.current,s=i.measurements,a=i.scrollOffset,o=s[he(0,r-1,n)];if(o){var l=v.current===e.ScrollMode.Page?{left:o.start.left,top:o.start.top}:{left:a.left*t,top:a.top*t};return w(l,!1)}return Promise.resolve()}),[]);return o.useEffect((function(){return function(){M.disconnect()}}),[]),{boundingClientRect:S,isSmoothScrolling:p,startPage:I,endPage:L,maxVisbilityIndex:D,virtualItems:O,getContainerStyles:H,getItemContainerStyles:V,getItemStyles:U,scrollToItem:N,scrollToNextItem:B,scrollToPreviousItem:W,zoom:G}},we=function(t,n,i,r,s,a){var o=i;switch(!0){case s===e.ViewMode.DualPageWithCover&&a>=3:case s===e.ViewMode.DualPage&&a>=3:o=2*i;break;default:o=i}switch(r){case e.SpecialZoomLevel.ActualSize:return 1;case e.SpecialZoomLevel.PageFit:return Math.min((t.clientWidth-17)/o,(t.clientHeight-16)/n);case e.SpecialZoomLevel.PageWidth:return(t.clientWidth-17)/o}},Se=function(t){var e=[];return t.map((function(t){e=e.concat(t).concat(function(t){var e=[];return t.items&&t.items.length>0&&(e=e.concat(Se(t.items))),e}(t))})),e},ke={capture:!1,passive:!0},Ee={height:0,width:0},Ce={height:0,width:0},Ae=function(t){var n=t.getCurrentPage,i=t.getCurrentScrollMode,r=t.jumpToPage,s=t.targetRef,a=o.useState(e.FullScreenMode.Normal),l=a[0],c=a[1],u=function(){var t=o.useState(Ee),e=t[0],n=t[1],i=F((function(){n({height:window.innerHeight,width:window.innerWidth})}),100);return m((function(){return window.addEventListener("resize",i,ke),function(){window.removeEventListener("resize",i,ke)}}),[]),e}(),h=o.useState(Ce),d=h[0],p=h[1],f=o.useRef(Ce),g=o.useRef(n()),v=o.useRef(Ce),b=o.useState(s.current),y=b[0],_=b[1],x=o.useRef();m((function(){s.current!==y&&_(s.current)}),[]),m((function(){if(y){var t=new ResizeObserver((function(t){t.forEach((function(t){var e=t.target.getBoundingClientRect(),n=e.height,i=e.width;p({height:n,width:i})}))}));return t.observe(y),function(){t.unobserve(y),t.disconnect()}}}),[y]);var w=o.useCallback((function(t){var n=R();return n&&n!==t?(c(e.FullScreenMode.Normal),T(n)):Promise.resolve()}),[]),S=o.useCallback((function(t){t&&M()&&(_(t),w(t).then((function(){x.current=t,c(e.FullScreenMode.Entering),function(t){A&&t[P.RequestFullScreen]()}(t)})))}),[]),k=o.useCallback((function(){R()&&(c(e.FullScreenMode.Exitting),T(document))}),[]),E=o.useCallback((function(){y&&R()!==y&&c(e.FullScreenMode.Exitting)}),[y]);return o.useEffect((function(){switch(l){case e.FullScreenMode.Entering:x.current&&(x.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),g.current=n(),f.current={height:window.innerHeight,width:window.innerWidth};break;case e.FullScreenMode.Entered:i()===e.ScrollMode.Page?r(g.current).then((function(){c(e.FullScreenMode.EnteredCompletely)})):c(e.FullScreenMode.EnteredCompletely);break;case e.FullScreenMode.Exitting:x.current&&(x.current.style.backgroundColor="",x.current=null),g.current=n();break;case e.FullScreenMode.Exited:c(e.FullScreenMode.Normal),i()===e.ScrollMode.Page&&r(g.current)}}),[l]),o.useEffect((function(){if(l!==e.FullScreenMode.Normal)return l===e.FullScreenMode.Entering&&u.height===d.height&&u.width===d.width&&u.height>0&&u.width>0&&(0===v.current.height||u.height==v.current.height)?(v.current={height:window.innerHeight,width:window.innerWidth},void c(e.FullScreenMode.Entered)):void(l===e.FullScreenMode.Exitting&&f.current.height===u.height&&f.current.width===u.width&&u.height>0&&u.width>0&&c(e.FullScreenMode.Exited))}),[l,u,d]),o.useEffect((function(){var t;return t=E,A&&document.addEventListener(P.FullScreenChange,t),function(){!function(t){A&&document.removeEventListener(P.FullScreenChange,t)}(E)}}),[y]),{enterFullScreenMode:S,exitFullScreenMode:k,fullScreenMode:l}},Pe={buildPageStyles:function(){return{}},transformSize:function(t){return t.size}},Me={left:0,top:0},Te=function(t){var n=t.currentFile,i=t.defaultScale,r=t.doc,s=t.enableSmoothScroll,a=t.initialPage,l=t.initialRotation,c=t.initialScale,u=t.pageLayout,h=t.pageSizes,p=t.plugins,v=t.renderPage,b=t.scrollMode,y=t.setRenderRange,_=t.viewMode,x=t.viewerState,w=t.onDocumentLoad,S=t.onOpenFile,k=t.onPageChange,E=t.onRotate,C=t.onRotatePage,A=t.onZoom,P=r.numPages,M=r.loadingTask.docId,T=o.useContext(z).l10n,R=o.useContext(f),D=R.direction===e.TextDirection.RightToLeft,O=o.useRef(),j=o.useRef(),B=o.useState(a),W=B[0],H=B[1],V=o.useRef(null),U=function(t){var e,n=t.getCurrentPage,i=(e=o.useRef([]),o.useEffect((function(){return function(){e.current=[]}}),[]),{push:function(t){var n=e.current;n.length+1>50&&n.shift(),n.push(t),e.current=n},map:function(t){return e.current.map((function(e){return t(e)}))},pop:function(){var t=e.current;if(0===t.length)return null;var n=t.pop();return e.current=t,n}}),r=function(t){var e=o.useRef([]);return o.useEffect((function(){return function(){e.current=[]}}),[]),{dequeue:function(){var t=e.current;if(0===t.length)return null;var n=t.shift();return e.current=t,n||null},enqueue:function(t){var n=e.current;n.length+1>50&&n.pop(),e.current=[t].concat(n)},map:function(t){return e.current.map((function(e){return t(e)}))}}}(),s=function(){var t=r.dequeue();return t&&i.push(t),t&&t.pageIndex===n()?s():t},a=function(){var t=i.pop();return t&&r.enqueue(t),t&&t.pageIndex===n()?a():t},l=o.useCallback((function(t){i.push(t)}),[]);return{getNextDestination:s,getPreviousDestination:a,markVisitedDestination:l}}({getCurrentPage:function(){return bt.current.pageIndex}}),G=o.useState(l),q=G[0],X=G[1],K=L(q),Y=o.useState(!1),Q=Y[0],J=Y[1],$=o.useState(new Map),Z=$[0],tt=$[1],et=o.useState(b),nt=et[0],it=et[1],rt=L(nt),st=o.useState(_),at=st[0],ot=st[1],lt=L(at),ut=function(t){var e=I(),n=o.useState([]),i=n[0],r=n[1];return o.useEffect((function(){t.getOutline().then((function(t){if(e.current&&null!==t){var n=Se(t);r(n)}}))}),[]),i}(r),pt=o.useState(c),ft=pt[0],mt=pt[1],vt=L(ft),bt=o.useRef(x),yt=o.useRef("string"==typeof i?i:null),_t=o.useRef(-1),xt=o.useRef(-1),wt=o.useRef(a),St=Ae({getCurrentPage:function(){return bt.current.pageIndex},getCurrentScrollMode:function(){return bt.current.scrollMode},jumpToPage:function(t){return Ut(t)},targetRef:j}),kt=o.useState(-1),Et=kt[0],Ct=kt[1],At=o.useState(0),Pt=At[0],Mt=At[1],Tt=N({doc:r});o.useEffect((function(){return function(){ht.clear(),dt.clear()}}),[M]);var Rt=o.useMemo((function(){return Object.assign({},Pe,u)}),[]),Ft=o.useMemo((function(){return Array(P).fill(0).map((function(t,e){var n=[h[e].pageHeight,h[e].pageWidth],i=Math.abs(q)%180==0?{height:n[0],width:n[1]}:{height:n[1],width:n[0]},r={height:i.height*ft,width:i.width*ft};return Rt.transformSize({numPages:P,pageIndex:e,size:r})}))}),[q,ft]),It=xe({enableSmoothScroll:s,isRtl:D,numberOfItems:P,parentRef:j,scrollMode:nt,setRenderRange:y,sizes:Ft,viewMode:at}),Lt=F((function(){!yt.current||bt.current.fullScreenMode!==e.FullScreenMode.Normal||a>0&&wt.current===a||Jt(yt.current)}),200);!function(t){var e=t.targetRef,n=t.onResize;m((function(){var t=new ResizeObserver((function(t){t.forEach((function(t){n(t.target)}))})),i=e.current;if(i)return t.observe(i),function(){t.unobserve(i)}}),[])}({targetRef:j,onResize:Lt});var Dt=function(t){var e=t;p.forEach((function(t){t.onViewerStateChange&&(e=t.onViewerStateChange(e))})),bt.current=e},Ot=function(){return j.current},Nt=function(){return bt.current},jt=o.useCallback((function(t){U.markVisitedDestination(t)}),[]),zt=o.useCallback((function(t){var n=t.pageIndex,i=t.bottomOffset,s=t.leftOffset,a=t.scaleTo,o=j.current,l=bt.current;return o&&l?new Promise((function(t,c){gt(r,n).then((function(r){var c=r.getViewport({scale:1}),u=0,d=("function"==typeof i?i(c.width,c.height):i)||0,p=("function"==typeof s?s(c.width,c.height):s)||0,f=l.scale;switch(a){case e.SpecialZoomLevel.PageFit:u=0,p=0,Jt(e.SpecialZoomLevel.PageFit);break;case e.SpecialZoomLevel.PageWidth:f=we(o,h[n].pageHeight,h[n].pageWidth,e.SpecialZoomLevel.PageWidth,_,P),u=(c.height-d)*f,p*=f,Jt(f);break;default:u=(c.height-d)*f,p*=f}switch(l.scrollMode){case e.ScrollMode.Horizontal:It.scrollToItem(n,{left:p,top:0}).then((function(){t()}));break;case e.ScrollMode.Vertical:default:It.scrollToItem(n,{left:0,top:u}).then((function(){t()}))}}))})):Promise.resolve()}),[]),Bt=o.useCallback((function(t){return U.markVisitedDestination(t),zt(t)}),[]),Wt=o.useCallback((function(){var t=U.getNextDestination();return t?zt(t):Promise.resolve()}),[]),Ht=o.useCallback((function(){var t=U.getPreviousDestination();return t?zt(t):Promise.resolve()}),[]),Vt=o.useCallback((function(){return It.scrollToNextItem(bt.current.pageIndex,Me)}),[]),Ut=o.useCallback((function(t){return 0<=t&&t<P?It.scrollToItem(t,Me):Promise.resolve()}),[]),Gt=o.useCallback((function(){return It.scrollToPreviousItem(bt.current.pageIndex,Me)}),[]),qt=o.useCallback((function(t){var e,n;"pdf"===(e=t.name,n=e.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(e){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(){var t=new Uint8Array(n.result);e(t)}})).then((function(e){S(t.name,e)}))}),[S]),Xt=o.useCallback((function(t){var n=t===e.RotateDirection.Backward?-90:90,i=bt.current.rotation,s=360===i||-360===i?n:i+n;Tt.markNotRendered(),X(s),Dt(d(d({},bt.current),{rotation:s})),E({direction:t,doc:r,rotation:s})}),[]),Kt=o.useCallback((function(t,n){var i=n===e.RotateDirection.Backward?-90:90,s=bt.current.pagesRotation,a=(s.has(t)?s.get(t):l)+i,o=s.set(t,a);tt(o),J((function(t){return!t})),Dt(d(d({},bt.current),{pagesRotation:o,rotatedPage:t})),C({direction:n,doc:r,pageIndex:t,rotation:a}),Tt.markRendering(t),Ct(t)}),[]),Yt=o.useCallback((function(t){Dt(d(d({},bt.current),{scrollMode:t})),it(t)}),[]),Qt=o.useCallback((function(t){Dt(d(d({},bt.current),{viewMode:t})),ot(t)}),[]),Jt=o.useCallback((function(t){var e=j.current,n=bt.current.pageIndex;if(!(n<0||n>=P)){var i=h[n].pageHeight,s=h[n].pageWidth,a=e?"string"==typeof t?we(e,i,s,t,bt.current.viewMode,P):t:1;yt.current="string"==typeof t?t:null,a!==bt.current.scale&&(Mt((function(t){return t+1})),Tt.markNotRendered(),mt(a),A({doc:r,scale:a}),Dt(d(d({},bt.current),{scale:a})))}}),[]),$t=o.useCallback((function(t){St.enterFullScreenMode(t)}),[]),Zt=o.useCallback((function(){St.exitFullScreenMode()}),[]);o.useEffect((function(){Dt(d(d({},bt.current),{fullScreenMode:St.fullScreenMode}))}),[St.fullScreenMode]),o.useEffect((function(){var t={enterFullScreenMode:$t,exitFullScreenMode:Zt,getPagesContainer:Ot,getViewerState:Nt,jumpToDestination:Bt,jumpToNextDestination:Wt,jumpToPreviousDestination:Ht,jumpToNextPage:Vt,jumpToPreviousPage:Gt,jumpToPage:Ut,openFile:qt,rotate:Xt,rotatePage:Kt,setViewerState:Dt,switchScrollMode:Yt,switchViewMode:Qt,zoom:Jt};return p.forEach((function(e){e.install&&e.install(t)})),function(){p.forEach((function(e){e.uninstall&&e.uninstall(t)}))}}),[M]),o.useEffect((function(){w({doc:r,file:n}),p.forEach((function(t){t.onDocumentLoad&&t.onDocumentLoad({doc:r,file:n})}))}),[M]);var te,ee,ne,ie=It.boundingClientRect;te=function(){a&&Ut(a)},ee=ie.height>0&&ie.width>0,ne=o.useRef(!1),m((function(){ee&&!ne.current&&(ne.current=!0,te())}),[te,ee]),m((function(){var t=bt.current.pageIndex;t>-1&&rt!==nt&&It.scrollToItem(t,Me).then((function(){St.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(s||Tt.markNotRendered(),_t.current=-1)}))}),[nt]),m((function(){var t=bt.current.pageIndex;t>-1&&K!==q&&It.scrollToItem(t,Me)}),[q]),m((function(){0!=vt&&vt!=bt.current.scale&&It.zoom(bt.current.scale/vt,bt.current.pageIndex).then((function(){St.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(xt.current=-1)}))}),[ft]),m((function(){if(lt!==bt.current.viewMode){var t=It.startPage,e=It.endPage,n=It.virtualItems;Tt.markNotRendered(),Tt.setRange(t,e);for(var i=function(t){var e=n.find((function(e){return e.index===t}));e&&Tt.setVisibility(t,e.visibility)},r=t;r<=e;r++)i(r);ae()}}),[at]),m((function(){var t=bt.current.pageIndex;t>-1&&lt!==at&&It.scrollToItem(t,Me)}),[at]),m((function(){var t=bt.current.pageIndex;t>0&&t===a&&wt.current===a&&yt.current&&(wt.current=-1,Jt(yt.current))}),[W]),o.useEffect((function(){It.isSmoothScrolling||null!==V.current&&V.current===W||(V.current=W,k({currentPage:W,doc:r}))}),[W,It.isSmoothScrolling]),o.useEffect((function(){St.fullScreenMode===e.FullScreenMode.Entering&&bt.current.scrollMode===e.ScrollMode.Page&&(_t.current=bt.current.pageIndex),St.fullScreenMode===e.FullScreenMode.EnteredCompletely&&bt.current.scrollMode===e.ScrollMode.Page&&s&&(_t.current=-1),St.fullScreenMode===e.FullScreenMode.EnteredCompletely&&yt.current&&(xt.current=bt.current.pageIndex,Jt(yt.current))}),[St.fullScreenMode]),o.useEffect((function(){if(St.fullScreenMode!==e.FullScreenMode.Entering&&St.fullScreenMode!==e.FullScreenMode.Exitting&&!It.isSmoothScrolling){var t=It.startPage,n=It.endPage,i=It.maxVisbilityIndex,r=It.virtualItems,s=i,a=St.fullScreenMode===e.FullScreenMode.Entered||St.fullScreenMode===e.FullScreenMode.EnteredCompletely;if(!(a&&s!==_t.current&&_t.current>-1||a&&s!==xt.current&&xt.current>-1)){H(s),Dt(d(d({},bt.current),{pageIndex:s})),Tt.setRange(t,n);for(var o=function(t){var e=r.find((function(e){return e.index===t}));e&&Tt.setVisibility(t,e.visibility)},l=t;l<=n;l++)o(l);ae()}}}),[It.startPage,It.endPage,It.isSmoothScrolling,It.maxVisbilityIndex,St.fullScreenMode,Q,q,ft]);var re=o.useCallback((function(t){Tt.markRendered(t),ae()}),[Pt]),ae=function(){var t=Tt.getHighestPriorityPage();t>-1&&Tt.isInRange(t)&&(Tt.markRendering(t),Ct(t))},oe=function(t){var e=W-1,n=W+1;switch(t){case"FirstPage":Ut(0);break;case"LastPage":Ut(P-1);break;case"NextPage":n<P&&Ut(n);break;case"PrevPage":e>=0&&Ut(e)}},le=o.useCallback((function(){var t=It.virtualItems,n=[];switch(at){case e.ViewMode.DualPage:n=ct(t,2);break;case e.ViewMode.DualPageWithCover:t.length&&(n=0===t[0].index?[[t[0]]].concat(ct(t.slice(1),2)):ct(t,2));break;case e.ViewMode.SinglePage:default:n=ct(t,1)}var i=T&&T.core?T.core.pageLabel:"Page {{pageIndex}}",s={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:O,style:{height:"100%"}},children:o.createElement(o.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:g({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":nt===e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":D,"rpv-core__inner-pages--single":nt===e.ScrollMode.Page,"rpv-core__inner-pages--vertical":nt===e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":nt===e.ScrollMode.Wrapped}),ref:j,style:{height:"100%",position:"relative"}},children:o.createElement("div",{"data-testid":"core__inner-current-page-".concat(W),style:Object.assign({"--scale-factor":ft},It.getContainerStyles())},n.map((function(t){return o.createElement("div",{className:g({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":nt===e.ScrollMode.Page}),style:It.getItemContainerStyles(t[0]),key:"".concat(t[0].index,"-").concat(at)},t.map((function(t){var n=at===e.ViewMode.DualPageWithCover&&(0===t.index||P%2==0&&t.index===P-1);return o.createElement("div",{"aria-label":i.replace("{{pageIndex}}","".concat(t.index+1)),className:g({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":at===e.ViewMode.DualPage&&t.index%2==0,"rpv-core__inner-page--dual-odd":at===e.ViewMode.DualPage&&t.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":at===e.ViewMode.DualPageWithCover&&!n&&t.index%2==0,"rpv-core__inner-page--dual-cover-odd":at===e.ViewMode.DualPageWithCover&&!n&&t.index%2==1,"rpv-core__inner-page--single":at===e.ViewMode.SinglePage&&nt===e.ScrollMode.Page}),role:"region",key:"".concat(t.index,"-").concat(at),style:Object.assign({},It.getItemStyles(t),Rt.buildPageStyles({numPages:P,pageIndex:t.index,scrollMode:nt,viewMode:at}))},o.createElement(se,{doc:r,measureRef:t.measureRef,outlines:ut,pageIndex:t.index,pageRotation:Z.has(t.index)?Z.get(t.index):0,pageSize:h[t.index],plugins:p,renderPage:v,renderQueueKey:Pt,rotation:q,scale:ft,shouldRender:Et===t.index,viewMode:at,onExecuteNamedAction:oe,onJumpFromLinkAnnotation:jt,onJumpToDest:Bt,onRenderCompleted:re,onRotatePage:Kt}))})))})))}};return p.forEach((function(t){t.renderViewer&&(s=t.renderViewer({containerRef:O,doc:r,pagesContainerRef:j,pagesRotation:Z,pageSizes:h,rotation:q,slot:s,themeContext:R,jumpToPage:Ut,openFile:qt,rotate:Xt,rotatePage:Kt,switchScrollMode:Yt,switchViewMode:Qt,zoom:Jt}))})),s}),[p,It]),ce=o.useCallback((function(t){return o.createElement("div",d({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&ce(t.subSlot))}),[]);return ce(le())},Re=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Fe=function(t){var n=t.defaultScale,i=t.doc,r=t.render,s=t.scrollMode,a=t.viewMode,l=o.useRef(),c=o.useState({pageSizes:[],scale:0}),u=c[0],h=c[1];return o.useLayoutEffect((function(){var t=Array(i.numPages).fill(0).map((function(t,e){return new Promise((function(t,n){gt(i,e).then((function(e){var n=e.getViewport({scale:1});t({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})}))}))}));Promise.all(t).then((function(t){var r=l.current;if(r&&0!==t.length){var o=t[0].pageWidth,c=t[0].pageHeight,u=r.parentElement,d=(u.clientWidth-45)/o,p=(u.clientHeight-45)/c,f=d;switch(s){case e.ScrollMode.Horizontal:f=Math.min(d,p);break;case e.ScrollMode.Vertical:default:f=d}var g,m,v=n?"string"==typeof n?we(u,c,o,n,a,i.numPages):n:(g=f,-1===(m=Re.findIndex((function(t){return t>=g})))||0===m?g:Re[m-1]);h({pageSizes:t,scale:v})}}))}),[i.loadingTask.docId]),0===u.pageSizes.length||0===u.scale?o.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:l},o.createElement(x,null)):r(u.pageSizes,u.scale)},Ie=function(){},Le=function(t){function e(e,n){var i=t.call(this)||this;return i.verifyPassword=e,i.passwordStatus=n,i}return u(e,t),e}(Ie),De=function(t){var n=t.passwordStatus,i=t.renderProtectedView,r=t.verifyPassword,s=t.onDocumentAskPassword,a=o.useContext(z).l10n,l=o.useState(""),c=l[0],u=l[1],h=o.useContext(f).direction===e.TextDirection.RightToLeft,d=function(){return r(c)};return o.useEffect((function(){s&&s({verifyPassword:r})}),[]),i?i({passwordStatus:n,verifyPassword:r}):o.createElement("div",{className:"rpv-core__asking-password-wrapper"},o.createElement("div",{className:g({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":h})},o.createElement("div",{className:"rpv-core__asking-password-message"},n===e.PasswordStatus.RequiredPassword&&a.core.askingPassword.requirePasswordToOpen,n===e.PasswordStatus.WrongPassword&&a.core.wrongPassword.tryAgain),o.createElement("div",{className:"rpv-core__asking-password-body"},o.createElement("div",{className:g({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!h,"rpv-core__asking-password-input--rtl":h})},o.createElement(w,{testId:"core__asking-password-input",type:"password",value:c,onChange:u,onKeyDown:function(t){"Enter"===t.key&&d()}})),o.createElement(_,{onClick:d},a.core.askingPassword.submit))))},Oe=function(t){function e(e){var n=t.call(this)||this;return n.doc=e,n}return u(e,t),e}(Ie),Ne=function(t){function e(e){var n=t.call(this)||this;return n.error=e,n}return u(e,t),e}(Ie),je=function(t){function e(e){var n=t.call(this)||this;return n.percentages=e,n}return u(e,t),e}(Ie),ze=function(t){var n=t.characterMap,i=t.file,r=t.httpHeaders,s=t.render,a=t.renderError,c=t.renderLoader,u=t.renderProtectedView,h=t.transformGetDocumentParams,d=t.withCredentials,p=t.onDocumentAskPassword,m=o.useContext(f).direction===e.TextDirection.RightToLeft,v=o.useState(new je(0)),b=v[0],y=v[1],_=o.useRef(""),w=I();return o.useEffect((function(){_.current="",y(new je(0));var t=new l.PDFWorker({name:"PDFWorker_".concat(Date.now())}),s=Object.assign({httpHeaders:r,withCredentials:d,worker:t},"string"==typeof i?{url:i}:{data:i},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),a=h?h(s):s,o=l.getDocument(a);return o.onPassword=function(t,n){switch(n){case l.PasswordResponses.NEED_PASSWORD:w.current&&y(new Le(t,e.PasswordStatus.RequiredPassword));break;case l.PasswordResponses.INCORRECT_PASSWORD:w.current&&y(new Le(t,e.PasswordStatus.WrongPassword))}},o.onProgress=function(t){var e=t.total>0?Math.min(100,100*t.loaded/t.total):100;w.current&&""===_.current&&y(new je(e))},o.promise.then((function(t){_.current=t.loadingTask.docId,w.current&&y(new Oe(t))}),(function(e){return w.current&&!t.destroyed&&y(new Ne({message:e.message||"Cannot load document",name:e.name}))})),function(){o.destroy(),t.destroy()}}),[i]),b instanceof Le?o.createElement(De,{passwordStatus:b.passwordStatus,renderProtectedView:u,verifyPassword:b.verifyPassword,onDocumentAskPassword:p}):b instanceof Oe?s(b.doc):b instanceof Ne?a?a(b.error):o.createElement("div",{className:g({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":m})},o.createElement("div",{className:"rpv-core__doc-error-text"},b.error.message)):o.createElement("div",{"data-testid":"core__doc-loading",className:g({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":m})},c?c(b.percentages):o.createElement(x,null))},Be=function(t){return{startPage:t.startPage-3,endPage:t.endPage+3}};e.Button=function(t){var n=t.children,i=t.testId,r=t.onClick,s=o.useContext(f).direction===e.TextDirection.RightToLeft,a=i?{"data-testid":i}:{};return o.createElement("button",d({className:g({"rpv-core__button":!0,"rpv-core__button--rtl":s}),type:"button",onClick:r},a),n)},e.Icon=b,e.LazyRender=function(t){var e=t.attrs,n=t.children,i=t.testId,r=o.useState(!1),s=r[0],a=r[1],l=i?d(d({},e),{"data-testid":i}):e,c=v({once:!0,onVisibilityChanged:function(t){t.isVisible&&a(!0)}});return o.createElement("div",d({ref:c},l),s&&n)},e.LocalizationContext=z,e.Menu=function(t){var n=t.children,i=o.useRef(),r=o.useRef([]),s=o.useContext(f).direction===e.TextDirection.RightToLeft,a=function(t){if(i.current)switch(t.key){case"Tab":t.preventDefault();break;case"ArrowDown":t.preventDefault(),l((function(t,e){return e+1}));break;case"ArrowUp":t.preventDefault(),l((function(t,e){return e-1}));break;case"End":t.preventDefault(),l((function(t,e){return t.length-1}));break;case"Home":t.preventDefault(),l((function(t,e){return 0}))}},l=function(t){if(i.current){var e=r.current,n=e.findIndex((function(t){return"0"===t.getAttribute("tabindex")})),s=Math.min(e.length-1,Math.max(0,t(e,n)));n>=0&&n<=e.length-1&&e[n].setAttribute("tabindex","-1"),e[s].setAttribute("tabindex","0"),e[s].focus()}};return m((function(){var t=i.current;if(t){var e=function(t){var e=[];return t.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(n){if(n instanceof HTMLElement){var i=n.parentElement;(i===t||"none"!==window.getComputedStyle(i).display)&&e.push(n)}})),e}(t);r.current=e}}),[]),m((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[]),o.createElement("div",{ref:i,"aria-orientation":"vertical",className:g({"rpv-core__menu":!0,"rpv-core__menu--rtl":s}),role:"menu",tabIndex:0},n)},e.MenuDivider=function(){return o.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},e.MenuItem=function(t){var n=t.checked,i=void 0!==n&&n,r=t.children,s=t.icon,a=void 0===s?null:s,l=t.isDisabled,c=void 0!==l&&l,u=t.testId,h=t.onClick,p=o.useContext(f).direction===e.TextDirection.RightToLeft,m=u?{"data-testid":u}:{};return o.createElement("button",d({className:g({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":c,"rpv-core__menu-item--ltr":!p,"rpv-core__menu-item--rtl":p}),role:"menuitem",tabIndex:-1,type:"button",onClick:h},m),o.createElement("div",{className:g({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!p,"rpv-core__menu-item-icon--rtl":p})},a),o.createElement("div",{className:g({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!p,"rpv-core__menu-item-label--rtl":p})},r),o.createElement("div",{className:g({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!p,"rpv-core__menu-item-check--rtl":p})},i&&o.createElement(y,null)))},e.MinimalButton=function(t){var n=t.ariaLabel,i=void 0===n?"":n,r=t.ariaKeyShortcuts,s=void 0===r?"":r,a=t.children,l=t.isDisabled,c=void 0!==l&&l,u=t.isSelected,h=void 0!==u&&u,p=t.testId,m=t.onClick,v=o.useContext(f).direction===e.TextDirection.RightToLeft,b=p?{"data-testid":p}:{};return o.createElement("button",d({"aria-label":i},s&&{"aria-keyshortcuts":s},c&&{"aria-disabled":!0},{className:g({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":c,"rpv-core__minimal-button--rtl":v,"rpv-core__minimal-button--selected":h}),type:"button",onClick:m},b),a)},e.Modal=function(t){var e=t.ariaControlsSuffix,n=t.closeOnClickOutside,i=t.closeOnEscape,r=t.content,s=t.isOpened,a=void 0!==s&&s,l=t.target,c=e||"".concat(W());return o.createElement(K,{target:l?function(t,e){return o.createElement("div",{"aria-expanded":e?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(c)},l(t,e))}:null,content:function(t){return o.createElement(G,null,o.createElement(U,{ariaControlsSuffix:c,closeOnClickOutside:n,closeOnEscape:i,onToggle:t},r(t)))},isOpened:a})},e.Popover=function(t){var e=t.ariaHasPopup,n=void 0===e?"dialog":e,i=t.ariaControlsSuffix,r=t.closeOnClickOutside,s=t.closeOnEscape,a=t.content,l=t.lockScroll,c=void 0===l||l,u=t.offset,h=t.position,d=t.target,p=X(!1),f=p.opened,g=p.toggle,m=o.useRef(),v=o.useMemo((function(){return i||"".concat(W())}),[]);return o.createElement("div",{ref:m,"aria-expanded":f?"true":"false","aria-haspopup":n,"aria-controls":"rpv-core__popver-body-".concat(v)},d(g,f),f&&o.createElement(o.Fragment,null,c&&o.createElement(at,{closeOnEscape:s,onClose:g}),o.createElement(st,{ariaControlsSuffix:v,closeOnClickOutside:r,offset:u,position:h,targetRef:m,onClose:g},a(g))))},e.PrimaryButton=_,e.ProgressBar=function(t){var n=t.progress,i=o.useContext(f).direction===e.TextDirection.RightToLeft;return o.createElement("div",{className:g({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":i})},o.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(n,"%")}},n,"%"))},e.Separator=function(){return o.createElement("div",{className:"rpv-core__separator"})},e.Spinner=x,e.Splitter=function(t){var n=t.constrain,i=o.useContext(f).direction===e.TextDirection.RightToLeft,r=o.useRef(),s=o.useRef(),a=o.useRef(),l=o.useRef(0),c=o.useRef(0),u=o.useRef(0),h=o.useRef(0),d={capture:!0},p=function(t){var e=r.current,o=s.current,c=a.current;if(e&&o&&c){var d=h.current,p=t.clientX-l.current,f=u.current+(i?-p:p),g=e.parentElement.getBoundingClientRect().width,m=100*f/g;if(e.classList.add("rpv-core__splitter--resizing"),n){var v=g-f-d;if(!n({firstHalfPercentage:m,firstHalfSize:f,secondHalfPercentage:100*v/g,secondHalfSize:v}))return}o.style.width="".concat(m,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),o.classList.add("rpv-core__splitter-sibling--resizing"),c.classList.add("rpv-core__splitter-sibling--resizing")}},g=function(t){var e=r.current,n=s.current,i=a.current;e&&n&&i&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),e.classList.remove("rpv-core__splitter--resizing"),n.classList.remove("rpv-core__splitter-sibling--resizing"),i.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",p,d),document.removeEventListener("mouseup",g,d))};return o.useEffect((function(){var t=r.current;t&&(h.current=t.getBoundingClientRect().width,s.current=t.previousElementSibling,a.current=t.nextElementSibling)}),[]),o.createElement("div",{ref:r,className:"rpv-core__splitter",onMouseDown:function(t){var e=s.current;e&&(l.current=t.clientX,c.current=t.clientY,u.current=e.getBoundingClientRect().width,document.addEventListener("mousemove",p,d),document.addEventListener("mouseup",g,d))}})},e.TextBox=w,e.ThemeContext=f,e.Tooltip=function(t){var n=t.ariaControlsSuffix,i=t.content,r=t.offset,s=t.position,a=t.target,l=X(!1),c=l.opened,u=l.toggle,h=o.useRef(),d=o.useRef(),p=o.useMemo((function(){return n||"".concat(W())}),[]);V((function(){h.current&&document.activeElement&&h.current.contains(document.activeElement)&&g()}));var f=function(){u(e.ToggleStatus.Open)},g=function(){u(e.ToggleStatus.Close)};return o.createElement(o.Fragment,null,o.createElement("div",{ref:h,"aria-describedby":"rpv-core__tooltip-body-".concat(p),onBlur:function(t){t.relatedTarget instanceof HTMLElement&&t.currentTarget.parentElement&&t.currentTarget.parentElement.contains(t.relatedTarget)?d.current&&(d.current.style.display="none"):g()},onFocus:f,onMouseEnter:f,onMouseLeave:g},a),c&&o.createElement(ot,{ariaControlsSuffix:p,contentRef:d,offset:r,position:s,targetRef:h},i()))},e.Viewer=function(t){var n=t.characterMap,i=t.defaultScale,r=t.enableSmoothScroll,s=void 0===r||r,a=t.fileUrl,l=t.httpHeaders,c=void 0===l?{}:l,u=t.initialPage,h=void 0===u?0:u,d=t.pageLayout,p=t.initialRotation,g=void 0===p?0:p,m=t.localization,b=t.plugins,y=void 0===b?[]:b,_=t.renderError,x=t.renderLoader,w=t.renderPage,S=t.renderProtectedView,k=t.scrollMode,E=void 0===k?e.ScrollMode.Vertical:k,C=t.setRenderRange,A=void 0===C?Be:C,P=t.transformGetDocumentParams,M=t.theme,T=void 0===M?{direction:e.TextDirection.LeftToRight,theme:"light"}:M,R=t.viewMode,F=void 0===R?e.ViewMode.SinglePage:R,I=t.withCredentials,D=void 0!==I&&I,O=t.onDocumentAskPassword,N=t.onDocumentLoad,B=void 0===N?function(){}:N,W=t.onPageChange,H=void 0===W?function(){}:W,V=t.onRotate,U=void 0===V?function(){}:V,G=t.onRotatePage,q=void 0===G?function(){}:G,X=t.onSwitchTheme,K=void 0===X?function(){}:X,Y=t.onZoom,Q=void 0===Y?function(){}:Y,J=o.useState({data:a,name:"string"==typeof a?a:"",shouldLoad:!1}),$=J[0],Z=J[1],tt=function(t,e){Z({data:e,name:t,shouldLoad:!0})},et=o.useState(!1),nt=et[0],it=et[1],rt=L($);o.useEffect((function(){var t,e,n,i;t=rt.data,i=typeof(e=a),"string"===(n=typeof t)&&"string"===i&&t===e||"object"===n&&"object"===i&&t.length===e.length&&t.every((function(t,n){return t===e[n]}))||Z({data:a,name:"string"==typeof a?a:"",shouldLoad:nt})}),[a,nt]);var st=v({onVisibilityChanged:function(t){it(t.isVisible),t.isVisible&&Z((function(t){return Object.assign({},t,{shouldLoad:!0})}))}}),at="string"==typeof T?{direction:e.TextDirection.LeftToRight,theme:T}:T,ot=o.useState(m||j),lt=ot[0],ct=ot[1],ut={l10n:lt,setL10n:ct},ht=Object.assign({},{direction:at.direction},function(t,e){var n=o.useMemo((function(){return"auto"===t?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t}),[]),i=o.useState(n),r=i[0],s=i[1],a=L(r);return o.useEffect((function(){if("auto"===t){var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(t){s(t.matches?"dark":"light")};return e.addEventListener("change",n),function(){return e.removeEventListener("change",n)}}}),[]),o.useEffect((function(){r!==a&&e&&e(r)}),[r]),o.useEffect((function(){t!==r&&s(t)}),[t]),{currentTheme:r,setCurrentTheme:s}}(at.theme||"light",K));return o.useEffect((function(){m&&ct(m)}),[m]),o.createElement(z.Provider,{value:ut},o.createElement(f.Provider,{value:ht},o.createElement("div",{ref:st,className:"rpv-core__viewer rpv-core__viewer--".concat(ht.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},$.shouldLoad&&o.createElement(ze,{characterMap:n,file:$.data,httpHeaders:c,render:function(t){return o.createElement(Fe,{defaultScale:i,doc:t,render:function(n,r){return o.createElement(Te,{currentFile:{data:$.data,name:$.name},defaultScale:i,doc:t,enableSmoothScroll:s,initialPage:h,initialRotation:g,initialScale:r,pageLayout:d,pageSizes:n,plugins:y,renderPage:w,scrollMode:E,setRenderRange:A,viewMode:F,viewerState:{file:$,fullScreenMode:e.FullScreenMode.Normal,pageIndex:-1,pageHeight:n[0].pageHeight,pageWidth:n[0].pageWidth,pagesRotation:new Map,rotation:g,scale:r,scrollMode:E,viewMode:F},onDocumentLoad:B,onOpenFile:tt,onPageChange:H,onRotate:U,onRotatePage:q,onZoom:Q})},scrollMode:E,viewMode:F})},renderError:_,renderLoader:x,renderProtectedView:S,transformGetDocumentParams:P,withCredentials:D,onDocumentAskPassword:O}))))},e.Worker=function(t){var e=t.children,n=t.workerUrl;return l.GlobalWorkerOptions.workerSrc=n,o.createElement(o.Fragment,null,e)},e.chunk=ct,e.classNames=g,e.createStore=function(t){var e=t||{},n={},i=function(t,i){var r;e=d(d({},e),((r={})[t]=i,r)),(n[t]||[]).forEach((function(n){return n(e[t])}))},r=function(t){return e[t]};return{subscribe:function(t,e){n[t]=(n[t]||[]).concat(e)},unsubscribe:function(t,e){n[t]=(n[t]||[]).filter((function(t){return t!==e}))},update:function(t,e){i(t,e)},updateCurrentValue:function(t,e){var n=r(t);void 0!==n&&i(t,e(n))},get:function(t){return r(t)}}},e.getDestination=mt,e.getPage=gt,e.isFullScreenEnabled=M,e.isMac=function(){return"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},e.useDebounceCallback=F,e.useIntersectionObserver=v,e.useIsMounted=I,e.useIsomorphicLayoutEffect=m,e.usePrevious=L,e.useRenderQueue=N},3237:(t,e,n)=>{"use strict";t.exports=n(4839)},3541:(t,e,n)=>{"use strict";var i=n(3237),r=n(5043),s=n(7019),a=n(6482),o=n(1666),l=n(9993);var c=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(r),u=function(){return c.createElement(i.Icon,{size:16},c.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"}))},h=function(){return h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},h.apply(this,arguments)},d=function(){return c.createElement(i.Icon,{size:16},c.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},p=function(){return c.createElement(i.Icon,{size:16},c.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},f={left:8,top:0},g={left:-8,top:0},m=function(t){var e=t.attachmentTabContent,n=t.bookmarkTabContent,r=t.store,s=t.thumbnailTabContent,a=t.tabs,o=c.useRef(),l=c.useContext(i.LocalizationContext).l10n,h=c.useState(r.get("isCurrentTabOpened")||!1),m=h[0],v=h[1],b=c.useState(Math.max(r.get("currentTab")||0,0)),y=b[0],_=b[1],x=c.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,w=[{content:s,icon:c.createElement(p,null),title:l&&l.defaultLayout?l.defaultLayout.thumbnail:"Thumbnail"},{content:n,icon:c.createElement(u,null),title:l&&l.defaultLayout?l.defaultLayout.bookmark:"Bookmark"},{content:e,icon:c.createElement(d,null),title:l&&l.defaultLayout?l.defaultLayout.attachment:"Attachment"}],S=a?a(w):w,k=function(t){t>=0&&t<=S.length-1&&(r.update("isCurrentTabOpened",!0),_(t))},E=function(t){v(t)};return c.useEffect((function(){return r.subscribe("currentTab",k),r.subscribe("isCurrentTabOpened",E),function(){r.unsubscribe("currentTab",k),r.unsubscribe("isCurrentTabOpened",E)}}),[]),0===S.length?c.createElement(c.Fragment,null):c.createElement(c.Fragment,null,c.createElement("div",{"data-testid":"default-layout__sidebar",className:i.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":m,"rpv-default-layout__sidebar--ltr":!x,"rpv-default-layout__sidebar--rtl":x}),ref:o},c.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},c.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},S.map((function(t,e){return c.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":y===e,key:e,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(e),role:"tab"},c.createElement(i.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(e),position:x?i.Position.LeftCenter:i.Position.RightCenter,target:c.createElement(i.MinimalButton,{ariaLabel:t.title,isSelected:y===e,onClick:function(){return function(t){if(y===t){r.update("isCurrentTabOpened",!r.get("isCurrentTabOpened"));var e=o.current;e&&e.style.width&&e.style.removeProperty("width")}else r.update("currentTab",t)}(e)}},t.icon),content:function(){return t.title},offset:x?g:f}))}))),c.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(y),id:"rpv-default-layout__sidebar-content",className:i.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":m,"rpv-default-layout__sidebar-content--ltr":!x,"rpv-default-layout__sidebar-content--rtl":x}),role:"tabpanel",tabIndex:-1},S[y].content))),m&&c.createElement(i.Splitter,{constrain:function(t){return t.firstHalfPercentage>=20&&t.firstHalfPercentage<=80}}))};e.defaultLayoutPlugin=function(t){var e=c.useMemo((function(){return i.createStore({isCurrentTabOpened:!1,currentTab:0})}),[]),n=s.attachmentPlugin(),r=a.bookmarkPlugin(),u=o.thumbnailPlugin(t?t.thumbnailPlugin:{}),d=l.toolbarPlugin(t?t.toolbarPlugin:{}),p=n.Attachments,f=r.Bookmarks,g=u.Thumbnails,v=d.Toolbar,b=t?t.sidebarTabs:function(t){return t},y=[n,r,u,d];return{attachmentPluginInstance:n,bookmarkPluginInstance:r,thumbnailPluginInstance:u,toolbarPluginInstance:d,activateTab:function(t){e.update("currentTab",t)},toggleTab:function(t){var n=e.get("currentTab");e.update("isCurrentTabOpened",!e.get("isCurrentTabOpened")),n!==t&&e.update("currentTab",t)},install:function(t){y.forEach((function(e){e.install&&e.install(t)}))},renderPageLayer:function(t){return c.createElement(c.Fragment,null,y.map((function(e,n){return e.renderPageLayer?c.createElement(c.Fragment,{key:n},e.renderPageLayer(t)):c.createElement(c.Fragment,{key:n},c.createElement(c.Fragment,null))})))},renderViewer:function(n){var r=n.slot;y.forEach((function(t){t.renderViewer&&(r=t.renderViewer(h(h({},n),{slot:r})))}));var s=r.subSlot&&r.subSlot.attrs?{className:r.subSlot.attrs.className,"data-testid":r.subSlot.attrs["data-testid"],ref:r.subSlot.attrs.ref,style:r.subSlot.attrs.style}:{};return r.children=c.createElement("div",{className:"rpv-default-layout__container"},c.createElement("div",{"data-testid":"default-layout__main",className:i.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":n.themeContext.direction===i.TextDirection.RightToLeft})},c.createElement(m,{attachmentTabContent:c.createElement(p,null),bookmarkTabContent:c.createElement(f,null),store:e,thumbnailTabContent:c.createElement(g,null),tabs:b}),c.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},c.createElement("div",{className:"rpv-default-layout__toolbar"},t&&t.renderToolbar?t.renderToolbar(v):c.createElement(v,null)),c.createElement("div",h({},s),r.subSlot.children))),r.children),r.subSlot.attrs={},r.subSlot.children=c.createElement(c.Fragment,null),r},uninstall:function(t){y.forEach((function(e){e.uninstall&&e.uninstall(t)}))},onDocumentLoad:function(n){y.forEach((function(t){t.onDocumentLoad&&t.onDocumentLoad(n)})),t&&t.setInitialTab&&t.setInitialTab(n.doc).then((function(t){e.update("currentTab",t),e.update("isCurrentTabOpened",!0)}))},onAnnotationLayerRender:function(t){y.forEach((function(e){e.onAnnotationLayerRender&&e.onAnnotationLayerRender(t)}))},onTextLayerRender:function(t){y.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender(t)}))},onViewerStateChange:function(t){var e=t;return y.forEach((function(t){t.onViewerStateChange&&(e=t.onViewerStateChange(e))})),e}}}},4980:(t,e,n)=>{"use strict";t.exports=n(3541)},1393:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),r.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),r.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),r.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),r.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},a=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M0.5 12L23.5 12"}),r.createElement("path",{d:"M11.5 1L11.5 23"}),r.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),r.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),r.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),r.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},l={left:0,top:8},c=function(t){var e=t.enableShortcuts,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,o=s&&s.fullScreen?s.fullScreen.enterFullScreen:"Full screen",c=e?i.isMac()?"Meta+Ctrl+F":"F11":"";return r.createElement(i.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaKeyShortcuts:c,ariaLabel:o,isDisabled:!i.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:n},r.createElement(a,null)),content:function(){return o},offset:l})},u={left:0,top:8},h=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=n&&n.fullScreen?n.fullScreen.exitFullScreen:"Exit full screen";return r.createElement(i.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:a,testId:"full-screen__exit-button-with-tooltip",onClick:e},r.createElement(s,null)),content:function(){return a},offset:u})},d=function(t,e){var n=r.useState(e.get("fullScreenMode")),s=n[0],a=n[1],o=r.useCallback((function(t){a(t)}),[]);return r.useEffect((function(){return e.subscribe("fullScreenMode",o),function(){e.unsubscribe("fullScreenMode",o)}}),[]),{enterFullScreen:function(){var n=e.get("getPagesContainer");if(n){var i=t(n());e.get("enterFullScreenMode")(i)}},exitFullScreen:function(){e.get("exitFullScreenMode")()},isFullScreen:s===i.FullScreenMode.Entering||s===i.FullScreenMode.EnteredCompletely}},p=function(t){var e=t.children,n=t.enableShortcuts,i=t.getFullScreenTarget,s=t.store,a=d(i,s),o=a.enterFullScreen,l=a.exitFullScreen,u=a.isFullScreen;return(e||function(t){return u?r.createElement(h,{onClick:t.onClick}):r.createElement(c,{enableShortcuts:n,onClick:t.onClick})})({onClick:u?l:o})},f=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,s=n&&n.fullScreen?n.fullScreen.enterFullScreen:"Full screen";return r.createElement(i.MenuItem,{icon:r.createElement(a,null),isDisabled:!i.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:e},s)},g=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=r.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,o=n&&n.fullScreen?n.fullScreen.exitFullScreen:"Exit full screen";return r.createElement("div",{className:i.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!a,"rpv-full-screen__exit-button--rtl":a})},r.createElement(i.MinimalButton,{ariaLabel:o,testId:"full-screen__exit-button",onClick:e},r.createElement(s,null)))},m=function(t){var e=t.children,n=t.getFullScreenTarget,i=t.store,s=d(n,i),a=s.enterFullScreen,o=s.exitFullScreen,l=s.isFullScreen;return l&&(e||function(t){return r.createElement(g,{onClick:t.onClick})})({onClick:l?o:a})},v=function(t){var e=t.store,n=t.onEnterFullScreen,s=t.onExitFullScreen,a=r.useState(e.get("fullScreenMode")),o=a[0],l=a[1],c=r.useCallback((function(t){l(t)}),[]);return r.useEffect((function(){switch(o){case i.FullScreenMode.EnteredCompletely:n(e.get("zoom"));break;case i.FullScreenMode.Exited:s(e.get("zoom"))}}),[o]),r.useEffect((function(){return e.subscribe("fullScreenMode",c),function(){e.unsubscribe("fullScreenMode",c)}}),[]),(o===i.FullScreenMode.Entering||o===i.FullScreenMode.Entered)&&r.createElement("div",{className:"rpv-full-screen__overlay"},r.createElement(i.Spinner,null))},b=function(t){var e=t.containerRef,n=t.getFullScreenTarget,s=t.store,a=d(n,s).enterFullScreen,o=function(t){if(!t.shiftKey&&!t.altKey&&(i.isMac()?t.metaKey&&t.ctrlKey&&"f"===t.key:"F11"===t.key)){var n=e.current;n&&document.activeElement&&n.contains(document.activeElement)&&(t.preventDefault(),a())}};return r.useEffect((function(){if(e.current)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[e.current]),r.createElement(r.Fragment,null)};e.ExitFullScreenIcon=s,e.FullScreenIcon=a,e.fullScreenPlugin=function(t){var e=(null==t?void 0:t.getFullScreenTarget)||function(t){return t},n=r.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},t)}),[]),s=r.useMemo((function(){return i.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:i.FullScreenMode.Normal,zoom:function(){}})}),[]),a=function(t){return r.createElement(p,o({},t,{enableShortcuts:n.enableShortcuts,getFullScreenTarget:e,store:s}))},l=function(){return r.createElement(m,{getFullScreenTarget:e,store:s},null==t?void 0:t.renderExitFullScreenButton)};return{install:function(t){s.update("enterFullScreenMode",t.enterFullScreenMode),s.update("exitFullScreenMode",t.exitFullScreenMode),s.update("getPagesContainer",t.getPagesContainer),s.update("zoom",t.zoom)},onViewerStateChange:function(t){return s.update("fullScreenMode",t.fullScreenMode),t},renderViewer:function(t){var i=t.slot;return i.subSlot&&(i.subSlot.children=r.createElement(r.Fragment,null,n.enableShortcuts&&r.createElement(b,{containerRef:t.containerRef,getFullScreenTarget:e,store:s}),r.createElement(v,{store:s,onEnterFullScreen:n.onEnterFullScreen,onExitFullScreen:n.onExitFullScreen}),r.createElement(l,null),i.subSlot.children)),i},EnterFullScreen:a,EnterFullScreenButton:function(){return r.createElement(a,null,(function(t){return r.createElement(c,o({enableShortcuts:n.enableShortcuts},t))}))},EnterFullScreenMenuItem:function(t){return r.createElement(a,null,(function(e){return r.createElement(f,{onClick:function(){e.onClick(),t.onClick()}})}))}}}},7798:(t,e,n)=>{"use strict";t.exports=n(1393)},9043:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),r.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},o={left:0,top:8},l=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=n&&n.download?n.download.download:"Download";return r.createElement(i.Tooltip,{ariaControlsSuffix:"get-file",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:a,testId:"get-file__download-button",onClick:e},r.createElement(s,null)),content:function(){return a},offset:o})},c=function(t,e){var n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download",e),document.body.appendChild(n),n.click(),document.body.removeChild(n)},u=function(t,e,n){var i=URL.createObjectURL(new Blob([t],{type:n}));c(i,e),i&&URL.revokeObjectURL(i)},h=function(t,e){t.getData().then((function(t){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?u(t,e,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c("data:application/pdf;base64,".concat(function(t){return btoa(Array(t.length).fill("").map((function(e,n){return String.fromCharCode(t[n])})).join(""))}(t)),e):u(t,e,"application/pdf")}))},d=function(t){var e=t.children,n=t.fileNameGenerator,i=t.store,s=r.useState(i.get("file")),a=s[0],o=s[1],c=r.useState(i.get("doc")),u=c[0],d=c[1],p=function(t){d(t)},f=function(t){o(t)};return r.useEffect((function(){return i.subscribe("doc",p),i.subscribe("file",f),function(){i.subscribe("doc",p),i.unsubscribe("file",f)}}),[]),(e||function(t){return r.createElement(l,{onClick:t.onClick})})({onClick:function(){u&&a&&h(u,n(a))}})},p=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=n&&n.download?n.download.download:"Download";return r.createElement(i.MenuItem,{icon:r.createElement(s,null),testId:"get-file__download-menu",onClick:e},a)};e.DownloadIcon=s,e.getFilePlugin=function(t){var e=r.useMemo((function(){return i.createStore({})}),[]),n=function(t){return t.name?(n=(e=t.name).split("/").pop())?n.split("#")[0].split("?")[0]:e:"document.pdf";var e,n},s=function(i){return r.createElement(d,a({},i,{fileNameGenerator:t&&t.fileNameGenerator||n,store:e}))};return{onDocumentLoad:function(t){e.update("doc",t.doc),e.update("file",t.file)},Download:s,DownloadButton:function(){return r.createElement(s,null,(function(t){return r.createElement(l,a({},t))}))},DownloadMenuItem:function(t){return r.createElement(s,null,(function(e){return r.createElement(p,{onClick:function(){e.onClick(),t.onClick()}})}))}}}},9635:(t,e,n)=>{"use strict";t.exports=n(9043)},8889:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),r.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},o=function(t){var e=r.useRef(),n=function(){var n=e.current;n&&(n.click(),t.get("triggerOpenFile")&&t.update("triggerOpenFile",!1))},i=function(t){t&&n()};return r.useEffect((function(){return t.subscribe("triggerOpenFile",i),function(){t.unsubscribe("triggerOpenFile",i)}}),[]),{inputRef:e,openFile:n}},l={left:0,top:8},c=function(t){var e=t.enableShortcuts,n=t.store,a=t.onClick,c=r.useContext(i.LocalizationContext).l10n,u=c&&c.open?c.open.openFile:"Open file",h=o(n),d=h.inputRef,p=h.openFile,f=e?i.isMac()?"Meta+O":"Ctrl+O":"";return r.createElement(i.Tooltip,{ariaControlsSuffix:"open",position:i.Position.BottomCenter,target:r.createElement("div",{className:"rpv-open__input-wrapper"},r.createElement("input",{accept:".pdf",ref:d,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:a}),r.createElement(i.MinimalButton,{ariaKeyShortcuts:f,ariaLabel:u,testId:"open__button",onClick:p},r.createElement(s,null))),content:function(){return u},offset:l})},u=function(t){var e=t.children,n=t.enableShortcuts,i=t.store;return(e||function(t){return r.createElement(c,{enableShortcuts:n,store:i,onClick:t.onClick})})({onClick:function(t){var e=t.target.files;if(e&&e.length){var n=i.get("openFile");n&&n(e[0])}}})},h=function(t){var e=t.store,n=t.onClick,a=r.useContext(i.LocalizationContext).l10n,l=a&&a.open?a.open.openFile:"Open file",c=o(e),u=c.inputRef,h=c.openFile;return r.createElement(i.MenuItem,{icon:r.createElement(s,null),testId:"open__menu",onClick:h},r.createElement("div",{className:"rpv-open__input-wrapper"},r.createElement("input",{accept:".pdf",ref:u,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:n}),l))},d=function(t){var e=t.containerRef,n=t.store,s=function(t){if(!t.shiftKey&&!t.altKey&&"o"===t.key&&(i.isMac()?t.metaKey:t.ctrlKey)){var r=e.current;r&&document.activeElement&&r.contains(document.activeElement)&&(t.preventDefault(),n.update("triggerOpenFile",!0))}};return r.useEffect((function(){if(e.current)return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[e.current]),r.createElement(r.Fragment,null)};e.OpenFileIcon=s,e.openPlugin=function(t){var e=r.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),n=r.useMemo((function(){return i.createStore({})}),[]),s=function(t){return r.createElement(u,a({enableShortcuts:e.enableShortcuts},t,{store:n}))};return{install:function(t){n.update("openFile",t.openFile)},renderViewer:function(t){var i=t.slot,s={children:r.createElement(r.Fragment,null,e.enableShortcuts&&r.createElement(d,{containerRef:t.containerRef,store:n}),i.children)};return a(a({},i),s)},Open:s,OpenButton:function(){return r.createElement(s,null)},OpenMenuItem:function(){return r.createElement(s,null,(function(t){return r.createElement(h,{store:n,onClick:t.onClick})}))}}}},6714:(t,e,n)=>{"use strict";t.exports=n(8889)},2626:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},a=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},l=function(t){var e=r.useState(t.get("currentPage")||0),n=e[0],s=e[1],a=function(t){s(t)};return i.useIsomorphicLayoutEffect((function(){return t.subscribe("currentPage",a),function(){t.unsubscribe("currentPage",a)}}),[]),{currentPage:n}},c=function(t){var e=r.useState(t.get("numberOfPages")||0),n=e[0],i=e[1],s=function(t){i(t)};return r.useEffect((function(){return t.subscribe("numberOfPages",s),function(){t.unsubscribe("numberOfPages",s)}}),[]),{numberOfPages:n}},u=function(t){var e=t.store,n=r.useContext(i.LocalizationContext).l10n,s=r.useState("1"),a=s[0],o=s[1],u=l(e).currentPage,h=c(e).numberOfPages;r.useEffect((function(){return o("".concat(u+1))}),[u]);var d=function(t){var n=e.get("jumpToPage");n&&n(t)},p=n&&n.pageNavigation?n.pageNavigation.enterPageNumber:"Enter a page number";return r.createElement("span",{className:"rpv-page-navigation__current-page-input"},r.createElement(i.TextBox,{ariaLabel:p,testId:"page-navigation__current-page-input",type:"text",value:a,onChange:o,onKeyDown:function(t){switch(t.key){case"ArrowUp":(i=u-1)>=0&&(o("".concat(i+1)),d(i));break;case"ArrowDown":(n=u+1)<h&&(o("".concat(n+1)),d(n));break;case"Enter":e=parseInt(a,10),""===a||e<1||e>h?o("".concat(u+1)):d(e-1)}var e,n,i}}))},h=function(t){var e=t.children,n=t.doc,s=i.useIsMounted(),a=r.useState({loading:!0,labels:[]}),o=a[0],l=a[1];return r.useEffect((function(){n.getPageLabels().then((function(t){s.current&&l({loading:!1,labels:t||[]})}))}),[n.loadingTask.docId]),o.loading?r.createElement(r.Fragment,null):e(o.labels)},d=function(t){var e=t.children,n=t.store,i=function(t){var e=r.useState(t.get("doc")),n=e[0],i=e[1],s=function(t){i(t)};return r.useEffect((function(){return t.subscribe("doc",s),function(){t.unsubscribe("doc",s)}}),[]),n}(n),s=l(n).currentPage,a=c(n).numberOfPages,o=e||function(t){return r.createElement(r.Fragment,null,t.currentPage+1)};return i?r.createElement(h,{doc:i},(function(t){var e=t.length===a&&a>0?t[s]:"";return o({currentPage:s,numberOfPages:a,pageLabel:e})})):r.createElement(r.Fragment,null)},p=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},f={left:0,top:8},g=function(t){var e=t.isDisabled,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,a=s&&s.pageNavigation?s.pageNavigation.goToFirstPage:"First page";return r.createElement(i.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:a,isDisabled:e,testId:"page-navigation__first-button",onClick:n},r.createElement(p,null)),content:function(){return a},offset:f})},m=function(t){var e=t.children,n=t.store;return(e||function(t){return r.createElement(g,{isDisabled:t.isDisabled,onClick:t.onClick})})({isDisabled:0===l(n).currentPage,onClick:function(){var t=n.get("jumpToPage");t&&t(0)}})},v=function(t){var e=t.isDisabled,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,a=s&&s.pageNavigation?s.pageNavigation.goToFirstPage:"First page";return r.createElement(i.MenuItem,{icon:r.createElement(p,null),isDisabled:e,testId:"page-navigation__first-menu",onClick:n},a)},b={left:0,top:8},y=function(t){var e=t.isDisabled,n=t.onClick,a=r.useContext(i.LocalizationContext).l10n,o=a&&a.pageNavigation?a.pageNavigation.goToLastPage:"Last page";return r.createElement(i.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:o,isDisabled:e,testId:"page-navigation__last-button",onClick:n},r.createElement(s,null)),content:function(){return o},offset:b})},_=function(t){var e=t.children,n=t.store,i=l(n).currentPage,s=c(n).numberOfPages;return(e||function(t){return r.createElement(y,{isDisabled:t.isDisabled,onClick:t.onClick})})({isDisabled:i+1>=s,onClick:function(){var t=n.get("jumpToPage");t&&t(s-1)}})},x=function(t){var e=t.isDisabled,n=t.onClick,a=r.useContext(i.LocalizationContext).l10n,o=a&&a.pageNavigation?a.pageNavigation.goToLastPage:"Last page";return r.createElement(i.MenuItem,{icon:r.createElement(s,null),isDisabled:e,testId:"page-navigation__last-menu",onClick:n},o)},w={left:0,top:8},S=function(t){var e=t.isDisabled,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,o=s&&s.pageNavigation?s.pageNavigation.goToNextPage:"Next page";return r.createElement(i.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:o,isDisabled:e,testId:"page-navigation__next-button",onClick:n},r.createElement(a,null)),content:function(){return o},offset:w})},k=function(t){var e=t.children,n=t.store;return(e||function(t){return r.createElement(S,{onClick:t.onClick,isDisabled:t.isDisabled})})({isDisabled:l(n).currentPage+1>=c(n).numberOfPages,onClick:function(){var t=n.get("jumpToNextPage");t&&t()}})},E=function(t){var e=t.isDisabled,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,o=s&&s.pageNavigation?s.pageNavigation.goToNextPage:"Next page";return r.createElement(i.MenuItem,{icon:r.createElement(a,null),isDisabled:e,testId:"page-navigation__next-menu",onClick:n},o)},C=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},A={left:0,top:8},P=function(t){var e=t.isDisabled,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,a=s&&s.pageNavigation?s.pageNavigation.goToPreviousPage:"Previous page";return r.createElement(i.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:a,isDisabled:e,testId:"page-navigation__previous-button",onClick:n},r.createElement(C,null)),content:function(){return a},offset:A})},M=function(t){var e=t.store;return(t.children||function(t){return r.createElement(P,{isDisabled:t.isDisabled,onClick:t.onClick})})({isDisabled:l(e).currentPage<=0,onClick:function(){var t=e.get("jumpToPreviousPage");t&&t()}})},T=function(t){var e=t.isDisabled,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,a=s&&s.pageNavigation?s.pageNavigation.goToPreviousPage:"Previous page";return r.createElement(i.MenuItem,{icon:r.createElement(C,null),isDisabled:e,testId:"page-navigation__previous-menu",onClick:n},a)},R=function(t){var e=t.children,n=t.store,i=c(n).numberOfPages;return e?e({numberOfPages:i}):r.createElement(r.Fragment,null,i)},F=function(t){var e=t.containerRef,n=t.numPages,s=t.store,a=l(s).currentPage,o=r.useRef(a);o.current=a;var c=r.useRef(!1),u=function(){c.current=!0},h=function(){c.current=!1},d=function(t){var r=e.current,a=c.current||document.activeElement&&r.contains(document.activeElement);if(r&&a){var l,u,h=t.altKey&&"ArrowDown"===t.key||!t.shiftKey&&!t.altKey&&"PageDown"===t.key,d=t.altKey&&"ArrowUp"===t.key||!t.shiftKey&&!t.altKey&&"PageUp"===t.key;if(h)return t.preventDefault(),l=s.get("jumpToPage"),u=o.current+1,void(l&&u<n&&l(u));if(d)return t.preventDefault(),void function(){var t=s.get("jumpToPage"),e=o.current-1;t&&e>=0&&t(e)}();if(i.isMac()?t.metaKey&&!t.ctrlKey:t.altKey)switch(t.key){case"ArrowLeft":t.preventDefault(),function(){var t=s.get("jumpToPreviousDestination");t&&t()}();break;case"ArrowRight":t.preventDefault(),function(){var t=s.get("jumpToNextDestination");t&&t()}()}}};return r.useEffect((function(){var t=e.current;if(t)return document.addEventListener("keydown",d),t.addEventListener("mouseenter",u),t.addEventListener("mouseleave",h),function(){document.removeEventListener("keydown",d),t.removeEventListener("mouseenter",u),t.removeEventListener("mouseleave",h)}}),[e.current]),r.createElement(r.Fragment,null)};e.DownArrowIcon=s,e.NextIcon=a,e.PreviousIcon=C,e.UpArrowIcon=p,e.pageNavigationPlugin=function(t){var e=r.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),n=r.useMemo((function(){return i.createStore()}),[]),s=function(t){return r.createElement(m,o({},t,{store:n}))},a=function(t){return r.createElement(_,o({},t,{store:n}))},l=function(t){return r.createElement(k,o({},t,{store:n}))},c=function(t){return r.createElement(M,o({},t,{store:n}))};return{install:function(t){n.update("jumpToDestination",t.jumpToDestination),n.update("jumpToNextDestination",t.jumpToNextDestination),n.update("jumpToNextPage",t.jumpToNextPage),n.update("jumpToPage",t.jumpToPage),n.update("jumpToPreviousDestination",t.jumpToPreviousDestination),n.update("jumpToPreviousPage",t.jumpToPreviousPage)},renderViewer:function(t){var i=t.slot;if(!e.enableShortcuts)return i;var s={children:r.createElement(r.Fragment,null,r.createElement(F,{containerRef:t.containerRef,numPages:t.doc.numPages,store:n}),i.children)};return o(o({},i),s)},onDocumentLoad:function(t){n.update("doc",t.doc),n.update("numberOfPages",t.doc.numPages)},onViewerStateChange:function(t){return n.update("currentPage",t.pageIndex),t},jumpToNextPage:function(){var t=n.get("jumpToNextPage");t&&t()},jumpToPage:function(t){var e=n.get("jumpToPage");e&&e(t)},jumpToPreviousPage:function(){var t=n.get("jumpToPreviousPage");t&&t()},CurrentPageInput:function(){return r.createElement(u,{store:n})},CurrentPageLabel:function(t){return r.createElement(d,o({},t,{store:n}))},GoToFirstPage:s,GoToFirstPageButton:function(){return r.createElement(s,null,(function(t){return r.createElement(g,o({},t))}))},GoToFirstPageMenuItem:function(t){return r.createElement(s,null,(function(e){return r.createElement(v,{isDisabled:e.isDisabled,onClick:function(){e.onClick(),t.onClick()}})}))},GoToLastPage:a,GoToLastPageButton:function(){return r.createElement(a,null,(function(t){return r.createElement(y,o({},t))}))},GoToLastPageMenuItem:function(t){return r.createElement(a,null,(function(e){return r.createElement(x,{isDisabled:e.isDisabled,onClick:function(){e.onClick(),t.onClick()}})}))},GoToNextPage:l,GoToNextPageButton:function(){return r.createElement(l,null,(function(t){return r.createElement(S,o({},t))}))},GoToNextPageMenuItem:function(t){return r.createElement(l,null,(function(e){return r.createElement(E,{isDisabled:e.isDisabled,onClick:function(){e.onClick(),t.onClick()}})}))},GoToPreviousPage:c,GoToPreviousPageButton:function(){return r.createElement(c,null,(function(t){return r.createElement(P,o({},t))}))},GoToPreviousPageMenuItem:function(t){return r.createElement(c,null,(function(e){return r.createElement(T,{isDisabled:e.isDisabled,onClick:function(){e.onClick(),t.onClick()}})}))},NumberOfPages:function(t){return r.createElement(R,o({},t,{store:n}))}}}},5038:(t,e,n)=>{"use strict";t.exports=n(2626)},3197:(t,e,n)=>{"use strict";var i=n(3237),r=n(5043),s=n(7950);var a,o=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(r),l=function(){return o.createElement(i.Icon,{size:16},o.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n            M3.5,8.499\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n            M14.5,0.499v4h4"}))},c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)},u={left:0,top:8},h=function(t){var e=t.enableShortcuts,n=t.onClick,r=o.useContext(i.LocalizationContext).l10n,s=r&&r.print?r.print.print:"Print",a=e?i.isMac()?"Meta+P":"Ctrl+P":"";return o.createElement(i.Tooltip,{ariaControlsSuffix:"print",position:i.Position.BottomCenter,target:o.createElement(i.MinimalButton,{ariaKeyShortcuts:a,ariaLabel:s,testId:"print__button",onClick:n},o.createElement(l,null)),content:function(){return s},offset:u})};!function(t){t.CheckingPermission="CheckingPermission",t.Inactive="Inactive",t.Preparing="Preparing",t.Cancelled="Cancelled",t.Ready="Ready"}(a||(a={}));var d=function(t){var e=t.children,n=t.enableShortcuts,i=t.store;return(e||h)({enableShortcuts:n,onClick:function(){i.update("printStatus",a.CheckingPermission)}})},p=function(t){var e=t.doc,n=t.store,r=o.useContext(i.LocalizationContext).l10n,s=o.useState(!0),l=s[0],c=s[1];return o.useEffect((function(){e.getPermissions().then((function(t){null===t||t.includes(4)||t.includes(2048)?n.update("printStatus",a.Preparing):c(!1)}))}),[]),l?o.createElement(o.Fragment,null):o.createElement(i.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(t){return o.createElement(o.Fragment,null,o.createElement("div",{className:"rpv-print__permission-body"},r&&r.print?r.print.disallowPrint:"The document does not allow to print"),o.createElement("div",{className:"rpv-print__permission-footer"},o.createElement(i.Button,{onClick:function(){t(),n.update("printStatus",a.Cancelled)}},r&&r.print?r.print.close:"Close")))},isOpened:!0})},f=function(t){var e=t.numLoadedPages,n=t.numPages,r=t.onCancel,s=o.useContext(i.LocalizationContext).l10n,a=o.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,l=Math.floor(100*e/n);return o.createElement("div",{className:"rpv-print__progress"},o.createElement("div",{className:i.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":a})},o.createElement("div",{className:"rpv-print__progress-message"},s&&s.print?s.print.preparingDocument:"Preparing document ..."),o.createElement("div",{className:"rpv-print__progress-bar"},o.createElement(i.ProgressBar,{progress:l})),o.createElement(i.Button,{onClick:r},s&&s.print?s.print.cancel:"Cancel")))},g=function(t){var e=t.canvas,n=t.page,r=t.pageHeight,s=t.pageIndex,a=t.pageWidth,l=t.rotation,c=t.onLoad,u=i.useIsMounted(),h=o.useRef(),d=o.useState(""),p=d[0],f=d[1],g=o.useMemo((function(){return"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.JEST_WORKER_ID}),[]);return o.useEffect((function(){var t=h.current;t&&t.cancel();var i=150/72;e.height=Math.floor(r*i),e.width=Math.floor(a*i);var s=e.getContext("2d");s.save(),s.fillStyle="rgb(255, 255, 255)",s.fillRect(0,0,e.width,e.height),s.restore();var o=n.getViewport({rotation:l,scale:1});h.current=n.render({canvasContext:s,intent:"print",transform:[i,0,0,i,0,0],viewport:o}),h.current.promise.then((function(){"toBlob"in e&&"createObjectURL"in URL?e.toBlob((function(t){u.current&&f(URL.createObjectURL(t)),g&&c()})):(u.current&&f(e.toDataURL()),g&&c())}),(function(){}))}),[]),p&&o.createElement("div",{className:"rpv-print__page"},o.createElement("img",{"data-testid":"print__thumbnail-".concat(s),src:p,onLoad:function(){g||c()}}))},m=function(t){var e=t.canvas,n=t.doc,r=t.pageIndex,s=t.pageRotation,a=t.pageSize,l=t.rotation,c=t.shouldRender,u=t.onLoad,h=i.useIsMounted(),d=o.useState(null),p=d[0],f=d[1],m=Math.abs(l+s)%180==0;o.useEffect((function(){c&&i.getPage(n,r).then((function(t){h.current&&f(t)}))}),[c]);var v=(a.rotation+l+s)%360;return p&&o.createElement(g,{canvas:e,page:p,pageHeight:m?a.pageHeight:a.pageWidth,pageIndex:r,pageWidth:m?a.pageWidth:a.pageHeight,rotation:v,onLoad:u})},v=function(t){var e=t.doc,n=t.numLoadedPages,i=t.pagesRotation,r=t.pageSizes,l=t.printPages,c=t.printStatus,u=t.rotation,h=t.onCancel,d=t.onLoad,p=o.useMemo((function(){return document.createElement("canvas")}),[]),f=o.useMemo((function(){var t=document.querySelector(".rpv-print__zone");if(t)return t;var e=document.createElement("div");return e.classList.add("rpv-print__zone"),e.setAttribute("data-testid","print__zone"),document.body.appendChild(e),e}),[]);o.useEffect((function(){c===a.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var t=function(){if(c===a.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var e=document.querySelectorAll(".rpv-print__zone");e&&e.forEach((function(t){t.parentElement.removeChild(t)})),p.height=0,p.width=0,document.removeEventListener("mousemove",t),h()}};return document.addEventListener("mousemove",t),function(){return document.removeEventListener("mousemove",t)}}),[c]);var g=r[0].pageHeight,v=r[0].pageWidth;return s.createPortal(o.createElement(o.Fragment,null,l.map((function(t,s){return o.createElement(m,{key:t,canvas:p,doc:e,pageIndex:t,pageRotation:i.has(t)?i.get(t):0,pageSize:r[t],rotation:u,shouldRender:s===n,onLoad:d})})),o.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(v,"pt ").concat(g,"pt }")}})),f)},b=function(t){var e=t.doc,n=t.pagesRotation,i=t.pageSizes,r=t.renderProgressBar,s=t.rotation,l=t.setPages,c=t.store,u=o.useState(a.Inactive),h=u[0],d=u[1],g=o.useState(0),m=g[0],b=g[1],y=o.useMemo((function(){var t=e.numPages;return l(e).filter((function(e){return e>=0&&e<t}))}),[e,l]),_=y.length,x=function(){b(0),d(a.Inactive)},w=function(t){return d(t)};return o.useEffect((function(){return c.subscribe("printStatus",w),function(){c.unsubscribe("printStatus",w)}}),[]),o.createElement(o.Fragment,null,h===a.CheckingPermission&&o.createElement(p,{doc:e,store:c}),h===a.Preparing&&(r?r(m,_,x):o.createElement(f,{numLoadedPages:m,numPages:_,onCancel:x})),(h===a.Preparing||h===a.Ready)&&m<=_&&o.createElement(v,{doc:e,numLoadedPages:m,pagesRotation:n,pageSizes:i,printPages:y,printStatus:h,rotation:s,onCancel:x,onLoad:function(){var t=m+1;t<=_&&(b(t),t===_&&d(a.Ready))}}))},y=function(t){var e=t.onClick,n=o.useContext(i.LocalizationContext).l10n,r=n&&n.print?n.print.print:"Print";return o.createElement(i.MenuItem,{icon:o.createElement(l,null),testId:"print__menu",onClick:e},r)},_=function(t){var e=t.containerRef,n=t.store,r=function(t){if(!t.shiftKey&&!t.altKey&&"p"===t.key&&(i.isMac()?t.metaKey:t.ctrlKey)){var r=e.current;r&&document.activeElement&&r.contains(document.activeElement)&&(t.preventDefault(),n.update("printStatus",a.Preparing))}};return o.useEffect((function(){if(e.current)return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}),[e.current]),o.createElement(o.Fragment,null)};e.PrintIcon=l,e.getAllPagesNumbers=function(t){return Array(t.numPages).fill(0).map((function(t,e){return e}))},e.getCustomPagesNumbers=function(t){return function(e){var n,i=[];return t.replace(/\s+/g,"").split(",").forEach((function(t){var e,n,r=t.split("-").map((function(t){return parseInt(t,10)})).filter((function(t){return Number.isInteger(t)}));1===r.length?i.push(r[0]-1):2===r.length&&i.push.apply(i,(e=r[0]-1,n=r[1]-1,Array(n-e+1).fill(0).map((function(t,n){return e+n}))))})),(n=i,n.filter((function(t){return n.indexOf(t)===n.lastIndexOf(t)}))).filter((function(t){return t>=0&&t<e.numPages}))}},e.getEvenPagesNumbers=function(t){return Array(t.numPages).fill(0).map((function(t,e){return e})).filter((function(t){return(t+1)%2==0}))},e.getOddPagesNumbers=function(t){return Array(t.numPages).fill(0).map((function(t,e){return e})).filter((function(t){return(t+1)%2==1}))},e.printPlugin=function(t){var e=o.useMemo((function(){return Object.assign({},{enableShortcuts:!0,setPages:function(t){return Array(t.numPages).fill(0).map((function(t,e){return e}))}},t)}),[]),n=o.useMemo((function(){return i.createStore({printStatus:a.Inactive})}),[]),r=function(t){return o.createElement(d,c({enableShortcuts:e.enableShortcuts},t,{store:n}))};return{print:function(){n.update("printStatus",a.CheckingPermission)},renderViewer:function(i){var r=i.slot,s={children:o.createElement(o.Fragment,null,e.enableShortcuts&&o.createElement(_,{containerRef:i.containerRef,store:n}),o.createElement(b,{doc:i.doc,pagesRotation:i.pagesRotation,pageSizes:i.pageSizes,renderProgressBar:null==t?void 0:t.renderProgressBar,rotation:i.rotation,setPages:e.setPages,store:n}),r.children)};return c(c({},r),s)},Print:r,PrintButton:function(){return o.createElement(r,null,(function(t){return o.createElement(h,c({},t))}))},PrintMenuItem:function(t){return o.createElement(r,null,(function(e){return o.createElement(y,{onClick:function(){e.onClick(),t.onClick()}})}))},setPages:function(t){e.setPages=t}}}},4301:(t,e,n)=>{"use strict";t.exports=n(3197)},1991:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n            M14.5,17.005H13\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n            M11.745,6.504L11.745,6.504\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},o=function(t){var e=t.doc,n=t.render,s=r.useState(),a=s[0],o=s[1];return r.useEffect((function(){e.getMetadata().then((function(t){return Promise.resolve(t)})).then((function(t){return e.getDownloadInfo().then((function(e){return Promise.resolve({fileName:t.contentDispositionFilename||"",info:t.info,length:e.length})}))})).then((function(t){o(t)}))}),[]),a?n(a):r.createElement("div",{className:"rpv-properties__loader"},r.createElement(i.Spinner,null))},l=function(t){var e=t.label,n=t.value,s=r.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft;return r.createElement("dl",{className:i.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":s})},r.createElement("dt",{className:"rpv-properties__item-label"},e,":"),r.createElement("dd",{className:"rpv-properties__item-value"},n||"-"))},c=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),u=function(t,e,n,i){var r=parseInt(t,10);return r>=e&&r<=n?r:i},h=function(t){var e=t.doc,n=t.fileName,s=t.onToggle,a=r.useContext(i.LocalizationContext).l10n,h=function(t){var e=function(t){var e=c.exec(t);if(!e)return null;var n=parseInt(e[1],10),i=u(e[2],1,12,1)-1,r=u(e[3],1,31,1),s=u(e[4],0,23,0),a=u(e[5],0,59,0),o=u(e[6],0,59,0),l=e[7]||"Z",h=u(e[8],0,23,0),d=u(e[9],0,59,0);switch(l){case"-":s+=h,a+=d;break;case"+":s-=h,a-=d}return new Date(Date.UTC(n,i,r,s,a,o))}(t);return e?"".concat(e.toLocaleDateString(),", ").concat(e.toLocaleTimeString()):""};return r.createElement("div",{className:"rpv-properties__modal"},r.createElement(o,{doc:e,render:function(t){return r.createElement(r.Fragment,null,r.createElement("div",{className:"rpv-properties__modal-section"},r.createElement(l,{label:a&&a.properties?a.properties.fileName:"File name",value:t.fileName||(c=n,u=c.split("/").pop(),u?u.split("#")[0].split("?")[0]:c)}),r.createElement(l,{label:a&&a.properties?a.properties.fileSize:"File size",value:(s=t.length,o=Math.floor(Math.log(s)/Math.log(1024)),"".concat((s/Math.pow(1024,o)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][o]))})),r.createElement(i.Separator,null),r.createElement("div",{className:"rpv-properties__modal-section"},r.createElement(l,{label:a&&a.properties?a.properties.title:"Title",value:t.info.Title}),r.createElement(l,{label:a&&a.properties?a.properties.author:"Author",value:t.info.Author}),r.createElement(l,{label:a&&a.properties?a.properties.subject:"Subject",value:t.info.Subject}),r.createElement(l,{label:a&&a.properties?a.properties.keywords:"Keywords",value:t.info.Keywords}),r.createElement(l,{label:a&&a.properties?a.properties.creator:"Creator",value:t.info.Creator}),r.createElement(l,{label:a&&a.properties?a.properties.creationDate:"Creation date",value:h(t.info.CreationDate)}),r.createElement(l,{label:a&&a.properties?a.properties.modificationDate:"Modification date",value:h(t.info.ModDate)})),r.createElement(i.Separator,null),r.createElement("div",{className:"rpv-properties__modal-section"},r.createElement(l,{label:a&&a.properties?a.properties.pdfProducer:"PDF producer",value:t.info.Producer}),r.createElement(l,{label:a&&a.properties?a.properties.pdfVersion:"PDF version",value:t.info.PDFFormatVersion}),r.createElement(l,{label:a&&a.properties?a.properties.pageCount:"Page count",value:"".concat(e.numPages)})));var s,o,c,u}}),r.createElement("div",{className:"rpv-properties__modal-footer"},r.createElement(i.Button,{onClick:s},a&&a.properties?a.properties.close:"Close")))},d={left:0,top:8},p=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=n&&n.properties?n.properties.showProperties:"Show properties";return r.createElement(i.Tooltip,{ariaControlsSuffix:"properties",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:a,testId:"properties__button",onClick:e},r.createElement(s,null)),content:function(){return a},offset:d})},f=function(t){var e=t.children,n=t.store,s=function(t){var e=r.useState(t.get("doc")),n=e[0],i=e[1],s=function(t){i(t)};return r.useEffect((function(){return t.subscribe("doc",s),function(){t.unsubscribe("doc",s)}}),[]),{currentDoc:n}}(n).currentDoc,o=n.get("fileName")||"",l=e||function(t){return r.createElement(p,a({},t))};return s?r.createElement(i.Modal,{ariaControlsSuffix:"properties",target:function(t){return l({onClick:t})},content:function(t){return r.createElement(h,{doc:s,fileName:o,onToggle:t})},closeOnClickOutside:!0,closeOnEscape:!0}):r.createElement(r.Fragment,null)},g=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=n&&n.properties?n.properties.showProperties:"Show properties";return r.createElement(i.MenuItem,{icon:r.createElement(s,null),testId:"properties__menu",onClick:e},a)};e.InfoIcon=s,e.propertiesPlugin=function(){var t=r.useMemo((function(){return i.createStore({fileName:""})}),[]),e=function(e){return r.createElement(f,a({},e,{store:t}))};return{onDocumentLoad:function(e){t.update("doc",e.doc)},onViewerStateChange:function(e){return t.update("fileName",e.file.name),e},ShowProperties:e,ShowPropertiesButton:function(){return r.createElement(f,{store:t})},ShowPropertiesMenuItem:function(t){return r.createElement(e,null,(function(t){return r.createElement(g,a({},t))}))}}}},2155:(t,e,n)=>{"use strict";t.exports=n(1991)},5031:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{ignoreDirection:!0,size:16},r.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n            M13.5,1.75L10,4.25l3.5,2.5"}))},a=function(){return r.createElement(i.Icon,{ignoreDirection:!0,size:16},r.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n            M10.5,1.75l3.5,2.5l-3.5,2.5"}))},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},l={left:0,top:8},c=function(t){var e=t.direction,n=t.onClick,o=r.useContext(i.LocalizationContext).l10n,c=o&&o.rotate?o.rotate.rotateBackward:"Rotate counterclockwise",u=o&&o.rotate?o.rotate.rotateForward:"Rotate clockwise",h=e===i.RotateDirection.Backward?c:u,d=e===i.RotateDirection.Backward?r.createElement(s,null):r.createElement(a,null);return r.createElement(i.Tooltip,{ariaControlsSuffix:"rotate",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:h,testId:e===i.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:n},d),content:function(){return h},offset:l})},u=function(t){var e=t.children,n=t.direction,i=t.store;return(e||function(t){return r.createElement(c,{direction:t.direction,onClick:t.onClick})})({direction:n,onClick:function(){var t=i.get("rotate");t&&t(n)}})},h=function(t){var e=t.direction,n=t.onClick,o=r.useContext(i.LocalizationContext).l10n,l=o&&o.rotate?o.rotate.rotateBackward:"Rotate counterclockwise",c=o&&o.rotate?o.rotate.rotateForward:"Rotate clockwise",u=e===i.RotateDirection.Backward?l:c,h=e===i.RotateDirection.Backward?r.createElement(s,null):r.createElement(a,null);return r.createElement(i.MenuItem,{icon:h,testId:e===i.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:n},u)},d=function(t){var e=t.children,n=t.store;return e({onRotatePage:function(t,e){var i=n.get("rotatePage");i&&i(t,e)}})};e.RotateBackwardIcon=s,e.RotateForwardIcon=a,e.rotatePlugin=function(){var t=r.useMemo((function(){return i.createStore()}),[]),e=function(e){return r.createElement(u,o({},e,{store:t}))};return{install:function(e){t.update("rotate",e.rotate),t.update("rotatePage",e.rotatePage)},Rotate:e,RotateBackwardButton:function(){return r.createElement(e,{direction:i.RotateDirection.Backward},(function(t){return r.createElement(c,o({},t))}))},RotateBackwardMenuItem:function(t){return r.createElement(e,{direction:i.RotateDirection.Backward},(function(e){return r.createElement(h,{direction:e.direction,onClick:function(){e.onClick(),t.onClick()}})}))},RotateForwardButton:function(){return r.createElement(e,{direction:i.RotateDirection.Forward},(function(t){return r.createElement(c,o({},t))}))},RotateForwardMenuItem:function(t){return r.createElement(e,{direction:i.RotateDirection.Forward},(function(e){return r.createElement(h,{direction:e.direction,onClick:function(){e.onClick(),t.onClick()}})}))},RotatePage:function(e){return r.createElement(d,o({},e,{store:t}))}}}},2153:(t,e,n)=>{"use strict";t.exports=n(5031)},5317:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),r.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),r.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},a=function(){return r.createElement(i.Icon,{size:16},r.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),r.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},o=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))},l=function(){return r.createElement(i.Icon,{size:16},r.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)},u=function(t,e){t.get("switchScrollMode")(e);var n=t.get("viewMode");e!==i.ScrollMode.Horizontal&&e!==i.ScrollMode.Wrapped||n===i.ViewMode.SinglePage||t.get("switchViewMode")(i.ViewMode.SinglePage)},h=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},d=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},p=function(t){var e=t.children,n=t.mode,s=t.onClick,a=r.useContext(i.LocalizationContext).l10n,c="",u=r.createElement(h,null);switch(n){case i.ScrollMode.Horizontal:c=a&&a.scrollMode?a.scrollMode.horizontalScrolling:"Horizontal scrolling",u=r.createElement(o,null);break;case i.ScrollMode.Page:c=a&&a.scrollMode?a.scrollMode.pageScrolling:"Page scrolling",u=r.createElement(l,null);break;case i.ScrollMode.Wrapped:c=a&&a.scrollMode?a.scrollMode.wrappedScrolling:"Wrapped scrolling",u=r.createElement(d,null);break;case i.ScrollMode.Vertical:default:c=a&&a.scrollMode?a.scrollMode.verticalScrolling:"Vertical scrolling",u=r.createElement(h,null)}return e({icon:u,label:c,onClick:s})},f={left:0,top:8},g=function(t){var e=t.isDisabled,n=t.isSelected,s=t.mode,a=t.onClick,o="";switch(s){case i.ScrollMode.Horizontal:o="scroll-mode__horizontal-button";break;case i.ScrollMode.Page:o="scroll-mode__page-button";break;case i.ScrollMode.Wrapped:o="scroll-mode__wrapped-button";break;case i.ScrollMode.Vertical:default:o="scroll-mode__vertical-button"}return r.createElement(p,{mode:s,onClick:a},(function(t){return r.createElement(i.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:t.label,isDisabled:e,isSelected:n,testId:o,onClick:t.onClick},t.icon),content:function(){return t.label},offset:f})}))},m=function(t){var e=r.useState(t.get("scrollMode")||i.ScrollMode.Vertical),n=e[0],s=e[1],a=function(t){s(t)};return r.useEffect((function(){return t.subscribe("scrollMode",a),function(){t.unsubscribe("scrollMode",a)}}),[]),{scrollMode:n}},v=function(t){var e=r.useState(t.get("viewMode")||i.ViewMode.SinglePage),n=e[0],s=e[1],a=function(t){s(t)};return r.useEffect((function(){return t.subscribe("viewMode",a),function(){t.unsubscribe("viewMode",a)}}),[]),{viewMode:n}},b=function(t){var e=t.children,n=t.mode,s=t.store,a=v(s).viewMode,o=m(s).scrollMode===n,l=(n===i.ScrollMode.Horizontal||n===i.ScrollMode.Wrapped)&&a!==i.ViewMode.SinglePage;return(e||function(t){return r.createElement(g,{isDisabled:l,isSelected:o,mode:t.mode,onClick:t.onClick})})({isDisabled:l,isSelected:o,mode:n,onClick:function(){u(s,n)}})},y=function(t){var e=t.isDisabled,n=t.isSelected,s=t.mode,a=t.onClick,o="";switch(s){case i.ScrollMode.Horizontal:o="scroll-mode__horizontal-menu";break;case i.ScrollMode.Page:o="scroll-mode__page-menu";break;case i.ScrollMode.Wrapped:o="scroll-mode__wrapped-menu";break;case i.ScrollMode.Vertical:default:o="scroll-mode__vertical-menu"}return r.createElement(p,{mode:s,onClick:a},(function(t){return r.createElement(i.MenuItem,{checked:n,icon:t.icon,isDisabled:e,testId:o,onClick:t.onClick},t.label)}))},_=function(t,e){t.get("switchViewMode")(e);var n=t.get("scrollMode");n!==i.ScrollMode.Horizontal&&n!==i.ScrollMode.Wrapped||e===i.ViewMode.SinglePage||t.get("switchScrollMode")(i.ScrollMode.Vertical)},x=function(t){var e=t.children,n=t.mode,o=t.onClick,c=r.useContext(i.LocalizationContext).l10n,u="",h=r.createElement(l,null);switch(n){case i.ViewMode.DualPage:u=c&&c.scrollMode?c.scrollMode.dualPage:"Dual page",h=r.createElement(a,null);break;case i.ViewMode.DualPageWithCover:u=c&&c.scrollMode?c.scrollMode.dualPageCover:"Dual page with cover",h=r.createElement(s,null);break;case i.ViewMode.SinglePage:default:u=c&&c.scrollMode?c.scrollMode.singlePage:"Single page",h=r.createElement(l,null)}return e({icon:h,label:u,onClick:o})},w={left:0,top:8},S=function(t){var e=t.isDisabled,n=t.isSelected,s=t.mode,a=t.onClick,o="";switch(s){case i.ViewMode.DualPage:o="view-mode__dual-button";break;case i.ViewMode.DualPageWithCover:o="view-mode__dual-cover-button";break;case i.ViewMode.SinglePage:default:o="view-mode__single-button"}return r.createElement(x,{mode:s,onClick:a},(function(t){return r.createElement(i.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:t.label,isDisabled:e,isSelected:n,testId:o,onClick:t.onClick},t.icon),content:function(){return t.label},offset:w})}))},k=function(t){var e=t.children,n=t.mode,s=t.store,a=v(s).viewMode,o=m(s).scrollMode,l=a===n,c=(o===i.ScrollMode.Horizontal||o===i.ScrollMode.Wrapped)&&n!==i.ViewMode.SinglePage;return(e||function(t){return r.createElement(S,{isDisabled:c,isSelected:l,mode:t.mode,onClick:t.onClick})})({isDisabled:c,isSelected:l,mode:n,onClick:function(){_(s,n)}})},E=function(t){var e=t.isDisabled,n=t.isSelected,s=t.mode,a=t.onClick,o="";switch(s){case i.ViewMode.DualPage:o="view-mode__dual-menu";break;case i.ViewMode.DualPageWithCover:o="view-mode__dual-cover-menu";break;case i.ViewMode.SinglePage:default:o="view-mode__single-menu"}return r.createElement(x,{mode:s,onClick:a},(function(t){return r.createElement(i.MenuItem,{checked:n,icon:t.icon,isDisabled:e,testId:o,onClick:t.onClick},t.label)}))};e.DualPageCoverViewModeIcon=s,e.DualPageViewModeIcon=a,e.HorizontalScrollingIcon=o,e.PageScrollingIcon=l,e.VerticalScrollingIcon=h,e.WrappedScrollingIcon=d,e.scrollModePlugin=function(){var t=r.useMemo((function(){return i.createStore({scrollMode:i.ScrollMode.Vertical,viewMode:i.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})}),[]),e=function(e){return r.createElement(b,c({},e,{store:t}))},n=function(e){return r.createElement(k,c({},e,{store:t}))};return{install:function(e){t.update("switchScrollMode",e.switchScrollMode),t.update("switchViewMode",e.switchViewMode)},onViewerStateChange:function(e){return t.update("scrollMode",e.scrollMode),t.update("viewMode",e.viewMode),e},switchScrollMode:function(e){u(t,e)},switchViewMode:function(e){_(t,e)},SwitchScrollMode:e,SwitchScrollModeButton:function(t){return r.createElement(e,{mode:t.mode},(function(t){return r.createElement(g,{isDisabled:t.isDisabled,isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick()}})}))},SwitchScrollModeMenuItem:function(t){return r.createElement(e,{mode:t.mode},(function(e){return r.createElement(y,{isDisabled:e.isDisabled,isSelected:e.isSelected,mode:e.mode,onClick:function(){e.onClick(),t.onClick()}})}))},SwitchViewMode:n,SwitchViewModeButton:function(t){return r.createElement(n,{mode:t.mode},(function(t){return r.createElement(S,{isDisabled:t.isDisabled,isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick()}})}))},SwitchViewModeMenuItem:function(t){return r.createElement(n,{mode:t.mode},(function(e){return r.createElement(E,{isDisabled:e.isDisabled,isSelected:e.isSelected,mode:e.mode,onClick:function(){e.onClick(),t.onClick()}})}))}}}},6409:(t,e,n)=>{"use strict";t.exports=n(5317)},8237:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},a=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},o=function(){return r.createElement(i.Icon,{ignoreDirection:!0,size:16},r.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))},l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},c={keyword:"",regExp:new RegExp(" "),wholeWords:!1},u=function(t){return{left:"".concat(t.left,"%"),top:"".concat(t.top,"%"),height:"".concat(t.height,"%"),width:"".concat(t.width,"%")}},h=function(t){var e=t.index,n=t.area,s=t.onHighlightKeyword,a=r.useRef();return i.useIsomorphicLayoutEffect((function(){var t=a.current;s&&t&&s({highlightEle:t,keyword:n.keyword})}),[]),r.createElement("div",{className:"rpv-search__highlight","data-index":e,ref:a,style:u(n),title:n.keywordStr.trim()})},d=function(t){var e=t.parentNode;e&&e.removeChild(t)},p=function(t){var e=t.parentNode;if(e){var n=document.createRange();n.selectNodeContents(t),function(t,e){d(t);var n=e.parentNode;n&&n.insertBefore(t,e),d(e)}(n.extractContents(),t),e.normalize()}},f=function(t,e){return t.top<e.top?-1:t.top>e.top?1:t.left<e.left?-1:t.left>e.left?1:0},g=function(t){var e=t.numPages,n=t.pageIndex,s=t.renderHighlights,a=t.store,o=t.onHighlightKeyword,l=r.useRef(),d=r.useCallback((function(t){return r.createElement(r.Fragment,null,t.highlightAreas.map((function(t,e){return r.createElement(h,{index:e,key:e,area:t,onHighlightKeyword:o})})))}),[]),g=s||d,m=r.useState(a.get("matchPosition")),v=m[0],b=m[1],y=r.useState(a.get("keyword")||[c]),_=y[0],x=y[1],w=r.useState({pageIndex:n,scale:1,status:i.LayerRenderStatus.PreRender}),S=w[0],k=w[1],E=r.useRef(null),C=r.useRef([]),A=r.useState([]),P=A[0],M=A[1],T=function(){return!0},R=r.useCallback((function(){return a.get("targetPageFilter")||T}),[a.get("targetPageFilter")]),F=function(t){t&&t.length>0&&x(t)},I=function(t){return b(t)},L=function(t){if(t.has(n)){var e=t.get(n);e&&k({ele:e.ele,pageIndex:n,scale:e.scale,status:e.status})}},D=function(){return 0===_.length||1===_.length&&""===_[0].keyword.trim()};return r.useEffect((function(){if(!D()&&S.status===i.LayerRenderStatus.DidRender&&!C.current.length){var t=S.ele,e=[].slice.call(t.querySelectorAll(".rpv-core__text-layer-text")).map((function(t){return t.textContent})).reduce((function(t,e,n){return t.concat(e.split("").map((function(t,e){return{char:t,charIndexInSpan:e,spanIndex:n}})))}),[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);C.current=e}}),[_,S.status]),r.useEffect((function(){if(!D()&&S.ele&&S.status===i.LayerRenderStatus.DidRender&&R()({pageIndex:n,numPages:e})){var t=function(t){var i=C.current;if(0===i.length)return[];var r=[],s=[].slice.call(t.querySelectorAll(".rpv-core__text-layer-text")),a=i.map((function(t){return t.char})).join("");return _.forEach((function(o){var l=o.keyword;if(l.trim()){for(var c,u=-1===o.regExp.flags.indexOf("g")?new RegExp(o.regExp,"".concat(o.regExp.flags,"g")):o.regExp,h=[];null!==(c=u.exec(a));)h.push({keyword:u,startIndex:c.index,endIndex:u.lastIndex});h.map((function(t){return{keyword:t.keyword,indexes:i.slice(t.startIndex,t.endIndex)}})).forEach((function(i){var a=i.indexes.reduce((function(t,e){return t[e.spanIndex]=(t[e.spanIndex]||[]).concat([e]),t}),{});Object.values(a).forEach((function(a){if(1!==a.length||""!==a[0].char.trim()){var c=o.wholeWords?a.slice(1,-1):a,u=function(t,i,r,s,a){var o=document.createRange(),l=s.firstChild;if(!l||l.nodeType!==Node.TEXT_NODE)return null;var c=l.textContent.length,u=a[0].charIndexInSpan,h=1===a.length?u:a[a.length-1].charIndexInSpan;if(u>c||h+1>c)return null;o.setStart(l,u),o.setEnd(l,h+1);var d=document.createElement("span");o.surroundContents(d);var f=d.getBoundingClientRect(),g=r.getBoundingClientRect(),m=g.height,v=g.width,b=100*(f.left-g.left)/v,y=100*(f.top-g.top)/m,_=100*f.height/m,x=100*f.width/v;return p(d),{keyword:i,keywordStr:t,numPages:e,pageIndex:n,left:b,top:y,height:_,width:x,pageHeight:m,pageWidth:v}}(l,i.keyword,t,s[c[0].spanIndex],c);u&&r.push(u)}}))}))}})),r.sort(f)}(S.ele);M(t)}}),[_,v,S.status,C.current]),r.useEffect((function(){D()&&S.ele&&S.status===i.LayerRenderStatus.DidRender&&M([])}),[_,S.status]),r.useEffect((function(){if(0!==P.length){var t=l.current;if(v.pageIndex===n&&t&&S.status===i.LayerRenderStatus.DidRender){var e=t.querySelector('.rpv-search__highlight[data-index="'.concat(v.matchIndex,'"]'));if(e){var r=function(t,e){for(var n=t.offsetTop,i=t.offsetLeft,r=t.parentElement;r&&r!==e;)n+=r.offsetTop,i+=r.offsetLeft,r=r.parentElement;return{left:i,top:n}}(e,t),s=r.left,o=r.top,c=a.get("jumpToDestination");c&&(c({pageIndex:n,bottomOffset:(t.getBoundingClientRect().height-o)/S.scale,leftOffset:s/S.scale,scaleTo:S.scale}),E.current&&E.current.classList.remove("rpv-search__highlight--current"),E.current=e,e.classList.add("rpv-search__highlight--current"))}}}}),[P,v]),r.useEffect((function(){return a.subscribe("keyword",F),a.subscribe("matchPosition",I),a.subscribe("renderStatus",L),function(){a.unsubscribe("keyword",F),a.unsubscribe("matchPosition",I),a.unsubscribe("renderStatus",L)}}),[]),r.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(n),ref:l},g({getCssProperties:u,highlightAreas:P}))},m=function(t){var e,n=t.wholeWords?" ".concat(t.keyword," "):t.keyword,i=t.matchCase?"g":"gi";return{keyword:t.keyword,regExp:new RegExp((e=n,e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),i),wholeWords:t.wholeWords||!1}},v=function(t,e,n){return t instanceof RegExp?{keyword:t.source,regExp:t,wholeWords:n||!1}:"string"==typeof t?""===t?c:m({keyword:t,matchCase:e||!1,wholeWords:n||!1}):(void 0!==e&&(t.matchCase=e),void 0!==n&&(t.wholeWords=n),m(t))},b=function(t){var e,n=t.get("initialKeyword"),s=r.useMemo((function(){if(n&&1===n.length){var t=v(n[0]);return{matchCase:-1===t.regExp.flags.indexOf("i"),wholeWords:t.wholeWords}}return{matchCase:!1,wholeWords:!1}}),[]),a=function(t){var e=r.useRef(t.get("doc")),n=function(t){e.current=t};return r.useEffect((function(){return t.subscribe("doc",n),function(){t.unsubscribe("doc",n)}}),[]),e}(t),o=r.useState(n),l=o[0],u=o[1],h=r.useState([]),d=h[0],p=h[1],f=r.useState(0),g=f[0],m=f[1],b=r.useState(s.matchCase),y=b[0],_=b[1],x=r.useRef([]),w=r.useState(s.wholeWords),S=w[0],k=w[1],E=function(){return!0},C=r.useCallback((function(){return t.get("targetPageFilter")||E}),[t.get("targetPageFilter")]),A=function(t){var e=d.length;if(0===l.length||0===e)return null;var n=t===e+1?1:Math.max(1,Math.min(e,t));return m(n),M(d[n-1])},P=function(t){return u(""===t?[]:[t])},M=function(e){var n=t.get("jumpToPage");return n&&n(e.pageIndex),t.update("matchPosition",{matchIndex:e.matchIndex,pageIndex:e.pageIndex}),e},T=function(e,n,r){var s=a.current;if(!s)return Promise.resolve([]);var o=s.numPages,l=e.map((function(t){return v(t,n,r)}));return t.update("keyword",l),m(0),p([]),new Promise((function(t,e){var n=0===x.current.length?function(){var t=a.current;if(!t)return Promise.resolve([]);var e=Array(t.numPages).fill(0).map((function(e,n){return i.getPage(t,n).then((function(t){return t.getTextContent()})).then((function(t){var e=t.items.map((function(t){return t.str||""})).join("");return Promise.resolve({pageContent:e,pageIndex:n})}))}));return Promise.all(e).then((function(t){return t.sort((function(t,e){return t.pageIndex-e.pageIndex})),Promise.resolve(t.map((function(t){return t.pageContent})))}))}().then((function(t){return x.current=t,Promise.resolve(t)})):Promise.resolve(x.current);n.then((function(e){var n=[];e.forEach((function(t,e){C()({pageIndex:e,numPages:o})&&l.forEach((function(i){for(var r,s=0;null!==(r=i.regExp.exec(t));)n.push({keyword:i.regExp,matchIndex:s,pageIndex:e,pageText:t,startIndex:r.index,endIndex:i.regExp.lastIndex}),s++}))})),p(n),n.length>0&&(m(1),M(n[0])),t(n)}))}))};return r.useEffect((function(){x.current=[]}),[a.current]),{clearKeyword:function(){t.update("keyword",[c]),P(""),m(0),p([]),_(!1),k(!1)},changeMatchCase:function(t){_(t),l.length>0&&T(l,t,S)},changeWholeWords:function(t){k(t),l.length>0&&T(l,y,t)},currentMatch:g,jumpToMatch:A,jumpToNextMatch:function(){return A(g+1)},jumpToPreviousMatch:function(){return A(g-1)},keywords:l,matchCase:y,numberOfMatches:d.length,wholeWords:S,search:function(){return T(l,y,S)},searchFor:T,setKeywords:u,keyword:0===l.length?"":(e=l[0],e instanceof RegExp?e.source:"string"==typeof e?e:e.keyword),setKeyword:P,setTargetPages:function(e){t.update("targetPageFilter",e)}}},y=function(t){var e=t.children,n=t.store,i=b(n),s=r.useState(!1),a=s[0],o=s[1],c=function(t){return o(!0)};return r.useEffect((function(){return n.subscribe("doc",c),function(){n.unsubscribe("doc",c)}}),[]),e(l(l({},i),{isDocumentLoaded:a}))},_=function(t){var e=t.containerRef,n=t.store,s=r.useRef(!1),a=function(){s.current=!0},o=function(){s.current=!1},l=function(t){var r=e.current;r&&(t.shiftKey||t.altKey||"f"!==t.key||(i.isMac()?t.metaKey&&!t.ctrlKey:t.ctrlKey)&&(s.current||document.activeElement&&r.contains(document.activeElement))&&(t.preventDefault(),n.update("areShortcutsPressed",!0)))};return r.useEffect((function(){var t=e.current;if(t)return document.addEventListener("keydown",l),t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",o),function(){document.removeEventListener("keydown",l),t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",o)}}),[e.current]),r.createElement(r.Fragment,null)},x={left:0,top:8},w=function(t){var e=t.store,n=t.onToggle,o=r.useContext(i.LocalizationContext).l10n,l=r.useContext(i.ThemeContext).direction,c=r.useState(!1),u=c[0],h=c[1],d=r.useState(!1),p=d[0],f=d[1],g=l===i.TextDirection.RightToLeft,m=b(e),v=m.clearKeyword,y=m.changeMatchCase,_=m.changeWholeWords,w=m.currentMatch,S=m.jumpToNextMatch,k=m.jumpToPreviousMatch,E=m.keyword,C=m.matchCase,A=m.numberOfMatches,P=m.wholeWords,M=m.search,T=m.setKeyword,R=function(t){h(!0),M().then((function(e){h(!1),f(!0),t&&t()}))};r.useEffect((function(){var t=e.get("initialKeyword");t&&1===t.length&&E&&R((function(){e.update("initialKeyword",[])}))}),[]);var F=o&&o.search?o.search.enterToSearch:"Enter to search",I=o&&o.search?o.search.previousMatch:"Previous match",L=o&&o.search?o.search.nextMatch:"Next match",D=o&&o.search?o.search.close:"Close";return r.createElement("div",{className:"rpv-search__popover"},r.createElement("div",{className:"rpv-search__popover-input-counter"},r.createElement(i.TextBox,{ariaLabel:F,autoFocus:!0,placeholder:F,type:"text",value:E,onChange:function(t){f(!1),T(t)},onKeyDown:function(t){"Enter"===t.key&&E&&(p?S():R())}}),r.createElement("div",{className:i.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!g,"rpv-search__popover-counter--rtl":g})},u&&r.createElement(i.Spinner,{testId:"search__popover-searching",size:"1rem"}),!u&&r.createElement("span",{"data-testid":"search__popover-num-matches"},w,"/",A))),r.createElement("label",{className:"rpv-search__popover-label"},r.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:C,type:"checkbox",onChange:function(t){f(!1),y(t.target.checked)}})," ",o&&o.search?o.search.matchCase:"Match case"),r.createElement("label",{className:"rpv-search__popover-label"},r.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:P,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(t){f(!1),_(t.target.checked)}})," ",o&&o.search?o.search.wholeWords:"Whole words"),r.createElement("div",{className:"rpv-search__popover-footer"},r.createElement("div",{className:"rpv-search__popover-footer-item"},r.createElement(i.Tooltip,{ariaControlsSuffix:"search-previous-match",position:g?i.Position.BottomRight:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:I,isDisabled:w<=1,onClick:k},r.createElement(a,null)),content:function(){return I},offset:x})),r.createElement("div",{className:"rpv-search__popover-footer-item"},r.createElement(i.Tooltip,{ariaControlsSuffix:"search-next-match",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:L,isDisabled:w>A-1,onClick:S},r.createElement(s,null)),content:function(){return L},offset:x})),r.createElement("div",{className:i.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!g,"rpv-search__popover-footer-button--rtl":g})},r.createElement(i.Button,{onClick:function(){n(),v()}},D))))},S=function(t){var e=t.children,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,a=s&&s.search?s.search.search:"Search";return e({icon:r.createElement(o,null),label:a,onClick:n})},k={left:0,top:8},E=function(t){var e=t.enableShortcuts,n=t.store,s=t.onClick,a=e?i.isMac()?"Meta+F":"Ctrl+F":"",o=function(t){t&&s()};return r.useEffect((function(){return n.subscribe("areShortcutsPressed",o),function(){n.unsubscribe("areShortcutsPressed",o)}}),[]),r.createElement(S,{onClick:s},(function(t){return r.createElement(i.Tooltip,{ariaControlsSuffix:"search-popover",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaKeyShortcuts:a,ariaLabel:t.label,testId:"search__popover-button",onClick:s},t.icon),content:function(){return t.label},offset:k})}))},C={left:0,top:8},A=function(t){var e=t.children,n=t.enableShortcuts,s=t.store,a=r.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft?i.Position.BottomRight:i.Position.BottomLeft,o=e||function(t){return r.createElement(E,l({enableShortcuts:n,store:s},t))};return r.createElement(i.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:a,target:function(t){return o({onClick:t})},content:function(t){return r.createElement(w,{store:s,onToggle:t})},offset:C,closeOnClickOutside:!1,closeOnEscape:!0})},P=function(t){return Array.isArray(t)?t.map((function(t){return v(t)})):[v(t)]};e.NextIcon=s,e.PreviousIcon=a,e.SearchIcon=o,e.searchPlugin=function(t){var e=r.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},t)}),[]),n=r.useMemo((function(){return i.createStore({initialKeyword:t&&t.keyword?Array.isArray(t.keyword)?t.keyword:[t.keyword]:[],keyword:t&&t.keyword?P(t.keyword):[c],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})}),[]),s=b(n),a=s.clearKeyword,o=s.jumpToMatch,u=s.jumpToNextMatch,h=s.jumpToPreviousMatch,d=s.searchFor,p=s.setKeywords,f=s.setTargetPages,m=function(t){return r.createElement(A,l({enableShortcuts:e.enableShortcuts},t,{store:n}))};return{install:function(e){var i=t&&t.keyword?Array.isArray(t.keyword)?t.keyword:[t.keyword]:[],r=t&&t.keyword?P(t.keyword):[c];n.update("initialKeyword",i),n.update("jumpToDestination",e.jumpToDestination),n.update("jumpToPage",e.jumpToPage),n.update("keyword",r)},renderPageLayer:function(i){return r.createElement(g,{key:i.pageIndex,numPages:i.doc.numPages,pageIndex:i.pageIndex,renderHighlights:null==t?void 0:t.renderHighlights,store:n,onHighlightKeyword:e.onHighlightKeyword})},renderViewer:function(t){var i=t.slot;return i.subSlot&&(i.subSlot.children=r.createElement(r.Fragment,null,e.enableShortcuts&&r.createElement(_,{containerRef:t.containerRef,store:n}),i.subSlot.children)),i},uninstall:function(t){var e=n.get("renderStatus");e&&e.clear()},onDocumentLoad:function(t){n.update("doc",t.doc)},onTextLayerRender:function(t){var e=n.get("renderStatus");e&&(e=e.set(t.pageIndex,t),n.update("renderStatus",e))},Search:function(t){return r.createElement(y,l({},t,{store:n}))},ShowSearchPopover:m,ShowSearchPopoverButton:function(){return r.createElement(m,null,(function(t){return r.createElement(E,l({enableShortcuts:e.enableShortcuts,store:n},t))}))},clearHighlights:function(){a()},highlight:function(t){var e=Array.isArray(t)?t:[t];return p(e),d(e)},jumpToMatch:o,jumpToNextMatch:u,jumpToPreviousMatch:h,setTargetPages:f}}},6538:(t,e,n)=>{"use strict";t.exports=n(8237)},4013:(t,e,n)=>{"use strict";var i=n(3237);var r,s=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),a=function(){return s.createElement(i.Icon,{size:16},s.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e.SelectionMode=void 0,(r=e.SelectionMode||(e.SelectionMode={})).Hand="Hand",r.Text="Text";var l=function(){return s.createElement(i.Icon,{size:16},s.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},c=function(t){var n=t.children,r=t.mode,o=t.onClick,c=s.useContext(i.LocalizationContext).l10n,u="",h=s.createElement(l,null);switch(r){case e.SelectionMode.Hand:u=c&&c.selectionMode?c.selectionMode.handTool:"Hand tool",h=s.createElement(a,null);break;case e.SelectionMode.Text:default:u=c&&c.selectionMode?c.selectionMode.textSelectionTool:"Text selection tool",h=s.createElement(l,null)}return n({icon:h,label:u,onClick:o})},u={left:0,top:8},h=function(t){var n=t.isSelected,r=t.mode,a=t.onClick,o="";switch(r){case e.SelectionMode.Hand:o="selection-mode__hand-button";break;case e.SelectionMode.Text:default:o="selection-mode__text-button"}return s.createElement(c,{mode:r,onClick:a},(function(t){return s.createElement(i.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:i.Position.BottomCenter,target:s.createElement(i.MinimalButton,{ariaLabel:t.label,isSelected:n,testId:o,onClick:t.onClick},t.icon),content:function(){return t.label},offset:u})}))},d=function(t){var e=t.children,n=t.mode,i=t.store,r=n===i.get("selectionMode");return(e||function(t){return s.createElement(h,{isSelected:r,mode:t.mode,onClick:t.onClick})})({isSelected:r,mode:n,onClick:function(){return i.update("selectionMode",n)}})},p=function(t){var n=t.isSelected,r=t.mode,a=t.onClick,o="";switch(r){case e.SelectionMode.Hand:o="selection-mode__hand-menu";break;case e.SelectionMode.Text:default:o="selection-mode__text-menu"}return s.createElement(c,{mode:r,onClick:a},(function(t){return s.createElement(i.MenuItem,{checked:n,icon:t.icon,testId:o,onClick:t.onClick},t.label)}))},f=function(t){var n=t.store,i=s.useRef(null),r=s.useState(e.SelectionMode.Text),a=r[0],o=r[1],l=s.useRef({top:0,left:0,x:0,y:0}),c=function(t){var e=i.current;e&&(e.scrollTop=l.current.top-(t.clientY-l.current.y),e.scrollLeft=l.current.left-(t.clientX-l.current.x))},u=function(){var t=i.current;t&&(t.classList.add("rpv-selection-mode__grab"),t.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u))},h=function(t){var n=i.current;n&&a!==e.SelectionMode.Text&&(n.classList.remove("rpv-selection-mode__grab"),n.classList.add("rpv-selection-mode__grabbing"),t.preventDefault(),t.stopPropagation(),l.current={left:n.scrollLeft,top:n.scrollTop,x:t.clientX,y:t.clientY},document.addEventListener("mousemove",c),document.addEventListener("mouseup",u))},d=function(t){i.current=t()},p=function(t){o(t)};return s.useEffect((function(){var t=i.current;if(t)return a===e.SelectionMode.Hand?t.classList.add("rpv-selection-mode__grab"):t.classList.remove("rpv-selection-mode__grab"),t.addEventListener("mousedown",h),function(){t.removeEventListener("mousedown",h)}}),[a]),s.useEffect((function(){return n.subscribe("getPagesContainer",d),n.subscribe("selectionMode",p),function(){n.unsubscribe("getPagesContainer",d),n.unsubscribe("selectionMode",p)}}),[]),s.createElement(s.Fragment,null)};e.HandToolIcon=a,e.TextSelectionIcon=l,e.selectionModePlugin=function(t){var n=s.useMemo((function(){return i.createStore()}),[]),r=function(t){return s.createElement(d,o({},t,{store:n}))};return{install:function(i){n.update("selectionMode",t&&t.selectionMode?t.selectionMode:e.SelectionMode.Text),n.update("getPagesContainer",i.getPagesContainer)},renderViewer:function(t){var e=t.slot;return e.subSlot&&e.subSlot.children&&(e.subSlot.children=s.createElement(s.Fragment,null,s.createElement(f,{store:n}),e.subSlot.children)),e},SwitchSelectionMode:r,SwitchSelectionModeButton:function(t){return s.createElement(r,{mode:t.mode},(function(t){return s.createElement(h,{isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick()}})}))},SwitchSelectionModeMenuItem:function(t){return s.createElement(r,{mode:t.mode},(function(e){return s.createElement(p,{isSelected:e.isSelected,mode:e.mode,onClick:function(){e.onClick(),t.onClick()}})}))}}}},8608:(t,e,n)=>{"use strict";t.exports=n(4013)},2945:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),r.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},a=function(){return r.createElement(i.Icon,{size:16},r.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),r.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},l={left:0,top:8},c=function(t){var e=t.onClick,n=r.useContext(i.ThemeContext),o=r.useContext(i.LocalizationContext).l10n,c="dark"===n.currentTheme,u=o&&o.theme?c?o.theme.switchLightTheme:o.theme.switchDarkTheme:c?"Switch to the light theme":"Switch to the dark theme";return r.createElement(i.Tooltip,{ariaControlsSuffix:"theme-switch",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaLabel:u,testId:"theme__switch-button",onClick:e},c?r.createElement(a,null):r.createElement(s,null)),content:function(){return u},offset:l})},u=function(t){var e=t.children,n=r.useContext(i.ThemeContext);return(e||function(t){return r.createElement(c,{onClick:t.onClick})})({onClick:function(){return n.setCurrentTheme("dark"===n.currentTheme?"light":"dark")}})},h=function(t){var e=t.onClick,n=r.useContext(i.ThemeContext),o=r.useContext(i.LocalizationContext).l10n,l="dark"===n.currentTheme,c=o&&o.theme?l?o.theme.switchLightTheme:o.theme.switchDarkTheme:l?"Switch to the light theme":"Switch to the dark theme";return r.createElement(i.MenuItem,{icon:l?r.createElement(a,null):r.createElement(s,null),testId:"theme__switch-menu",onClick:e},c)};e.DarkIcon=s,e.LightIcon=a,e.themePlugin=function(){var t=function(t){return r.createElement(u,o({},t))};return{SwitchTheme:t,SwitchThemeButton:function(){return r.createElement(t,null,(function(t){return r.createElement(c,o({},t))}))},SwitchThemeMenuItem:function(e){return r.createElement(t,null,(function(t){return r.createElement(h,{onClick:function(){t.onClick(),e.onClick()}})}))}}}},1343:(t,e,n)=>{"use strict";t.exports=n(2945)},4077:(t,e,n)=>{"use strict";var i=n(3237);var r,s=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043));e.ThumbnailDirection=void 0,(r=e.ThumbnailDirection||(e.ThumbnailDirection={})).Horizontal="Horizontal",r.Vertical="Vertical";var a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},o=function(t){var e=t.doc,n=t.getPageIndex,r=t.renderSpinner,a=t.store,o=t.width,l=e.numPages,c=n?n({numPages:l}):0,u=Math.max(0,Math.min(c,l-1)),h=a.get("pagesRotation")||new Map,d=h.has(u)?h.get(u):0,p=s.useState(""),f=p[0],g=p[1],m=i.useIsMounted(),v=s.useRef(),b=s.useState(a.get("rotation")||0),y=b[0],_=b[1],x=s.useState(d),w=x[0],S=x[1],k=s.useState(!1),E=k[0],C=k[1],A=function(t){var e=t.has(u)?t.get(u):0;S(e)},P=function(t){_(t)},M=i.useIntersectionObserver({onVisibilityChanged:function(t){C(t.isVisible)}});return s.useEffect((function(){if(E){var t=M.current;t&&(g(""),i.getPage(e,u).then((function(e){var n=e.getViewport({scale:1}),i=(n.rotation+y+w)%360,r=Math.abs(y+w)%180==0,s=r?n.width:n.height,a=r?n.height:n.width,l=document.createElement("canvas"),c=l.getContext("2d",{alpha:!1}),u=t.clientWidth,h=t.clientHeight,d=o?o/s:Math.min(u/s,h/a),p=d*s,f=d*a;l.height=f,l.width=p,l.style.opacity="0";var b=e.getViewport({rotation:i,scale:d});v.current=e.render({canvasContext:c,viewport:b}),v.current.promise.then((function(){m.current&&g(l.toDataURL()),l.width=0,l.height=0}),(function(){}))})))}}),[w,E]),s.useEffect((function(){return a.subscribe("pagesRotation",A),a.subscribe("rotation",P),function(){a.unsubscribe("pagesRotation",A),a.unsubscribe("rotation",P)}}),[]),s.useEffect((function(){return function(){var t;null===(t=v.current)||void 0===t||t.cancel()}}),[]),s.createElement("div",{ref:M,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},f?s.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:f}):s.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},r?r():s.createElement(i.Spinner,null)))},l=function(t){var e=t.getPageIndex,n=t.renderSpinner,r=t.store,a=t.width,l=s.useState(r.get("doc")),c=l[0],u=l[1],h=function(t){u(t)};return s.useEffect((function(){return r.subscribe("doc",h),function(){r.unsubscribe("doc",h)}}),[]),s.createElement("div",{className:"rpv-thumbnail__cover"},c?s.createElement(o,{doc:c,getPageIndex:e,renderSpinner:n,store:r,width:a}):s.createElement("div",{className:"rpv-thumbnail__cover-loader"},n?n():s.createElement(i.Spinner,null)))},c=function(){return s.createElement(i.Spinner,null)},u=s.createContext({renderSpinner:c}),h=function(t){var e=t.children,n=t.doc,r=i.useIsMounted(),a=s.useState({loading:!0,labels:[]}),o=a[0],l=a[1];return s.useEffect((function(){n.getPageLabels().then((function(t){r.current&&l({loading:!1,labels:t||[]})}))}),[n.loadingTask.docId]),o.loading?s.createElement(s.Fragment,null):e(o.labels)},d=function(t){var e=t.page,n=t.pageHeight,r=t.pageIndex,a=t.pageWidth,o=t.rotation,l=t.thumbnailHeight,c=t.thumbnailWidth,h=t.onRenderCompleted,d=s.useContext(i.LocalizationContext).l10n,p=s.useRef(),f=s.useState(""),g=f[0],m=f[1],v=d&&d.thumbnail?d.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return s.useEffect((function(){var t=p.current;t&&t.cancel();var i=document.createElement("canvas"),s=i.getContext("2d",{alpha:!1}),l=c,u=l/(a/n),d=l/a;i.height=u,i.width=l,i.style.height="".concat(u,"px"),i.style.width="".concat(l,"px");var f=e.getViewport({rotation:o,scale:d});return p.current=e.render({canvasContext:s,viewport:f}),p.current.promise.then((function(){m(i.toDataURL()),h(r)}),(function(){h(r)})),function(){var t;null===(t=p.current)||void 0===t||t.cancel()}}),[o]),g?s.createElement("img",{"aria-label":v.replace("{{pageIndex}}","".concat(r+1)),src:g,height:"".concat(l,"px"),width:"".concat(c,"px")}):s.useContext(u).renderSpinner()},p=function(t){var e=t.doc,n=t.pageHeight,r=t.pageIndex,a=t.pageRotation,o=t.pageWidth,l=t.rotation,c=t.shouldRender,h=t.thumbnailWidth,p=t.onRenderCompleted,f=t.onVisibilityChanged,g=i.useIsMounted(),m=s.useState({height:n,page:null,viewportRotation:0,width:o}),v=m[0],b=m[1],y=v.page,_=v.height,x=v.width,w=x/_,S=Math.abs(l+a)%180==0,k=S?h:h/w,E=S?h/w:h;s.useEffect((function(){c&&i.getPage(e,r).then((function(t){var e=t.getViewport({scale:1});g.current&&b({height:e.height,page:t,viewportRotation:e.rotation,width:e.width})}))}),[c]);var C=(v.viewportRotation+l+a)%360,A=i.useIntersectionObserver({onVisibilityChanged:function(t){f(r,t)}});return s.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(r),ref:A,style:{height:"".concat(E,"px"),width:"".concat(k,"px")}},y?s.createElement(d,{page:y,pageHeight:S?_:x,pageIndex:r,pageWidth:S?x:_,rotation:C,thumbnailHeight:E,thumbnailWidth:k,onRenderCompleted:p}):s.useContext(u).renderSpinner())},f=function(t){var n=t.currentPage,r=t.doc,a=t.labels,o=t.pagesRotation,l=t.pageHeight,c=t.pageWidth,u=t.renderCurrentPageLabel,h=t.renderThumbnailItem,d=t.rotatedPage,f=t.rotation,g=t.thumbnailDirection,m=t.thumbnailWidth,v=t.viewMode,b=t.onJumpToPage,y=t.onRotatePage,_=r.numPages,x=r.loadingTask.docId,w=s.useRef(null),S=s.useRef([]),k=s.useState(n),E=k[0],C=k[1],A=s.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,P=s.useState(-1),M=P[0],T=P[1],R=i.useIsMounted(),F=i.usePrevious(v),I=s.useRef(!1),L=i.useRenderQueue({doc:r}),D=s.useMemo((function(){return Array(_).fill(0).map((function(t,e){return e}))}),[x]),O=s.useMemo((function(){switch(v){case i.ViewMode.DualPage:return i.chunk(D,2);case i.ViewMode.DualPageWithCover:return[[D[0]]].concat(i.chunk(D.slice(1),2));case i.ViewMode.SinglePage:default:return i.chunk(D,1)}}),[x,v]);i.useIsomorphicLayoutEffect((function(){var t=w.current;t&&(S.current=Array.from(t.querySelectorAll(".rpv-thumbnail__item")))}),[v]),s.useEffect((function(){var t=S.current;if(!(0===t.length||E<0||E>t.length)){var e=t[E];e.setAttribute("tabindex","0"),e.focus()}}),[E]),i.useIsomorphicLayoutEffect((function(){var t=w.current,i=S.current;if(!(!t||0===i.length||n<0||n>i.length)){var r=i[n].closest(".rpv-thumbnail__items");r&&(g===e.ThumbnailDirection.Vertical?function(t,e){var n=t.getBoundingClientRect().top-e.getBoundingClientRect().top,i=t.clientHeight,r=e.clientHeight;n<0?e.scrollTop+=n:n+i<=r||(e.scrollTop+=n+i-r)}(r,t):function(t,e){var n=t.getBoundingClientRect().left-e.getBoundingClientRect().left,i=t.clientWidth,r=e.clientWidth;n<0?e.scrollLeft+=n:n+i<=r||(e.scrollLeft+=n+i-r)}(r,t))}}),[n,g]);var N=s.useCallback((function(t){R.current&&(L.markRendered(t),I.current=!1,z())}),[x]),j=s.useCallback((function(t,e){e.isVisible?L.setVisibility(t,e.ratio):L.setOutOfRange(t),z()}),[x]),z=s.useCallback((function(){if(!I.current){var t=L.getHighestPriorityPage();t>-1&&(L.markRendering(t),I.current=!0,T(t))}}),[x]);return s.useEffect((function(){d>=0&&(L.markRendering(d),I.current=!0,T(d))}),[x,d]),i.useIsomorphicLayoutEffect((function(){F!==v&&(L.markNotRendered(),z())}),[v]),s.createElement("div",{ref:w,"data-testid":"thumbnail__list",className:i.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":g===e.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":A,"rpv-thumbnail__list--vertical":g===e.ThumbnailDirection.Vertical}),onKeyDown:function(t){switch(t.key){case"ArrowDown":!function(){if(w.current){var t=S.current,e=E+1;e<t.length&&(E>=0&&t[E].setAttribute("tabindex","-1"),C(e))}}();break;case"ArrowUp":!function(){if(w.current){var t=S.current,e=E-1;e>=0&&(E>=0&&t[E].setAttribute("tabindex","-1"),C(e))}}();break;case"Enter":E>=0&&E<_&&b(E)}}},O.map((function(t,e){var d=!1;switch(v){case i.ViewMode.DualPage:d=n===2*e||n===2*e+1;break;case i.ViewMode.DualPageWithCover:d=0===n&&0===e||e>0&&n===2*e-1||e>0&&n===2*e;break;case i.ViewMode.SinglePage:default:d=n===e}return s.createElement("div",{className:i.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":v===i.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":v===i.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":v===i.ViewMode.SinglePage,"rpv-thumbnail__items--selected":d}),key:"".concat(e,"___").concat(v)},t.map((function(t){return function(t){var e=v===i.ViewMode.DualPageWithCover&&(0===t||_%2==0&&t===_-1),d="".concat(r.loadingTask.docId,"___").concat(t),g=a.length===_?a[t]:"".concat(t+1),x=u?u({currentPage:n,pageIndex:t,numPages:_,pageLabel:g}):g,w=o.has(t)?o.get(t):0,S=s.createElement(p,{doc:r,pageHeight:l,pageIndex:t,pageRotation:w,pageWidth:c,rotation:f,shouldRender:M===t,thumbnailWidth:m,onRenderCompleted:N,onVisibilityChanged:j});return h?h({currentPage:n,key:d,numPages:_,pageIndex:t,renderPageLabel:s.createElement(s.Fragment,null,x),renderPageThumbnail:S,onJumpToPage:function(){return b(t)},onRotatePage:function(e){return y(t,e)}}):s.createElement("div",{key:d},s.createElement("div",{className:i.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":v===i.ViewMode.DualPage&&t%2==0,"rpv-thumbnail__item--dual-odd":v===i.ViewMode.DualPage&&t%2==1,"rpv-thumbnail__item--dual-cover":e,"rpv-thumbnail__item--dual-cover-even":v===i.ViewMode.DualPageWithCover&&!e&&t%2==0,"rpv-thumbnail__item--dual-cover-odd":v===i.ViewMode.DualPageWithCover&&!e&&t%2==1,"rpv-thumbnail__item--single":v===i.ViewMode.SinglePage,"rpv-thumbnail__item--selected":n===t}),role:"button",tabIndex:n===t?0:-1,onClick:function(){return b(t)}},S),s.createElement("div",{"data-testid":"thumbnail__label-".concat(t),className:"rpv-thumbnail__label"},x))}(t)})))})))},g=function(t){var e=t.renderCurrentPageLabel,n=t.renderThumbnailItem,r=t.store,a=t.thumbnailDirection,o=t.thumbnailWidth,l=s.useState(r.get("doc")),c=l[0],d=l[1],p=s.useState(r.get("currentPage")||0),g=p[0],m=p[1],v=s.useState(r.get("pageHeight")||0),b=v[0],y=v[1],_=s.useState(r.get("pageWidth")||0),x=_[0],w=_[1],S=s.useState(r.get("rotation")||0),k=S[0],E=S[1],C=s.useState(r.get("pagesRotation")||new Map),A=C[0],P=C[1],M=s.useState(r.get("rotatedPage")||-1),T=M[0],R=M[1],F=s.useState(r.get("viewMode")),I=F[0],L=F[1],D=function(t){m(t)},O=function(t){d(t)},N=function(t){y(t)},j=function(t){w(t)},z=function(t){E(t)},B=function(t){P(t)},W=function(t){R(t)},H=function(t){L(t)},V=function(t){var e=r.get("jumpToPage");e&&e(t)},U=function(t,e){r.get("rotatePage")(t,e)};return s.useEffect((function(){return r.subscribe("doc",O),r.subscribe("pageHeight",N),r.subscribe("pageWidth",j),r.subscribe("rotatedPage",W),r.subscribe("rotation",z),r.subscribe("pagesRotation",B),r.subscribe("viewMode",H),function(){r.unsubscribe("doc",O),r.unsubscribe("pageHeight",N),r.unsubscribe("pageWidth",j),r.unsubscribe("rotatedPage",W),r.unsubscribe("rotation",z),r.unsubscribe("pagesRotation",B),r.unsubscribe("viewMode",H)}}),[]),i.useIsomorphicLayoutEffect((function(){return r.subscribe("currentPage",D),function(){r.unsubscribe("currentPage",D)}}),[]),c?s.createElement(i.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},s.createElement(h,{doc:c},(function(t){return s.createElement(f,{currentPage:g,doc:c,labels:t,pagesRotation:A,pageHeight:b,pageWidth:x,renderCurrentPageLabel:e,renderThumbnailItem:n,rotatedPage:T,rotation:k,thumbnailDirection:a,thumbnailWidth:o,viewMode:I,onJumpToPage:V,onRotatePage:U})}))):s.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},s.useContext(u).renderSpinner())};e.thumbnailPlugin=function(t){var n=s.useMemo((function(){return i.createStore({rotatePage:function(){},viewMode:i.ViewMode.SinglePage})}),[]),r=s.useState(""),o=r[0],h=r[1];return{install:function(t){n.update("jumpToPage",t.jumpToPage),n.update("rotatePage",t.rotatePage)},onDocumentLoad:function(t){h(t.doc.loadingTask.docId),n.update("doc",t.doc)},onViewerStateChange:function(t){return n.update("currentPage",t.pageIndex),n.update("pagesRotation",t.pagesRotation),n.update("pageHeight",t.pageHeight),n.update("pageWidth",t.pageWidth),n.update("rotation",t.rotation),n.update("rotatedPage",t.rotatedPage),n.update("viewMode",t.viewMode),t},Cover:function(e){return s.createElement(l,a({},e,{renderSpinner:null==t?void 0:t.renderSpinner,store:n}))},Thumbnails:s.useCallback((function(i){return s.createElement(u.Provider,{value:{renderSpinner:(null==t?void 0:t.renderSpinner)||c}},s.createElement(g,{renderCurrentPageLabel:null==t?void 0:t.renderCurrentPageLabel,renderThumbnailItem:null==i?void 0:i.renderThumbnailItem,store:n,thumbnailDirection:(null==i?void 0:i.thumbnailDirection)||e.ThumbnailDirection.Vertical,thumbnailWidth:(null==t?void 0:t.thumbnailWidth)||100}))}),[o])}}},1666:(t,e,n)=>{"use strict";t.exports=n(4077)},7633:(t,e,n)=>{"use strict";var i=n(3237),r=n(8608),s=n(5043),a=n(7798),o=n(9635),l=n(6714),c=n(5038),u=n(4301),h=n(2155),d=n(2153),p=n(6409),f=n(6538),g=n(1343),m=n(281);var v=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(s),b=function(){return v.createElement(i.Icon,{size:16},v.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n            M12,9.5\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},y={left:0,top:8},_=function(t){var e=t.toolbarSlot,n=v.useContext(i.LocalizationContext).l10n,s=v.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft?i.Position.BottomLeft:i.Position.BottomRight,a=e.DownloadMenuItem,o=e.EnterFullScreenMenuItem,l=e.GoToFirstPageMenuItem,c=e.GoToLastPageMenuItem,u=e.GoToNextPageMenuItem,h=e.GoToPreviousPageMenuItem,d=e.OpenMenuItem,p=e.PrintMenuItem,f=e.RotateBackwardMenuItem,g=e.RotateForwardMenuItem,m=e.ShowPropertiesMenuItem,_=e.SwitchScrollModeMenuItem,x=e.SwitchSelectionModeMenuItem,w=e.SwitchViewModeMenuItem,S=e.SwitchThemeMenuItem;return v.createElement(i.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:s,target:function(t,e){var r=n&&n.toolbar?n.toolbar.moreActions:"More actions";return v.createElement(i.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:s,target:v.createElement(i.MinimalButton,{ariaLabel:r,isSelected:e,testId:"toolbar__more-actions-popover-target",onClick:t},v.createElement(b,null)),content:function(){return r},offset:y})},content:function(t){return v.createElement(i.Menu,null,v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(S,{onClick:t})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(o,{onClick:t})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(d,null)),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(p,{onClick:t})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(a,{onClick:t})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(i.MenuDivider,null)),v.createElement(l,{onClick:t}),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(h,{onClick:t})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(u,{onClick:t})),v.createElement(c,{onClick:t}),v.createElement(i.MenuDivider,null),v.createElement(g,{onClick:t}),v.createElement(f,{onClick:t}),v.createElement(i.MenuDivider,null),v.createElement(x,{mode:r.SelectionMode.Text,onClick:t}),v.createElement(x,{mode:r.SelectionMode.Hand,onClick:t}),v.createElement(i.MenuDivider,null),v.createElement(_,{mode:i.ScrollMode.Page,onClick:t}),v.createElement(_,{mode:i.ScrollMode.Vertical,onClick:t}),v.createElement(_,{mode:i.ScrollMode.Horizontal,onClick:t}),v.createElement(_,{mode:i.ScrollMode.Wrapped,onClick:t}),v.createElement(i.MenuDivider,null),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(w,{mode:i.ViewMode.SinglePage,onClick:t})),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(w,{mode:i.ViewMode.DualPage,onClick:t})),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(w,{mode:i.ViewMode.DualPageWithCover,onClick:t})),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(i.MenuDivider,null)),v.createElement(m,{onClick:t}))},offset:y,closeOnClickOutside:!0,closeOnEscape:!0})},x=function(){return x=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},x.apply(this,arguments)},w=function(t){return function(e){var n=v.useMemo((function(){return t(e)}),[]),r=v.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,s=n.CurrentPageInput,a=n.Download,o=n.EnterFullScreen,l=n.GoToNextPage,c=n.GoToPreviousPage,u=n.NumberOfPages,h=n.Open,d=n.Print,p=n.ShowSearchPopover,f=n.SwitchTheme,g=n.Zoom,m=n.ZoomIn,b=n.ZoomOut;return v.createElement("div",{"data-testid":"toolbar",className:i.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":r}),role:"toolbar","aria-orientation":"horizontal"},v.createElement("div",{className:"rpv-toolbar__left"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(p,null)),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(c,null))),v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(s,null),v.createElement("span",{className:"rpv-toolbar__label"},v.createElement(u,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(l,null)))),v.createElement("div",{className:"rpv-toolbar__center"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(b,null)),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(g,null))),v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(m,null))),v.createElement("div",{className:"rpv-toolbar__right"},v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(f,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(o,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(h,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(a,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(d,null))),v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(_,{toolbarSlot:n}))))}},S=function(t){var e=t.NumberOfPages;return Object.assign({},t,{NumberOfPages:function(){return v.createElement(v.Fragment,null,"/ ",v.createElement(e,null))}})},k=function(t){return w(S)(t)},E=function(t){var e=t.children,n=t.slot;return(e||k)(n)};e.MoreActionsPopover=_,e.MoreIcon=b,e.toolbarPlugin=function(t){var e=a.fullScreenPlugin(t?t.fullScreenPlugin:{}),n=o.getFilePlugin(t?t.getFilePlugin:{}),i=l.openPlugin(t?t.openPlugin:{}),s=c.pageNavigationPlugin(t?t.pageNavigationPlugin:{}),b=u.printPlugin(t?t.printPlugin:{}),y=h.propertiesPlugin(),_=d.rotatePlugin(),S=p.scrollModePlugin(),k=f.searchPlugin(t?t.searchPlugin:{}),C=r.selectionModePlugin(t?t.selectionModePlugin:{}),A=g.themePlugin(),P=m.zoomPlugin(t?t.zoomPlugin:{}),M=[e,n,i,s,b,y,_,S,k,C,A,P],T=v.useCallback((function(t){var r=e.EnterFullScreen,a=e.EnterFullScreenMenuItem,o=n.Download,l=n.DownloadMenuItem,c=i.Open,u=i.OpenMenuItem,h=s.CurrentPageInput,d=s.CurrentPageLabel,p=s.GoToFirstPage,f=s.GoToFirstPageMenuItem,g=s.GoToLastPage,m=s.GoToLastPageMenuItem,w=s.GoToNextPage,M=s.GoToNextPageMenuItem,T=s.GoToPreviousPage,R=s.GoToPreviousPageMenuItem,F=s.NumberOfPages,I=b.Print,L=b.PrintMenuItem,D=y.ShowProperties,O=y.ShowPropertiesMenuItem,N=_.Rotate,j=_.RotateBackwardMenuItem,z=_.RotateForwardMenuItem,B=S.SwitchScrollMode,W=S.SwitchScrollModeMenuItem,H=S.SwitchViewMode,V=S.SwitchViewModeMenuItem,U=k.Search,G=k.ShowSearchPopover,q=C.SwitchSelectionMode,X=C.SwitchSelectionModeMenuItem,K=A.SwitchTheme,Y=A.SwitchThemeMenuItem,Q=P.CurrentScale,J=P.Zoom,$=P.ZoomIn,Z=P.ZoomInMenuItem,tt=P.ZoomOut,et=P.ZoomOutMenuItem;return v.createElement(E,x({},t,{slot:{CurrentPageInput:h,CurrentPageLabel:d,CurrentScale:Q,Download:o,DownloadMenuItem:l,EnterFullScreen:r,EnterFullScreenMenuItem:a,GoToFirstPage:p,GoToFirstPageMenuItem:f,GoToLastPage:g,GoToLastPageMenuItem:m,GoToNextPage:w,GoToNextPageMenuItem:M,GoToPreviousPage:T,GoToPreviousPageMenuItem:R,NumberOfPages:F,Open:c,OpenMenuItem:u,Print:I,PrintMenuItem:L,Rotate:N,RotateBackwardMenuItem:j,RotateForwardMenuItem:z,Search:U,ShowProperties:D,ShowPropertiesMenuItem:O,ShowSearchPopover:G,SwitchScrollMode:B,SwitchScrollModeMenuItem:W,SwitchSelectionMode:q,SwitchSelectionModeMenuItem:X,SwitchViewMode:H,SwitchViewModeMenuItem:V,SwitchTheme:K,SwitchThemeMenuItem:Y,Zoom:J,ZoomIn:$,ZoomInMenuItem:Z,ZoomOut:tt,ZoomOutMenuItem:et}}))}),[]);return{fullScreenPluginInstance:e,getFilePluginInstance:n,openPluginInstance:i,pageNavigationPluginInstance:s,printPluginInstance:b,propertiesPluginInstance:y,rotatePluginInstance:_,scrollModePluginInstance:S,searchPluginInstance:k,selectionModePluginInstance:C,themePluginInstance:A,zoomPluginInstance:P,install:function(t){M.forEach((function(e){e.install&&e.install(t)}))},renderPageLayer:function(t){return v.createElement(v.Fragment,null,M.map((function(e,n){return e.renderPageLayer?v.createElement(v.Fragment,{key:n},e.renderPageLayer(t)):v.createElement(v.Fragment,{key:n})})))},renderViewer:function(t){var e=t.slot;return M.forEach((function(n){n.renderViewer&&(e=n.renderViewer(x(x({},t),{slot:e})))})),e},uninstall:function(t){M.forEach((function(e){e.uninstall&&e.uninstall(t)}))},onDocumentLoad:function(t){M.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad(t)}))},onAnnotationLayerRender:function(t){M.forEach((function(e){e.onAnnotationLayerRender&&e.onAnnotationLayerRender(t)}))},onTextLayerRender:function(t){M.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender(t)}))},onViewerStateChange:function(t){var e=t;return M.forEach((function(t){t.onViewerStateChange&&(e=t.onViewerStateChange(e))})),e},renderDefaultToolbar:w,Toolbar:T}}},9993:(t,e,n)=>{"use strict";t.exports=n(7633)},711:(t,e,n)=>{"use strict";var i=n(3237);var r=function(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(n(5043)),s=function(){return r.createElement(i.Icon,{ignoreDirection:!0,size:16},r.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10\n            M10.5,5.499v10"}))},a=function(){return r.createElement(i.Icon,{ignoreDirection:!0,size:16},r.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10"}))},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},l=function(t){var e=r.useState(t.get("scale")||0),n=e[0],i=e[1],s=function(t){i(t)};return r.useEffect((function(){return t.subscribe("scale",s),function(){t.unsubscribe("scale",s)}}),[]),{scale:n}},c=function(t){var e=t.children,n=t.store;return(e||function(t){return r.createElement(r.Fragment,null,"".concat(Math.round(100*t.scale),"%"))})({scale:l(n).scale})},u={passive:!1},h=null,d=function(t){var e=t.pagesContainerRef,n=t.store,s=i.useDebounceCallback((function(t){var e=n.get("zoom");e&&e(t)}),40),a=function(t){if(t.ctrlKey){t.preventDefault();var e=t.target.getBoundingClientRect(),i=1-t.deltaY/100,r=t.clientX-e.left,a=t.clientY-e.top,o=n.get("scale"),l=(h||(h=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(r,a).scale(i).translate(-r,-a).scale(o);s(l.a)}};return i.useIsomorphicLayoutEffect((function(){var t=e.current;if(t)return t.addEventListener("wheel",a,u),function(){t.removeEventListener("wheel",a)}}),[]),r.createElement(r.Fragment,null)},p=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f=function(t){return p.find((function(e){return e>t}))||t},g=function(t){var e=p.findIndex((function(e){return e>=t}));return-1===e||0===e?t:p[e-1]},m=function(t){var e=t.containerRef,n=t.store,s=function(t){if(!t.shiftKey&&!t.altKey&&(i.isMac()?t.metaKey:t.ctrlKey)){var r=e.current;if(r&&document.activeElement&&r.contains(document.activeElement)){var s=n.get("zoom");if(s){var a=n.get("scale")||1,o=1;switch(t.key){case"-":o=g(a);break;case"=":o=f(a);break;case"0":o=1;break;default:o=a}o!==a&&(t.preventDefault(),s(o))}}}};return r.useEffect((function(){if(e.current)return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[e.current]),r.createElement(r.Fragment,null)},v=[.5,.75,1,1.25,1.5,2,3,4],b={left:0,top:8},y=function(t){var e=t.levels,n=void 0===e?v:e,s=t.scale,a=t.onZoom,o=r.useContext(i.LocalizationContext).l10n,l=r.useContext(i.ThemeContext).direction===i.TextDirection.RightToLeft,c=o&&o.zoom?o.zoom.zoomDocument:"Zoom document";return r.createElement(i.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:i.Position.BottomCenter,target:function(t){return r.createElement(i.MinimalButton,{ariaLabel:c,testId:"zoom__popover-target",onClick:function(){t()}},r.createElement("span",{className:"rpv-zoom__popover-target"},r.createElement("span",{"data-testid":"zoom__popover-target-scale",className:i.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!l,"rpv-zoom__popover-target-scale--rtl":l})},Math.round(100*s),"%"),r.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(t){return r.createElement(i.Menu,null,Object.keys(i.SpecialZoomLevel).map((function(e){var n=e;return r.createElement(i.MenuItem,{key:n,onClick:function(){t(),a(n)}},function(t){switch(t){case i.SpecialZoomLevel.ActualSize:return o&&o.zoom?o.zoom.actualSize:"Actual size";case i.SpecialZoomLevel.PageFit:return o&&o.zoom?o.zoom.pageFit:"Page fit";case i.SpecialZoomLevel.PageWidth:return o&&o.zoom?o.zoom.pageWidth:"Page width"}}(n))})),r.createElement(i.MenuDivider,null),n.map((function(e){return r.createElement(i.MenuItem,{key:e,onClick:function(){t(),a(e)}},"".concat(Math.round(100*e),"%"))})))},offset:b,closeOnClickOutside:!0,closeOnEscape:!0})},_=function(t){var e=t.children,n=t.levels,i=t.store;return(e||function(t){return r.createElement(y,{levels:n,scale:t.scale,onZoom:t.onZoom})})({scale:l(i).scale,onZoom:function(t){var e=i.get("zoom");e&&e(t)}})},x={left:0,top:8},w=function(t){var e=t.enableShortcuts,n=t.onClick,a=r.useContext(i.LocalizationContext).l10n,o=a&&a.zoom?a.zoom.zoomIn:"Zoom in",l=e?i.isMac()?"Meta+=":"Ctrl+=":"";return r.createElement(i.Tooltip,{ariaControlsSuffix:"zoom-in",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaKeyShortcuts:l,ariaLabel:o,testId:"zoom__in-button",onClick:n},r.createElement(s,null)),content:function(){return o},offset:x})},S=function(t){var e=t.children,n=t.enableShortcuts,i=t.store,r=l(i).scale;return(e||w)({enableShortcuts:n,onClick:function(){var t=i.get("zoom");t&&t(f(r))}})},k=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,a=n&&n.zoom?n.zoom.zoomIn:"Zoom in";return r.createElement(i.MenuItem,{icon:r.createElement(s,null),testId:"zoom__in-menu",onClick:e},a)},E={left:0,top:8},C=function(t){var e=t.enableShortcuts,n=t.onClick,s=r.useContext(i.LocalizationContext).l10n,o=s&&s.zoom?s.zoom.zoomOut:"Zoom out",l=e?i.isMac()?"Meta+-":"Ctrl+-":"";return r.createElement(i.Tooltip,{ariaControlsSuffix:"zoom-out",position:i.Position.BottomCenter,target:r.createElement(i.MinimalButton,{ariaKeyShortcuts:l,ariaLabel:o,testId:"zoom__out-button",onClick:n},r.createElement(a,null)),content:function(){return o},offset:E})},A=function(t){var e=t.children,n=t.enableShortcuts,i=t.store,r=l(i).scale;return(e||C)({enableShortcuts:n,onClick:function(){var t=i.get("zoom");t&&t(g(r))}})},P=function(t){var e=t.onClick,n=r.useContext(i.LocalizationContext).l10n,s=n&&n.zoom?n.zoom.zoomOut:"Zoom out";return r.createElement(i.MenuItem,{icon:r.createElement(a,null),testId:"zoom__out-menu",onClick:e},s)};e.ZoomInIcon=s,e.ZoomOutIcon=a,e.zoomPlugin=function(t){var e=r.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),n=r.useMemo((function(){return i.createStore({})}),[]),s=function(t){return r.createElement(S,o({enableShortcuts:e.enableShortcuts},t,{store:n}))},a=function(t){return r.createElement(A,o({enableShortcuts:e.enableShortcuts},t,{store:n}))},l=function(t){return r.createElement(_,o({},t,{store:n}))};return{renderViewer:function(t){var i=t.slot;if(!e.enableShortcuts)return i;var s={children:r.createElement(r.Fragment,null,r.createElement(m,{containerRef:t.containerRef,store:n}),r.createElement(d,{pagesContainerRef:t.pagesContainerRef,store:n}),i.children)};return o(o({},i),s)},install:function(t){n.update("zoom",t.zoom)},onViewerStateChange:function(t){return n.update("scale",t.scale),t},zoomTo:function(t){var e=n.get("zoom");e&&e(t)},CurrentScale:function(t){return r.createElement(c,o({},t,{store:n}))},ZoomIn:s,ZoomInButton:function(){return r.createElement(s,null,(function(t){return r.createElement(w,o({},t))}))},ZoomInMenuItem:function(t){return r.createElement(s,null,(function(e){return r.createElement(k,{onClick:function(){e.onClick(),t.onClick()}})}))},ZoomOut:a,ZoomOutButton:function(){return r.createElement(a,null,(function(t){return r.createElement(C,o({},t))}))},ZoomOutMenuItem:function(t){return r.createElement(a,null,(function(e){return r.createElement(P,{onClick:function(){e.onClick(),t.onClick()}})}))},Zoom:l,ZoomPopover:function(t){return r.createElement(l,null,(function(e){return r.createElement(y,o({levels:null==t?void 0:t.levels},e))}))}}}},281:(t,e,n)=>{"use strict";t.exports=n(711)},2740:t=>{"use strict";t.exports=function(t,e,n,i,r,s,a,o){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,s,a,o],u=0;(l=new Error(e.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},381:(t,e,n)=>{var i="Expected a function",r=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")(),f=Object.prototype.toString,g=Math.max,m=Math.min,v=function(){return p.Date.now()};function b(t,e,n){var r,s,a,o,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError(i);function f(e){var n=r,i=s;return r=s=void 0,u=e,o=t.apply(i,n)}function b(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=a}function x(){var t=v();if(b(t))return w(t);l=setTimeout(x,function(t){var n=e-(t-c);return d?m(n,a-(t-u)):n}(t))}function w(t){return l=void 0,p&&r?f(t):(r=s=void 0,o)}function S(){var t=v(),n=b(t);if(r=arguments,s=this,c=t,n){if(void 0===l)return function(t){return u=t,l=setTimeout(x,e),h?f(t):o}(c);if(d)return l=setTimeout(x,e),f(c)}return void 0===l&&(l=setTimeout(x,e)),o}return e=_(e)||0,y(n)&&(h=!!n.leading,a=(d="maxWait"in n)?g(_(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=s=l=void 0},S.flush=function(){return void 0===l?o:w(v())},S}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==s}(t))return r;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):o.test(t)?r:+t}t.exports=function(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return y(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),b(t,e,{leading:r,maxWait:e,trailing:s})}},6749:(module,__unused_webpack_exports,__webpack_require__)=>{var _defineProperty=__webpack_require__(3693).default,_classPrivateMethodInitSpec=__webpack_require__(3312).default,_classPrivateFieldInitSpec=__webpack_require__(2459).default,_classPrivateFieldSet=__webpack_require__(7088).default,_classPrivateFieldGet=__webpack_require__(6668).default,_assertClassBrand=__webpack_require__(1756).default,factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=u,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let n=0;for(let s=0;s<e;s++)n+=u(t[s]);let i=0;const r=new Uint8Array(n);for(let s=0;s<e;s++){let e=t[s];e instanceof Uint8Array||(e="string"===typeof e?c(e):new Uint8Array(e));const n=e.byteLength;r.set(e,i),i+=n}return r},e.assert=function(t,e){t||a(e)},e.bytesToString=function(t){"object"===typeof t&&null!==t&&void 0!==t.length||a("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const s=Math.min(r+n,e),a=t.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise((function(n,i){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,i(t)}})),t},e.createValidAbsoluteUrl=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e&&e.length>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=f(t)}catch(i){}}const r=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(i){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,(t=>"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t)))},e.getModificationDate=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")},e.getVerbosityLevel=function(){return r},e.info=function(t){r>=i.INFOS&&console.log("Info: ".concat(t))},e.isArrayBuffer=function(t){return"object"===typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.objectFromMap=function(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e},e.objectSize=function(t){return Object.keys(t).length},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(r=t)},e.shadow=o,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=c,e.stringToPDFString=function(t){if(t[0]>="\xef"){let e;if("\xfe"===t[0]&&"\xff"===t[1]?e="utf-16be":"\xff"===t[0]&&"\xfe"===t[1]?e="utf-16le":"\xef"===t[0]&&"\xbb"===t[1]&&"\xbf"===t[2]&&(e="utf-8"),e)try{const n=new TextDecoder(e,{fatal:!0}),i=c(t);return n.decode(i)}catch(n){s('stringToPDFString: "'.concat(n,'".'))}}const e=[];for(let i=0,r=t.length;i<r;i++){const n=p[t.charCodeAt(i)];e.push(n?String.fromCharCode(n):t.charAt(i))}return e.join("")},e.stringToUTF16BEString=function(t){const e=["\xfe\xff"];for(let n=0,i=t.length;n<i;n++){const i=t.charCodeAt(n);e.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return e.join("")},e.stringToUTF8String=f,e.unreachable=a,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=s,n(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.LINE_FACTOR=1.35,e.LINE_DESCENT_FACTOR=.35,e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.AnnotationEditorPrefix="pdfjs_internal_editor_",e.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},e.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const i={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=i,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=i.WARNINGS;function s(t){r>=i.WARNINGS&&console.log("Warning: ".concat(t))}function a(t){throw new Error(t)}function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const l=function(){function t(e,n){this.constructor===t&&a("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();function c(t){"string"!==typeof t&&a("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function u(t){return void 0!==t.length?t.length:void 0!==t.byteLength?t.byteLength:void a("Invalid argument for arrayByteLength")}e.BaseException=l,e.PasswordException=class extends l{constructor(t,e){super(t,"PasswordException"),this.code=e}},e.UnknownErrorException=class extends l{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},e.InvalidPDFException=class extends l{constructor(t){super(t,"InvalidPDFException")}},e.MissingPDFException=class extends l{constructor(t){super(t,"MissingPDFException")}},e.UnexpectedResponseException=class extends l{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},e.FormatError=class extends l{constructor(t){super(t,"FormatError")}},e.AbortException=class extends l{constructor(t){super(t,"AbortException")}},e.FeatureTest=class{static get isLittleEndian(){return o(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return o(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return o(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}};const h=[...Array(256).keys()].map((t=>t.toString(16).padStart(2,"0")));class d{static makeHexColor(t,e,n){return"#".concat(h[t]).concat(h[e]).concat(h[n])}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[2],e[2]=n,n=e[1],e[1]=e[3],e[3]=n,t[1]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=d.applyTransform(t,e),i=d.applyTransform(t.slice(2,4),e),r=d.applyTransform([t[0],t[3]],e),s=d.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],r[0],s[0]),Math.min(n[1],i[1],r[1],s[1]),Math.max(n[0],i[0],r[0],s[0]),Math.max(n[1],i[1],r[1],s[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],s=t[2]*e[1]+t[3]*e[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-r*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>s?null:[n,r,i,s]}static bezierBoundingBox(t,e,n,i,r,s,a,o){const l=[],c=[[],[]];let u,h,d,p,f,g,m,v;for(let x=0;x<2;++x)if(0===x?(h=6*t-12*n+6*r,u=-3*t+9*n-9*r+3*a,d=3*n-3*t):(h=6*e-12*i+6*s,u=-3*e+9*i-9*s+3*o,d=3*i-3*e),Math.abs(u)<1e-12){if(Math.abs(h)<1e-12)continue;p=-d/h,0<p&&p<1&&l.push(p)}else m=h*h-4*d*u,v=Math.sqrt(m),m<0||(f=(-h+v)/(2*u),0<f&&f<1&&l.push(f),g=(-h-v)/(2*u),0<g&&g<1&&l.push(g));let b,y=l.length;const _=y;for(;y--;)p=l[y],b=1-p,c[0][y]=b*b*b*t+3*b*b*p*n+3*b*p*p*r+p*p*p*a,c[1][y]=b*b*b*e+3*b*b*p*i+3*b*p*p*s+p*p*p*o;return c[0][_]=t,c[1][_]=e,c[0][_+1]=a,c[1][_+1]=o,c[0].length=c[1].length=_+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}e.Util=d;const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(t){return decodeURIComponent(escape(t))}},(t,e,n)=>{n(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let n;if("string"===typeof t||t instanceof URL)n={url:t};else if((0,_util.isArrayBuffer)(t))n={data:t};else if(t instanceof PDFDataRangeTransport)n={range:t};else{if("object"!==typeof t)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=t}const i=Object.create(null);let r=null,s=null;for(const l in n){const t=n[l];switch(l){case"url":if("undefined"!==typeof window)try{i[l]=new URL(t,window.location).href;continue}catch(o){(0,_util.warn)('Cannot create valid URL: "'.concat(o,'".'))}else if("string"===typeof t||t instanceof URL){i[l]=t.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":r=t;continue;case"worker":s=t;continue;case"data":if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&t instanceof Buffer)i[l]=new Uint8Array(t);else{if(t instanceof Uint8Array)break;if("string"===typeof t)i[l]=(0,_util.stringToBytes)(t);else if("object"!==typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");i[l]=new Uint8Array(t)}else i[l]=new Uint8Array(t)}continue}i[l]=t}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!==typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!==typeof i.cMapUrl&&(i.cMapUrl=null),"string"!==typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!==typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!==typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!==typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!==typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),"object"===typeof i.ownerDocument&&null!==i.ownerDocument||(i.ownerDocument=globalThis.document),"boolean"!==typeof i.disableRange&&(i.disableRange=!1),"boolean"!==typeof i.disableStream&&(i.disableStream=!1),"boolean"!==typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!s){const t={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=s}const a=e.docId;return s.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");const t=_fetchDocument(s,i,r,a),n=new Promise((function(t){let e;r?e=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},r):i.data||(e=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),t(e)}));return Promise.all([t,n]).then((function(t){let[n,r]=t;if(e.destroyed)throw new Error("Loading aborted");const o=new _message_handler.MessageHandler(a,n,s.port),l=new WorkerTransport(o,e,r,i);e._transport=l,o.send("Ready",null)}))})).catch(e._capability.reject),e}async function _fetchDocument(t,e,n,i){if(t.destroyed)throw new Error("Worker was destroyed");n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone,e.contentDispositionFilename=n.contentDispositionFilename);const r=await t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),t.destroyed)throw new Error("Worker was destroyed");return r}class PDFDocumentLoadingTask{constructor(){var t,e;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((_docId._=(t=_docId._,e=t++,t),e)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0,await(null===(t=this._transport)||void 0===t?void 0:t.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var _docId={_:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._pageIndex=t,this._pageInfo=e,this._ownerDocument=i,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._transport.getRenderingIntent(t);let n=this._annotationPromises.get(e.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,n),n=n.then((t=>{for(const e of t)void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str)}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str)});return t}))),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,i;let{canvasContext:r,viewport:s,intent:a="display",annotationMode:o=_util.AnnotationMode.ENABLE,transform:l=null,imageLayer:c=null,canvasFactory:u=null,background:h=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:f=null,printAnnotationStorage:g=null}=t;void 0!==(null===(e=arguments[0])||void 0===e?void 0:e.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&o===_util.AnnotationMode.ENABLE&&(o=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&o===_util.AnnotationMode.ENABLE&&(o=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const m=this._transport.getRenderingIntent(a,o,g);this.pendingCleanup=!1,d||(d=this._transport.getOptionalContentConfig());let v=this._intentStates.get(m.cacheKey);v||(v=Object.create(null),this._intentStates.set(m.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=u||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),y=!!(m.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=(0,_util.createPromiseCapability)(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(m));const _=t=>{v.renderTasks.delete(x),(this.cleanupAfterRender||y)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(x.capability.reject(t),this._abortOperatorList({intentState:v,reason:t instanceof Error?t:new Error(t)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},x=new InternalRenderTask({callback:_,params:{canvasContext:r,viewport:s,transform:l,imageLayer:c,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:b,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:f});((i=v).renderTasks||(i.renderTasks=new Set)).add(x);const w=x.task;return Promise.all([v.displayReadyCapability.promise,d]).then((t=>{let[e,n]=t;this.pendingCleanup?_():(this._stats&&this._stats.time("Rendering"),x.initializeGraphics({transparency:e,optionalContentConfig:n}),x.operatorListChanged())})).catch(_),w}getOperatorList(){let{intent:t="display",annotationMode:e=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(t,e,n,!0);let r,s=this._intentStates.get(i.cacheKey);var a;return s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability||(r=Object.create(null),r.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(r))},s.opListReadCapability=(0,_util.createPromiseCapability)(),((a=s).renderTasks||(a.renderTasks=new Set)).add(r),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(i)),s.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:t=!1,includeMarkedContent:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==t,includeMarkedContent:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>_xfa_text.XfaText.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),r={items:[],styles:Object.create(null)};!function e(){i.read().then((function(n){let{value:i,done:s}=n;s?t(r):(Object.assign(r.styles,i.styles),r.items.push(...i.items),e())}),n)}()}))}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();this.objs.clear();for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageMap:i}=t;const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i}).getReader(),s=this._intentStates.get(n);s.streamReader=r;const a=()=>{r.read().then((t=>{let{value:e,done:n}=t;n?s.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,s),a())}),(t=>{if(s.streamReader=null,!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const t of s.renderTasks)t.operatorListChanged();this._tryCleanup()}if(s.displayReadyCapability)s.displayReadyCapability.reject(t);else{if(!s.opListReadCapability)throw t;s.opListReadCapability.reject(t)}}}))};a()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(!i){if(e.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:e,reason:n,force:!0}),e.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,e){const n={data:structuredClone(t,e)};this._deferred.then((()=>{for(const t of this._listeners)t.call(this,n)}))}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const n=this._listeners.indexOf(e);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document;const t=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(r){return!1}const i=new URL(e,n);return n.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(t){const e='importScripts("'.concat(t,'");');return URL.createObjectURL(new Blob([e]))};class PDFWorker{constructor(){let{name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&_workerPorts._.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return _workerPorts._.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),i=()=>{t.removeEventListener("error",r),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};t.addEventListener("error",r),n.on("test",(e=>{t.removeEventListener("error",r),this.destroyed?i():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",r),this.destroyed)i();else try{s()}catch(n){this._setupFakeWorker()}}));const s=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void s()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const n="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(i,e);const r=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})})).catch((t=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_workerPorts._.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _assertClassBrand(PDFWorker,this,_workerPorts)._.has(t.port)?_assertClassBrand(PDFWorker,this,_workerPorts)._.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={_:new WeakMap};exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(t,e,n,i){_classPrivateFieldInitSpec(this,_docStats,null),_classPrivateFieldInitSpec(this,_pageCache,new Map),_classPrivateFieldInitSpec(this,_pagePromises,new Map),_classPrivateFieldInitSpec(this,_metadataPromise,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(_docStats,this)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=_util.RenderingIntentFlag.DISPLAY,s=null;switch(t){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,s=(r&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(e))}return i&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:"".concat(r,"_").concat(_annotation_storage.AnnotationStorage.getHash(s)),annotationStorageMap:s}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of _classPrivateFieldGet(_pageCache,this).values())t.push(n._destroy());_classPrivateFieldGet(_pageCache,this).clear(),_classPrivateFieldGet(_pagePromises,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(_metadataPromise,this,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const n=(0,_util.createPromiseCapability)(),i=this._fullReader;return i.headersReady.then((()=>{var t;i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&(null===(t=e.onProgress)||void 0===t||t.call(e,this._lastProgress)),i.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})});n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",((t,e)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(n,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const i=t=>{t instanceof Error?this._passwordCapability.reject(t):this._passwordCapability.resolve({password:t})};try{e.onPassword(i,t.code)}catch(n){this._passwordCapability.reject(n)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise})),t.on("DataLoaded",(t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{this.destroyed||_classPrivateFieldGet(_pageCache,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{var n;let[i,r,s]=e;if(!this.destroyed&&!this.commonObjs.has(i))switch(r){case"Font":const e=this._params;if("error"in s){const t=s.error;(0,_util.warn)("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}let a=null;e.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled&&(a={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const o=new _font_loader.FontFaceObject(s,{isEvalSupported:e.isEvalSupported,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(o).catch((e=>t.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!e.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(i,o)}));break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(r))}})),t.on("obj",(t=>{let[e,n,i,r]=t;if(this.destroyed)return;const s=_classPrivateFieldGet(_pageCache,this).get(n);if(!s.objs.has(e))switch(i){case"Image":s.objs.resolve(e,r);const t=8e6;if(r){let e;if(r.bitmap){const{bitmap:t,width:n,height:i}=r;e=n*i*4,s._bitmaps.add(t)}else{var a;e=(null===(a=r.data)||void 0===a?void 0:a.length)||0}e>t&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(e,r);break;default:throw new Error("Got unknown object type ".concat(i))}})),t.on("DocProgress",(t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})})),t.on("DocStats",(t=>{this.destroyed||_classPrivateFieldSet(_docStats,this,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature(t){var e,n;let{featureId:i}=t;this.destroyed||null===(e=(n=this.loadingTask).onUnsupportedFeature)||void 0===e||e.call(n,i)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=_classPrivateFieldGet(_pagePromises,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((t=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(e,t,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(_pageCache,this).set(e,n),n}));return _classPrivateFieldGet(_pagePromises,this).set(e,i),i}getPageIndex(t){return"object"!==typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}saveDocument(){var t,e;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((t=>new _optional_content_config.OptionalContentConfig(t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(_metadataPromise,this)||_classPrivateFieldSet(_metadataPromise,this,this.messageHandler.sendWithPromise("GetMetadata",null).then((t=>{var e,n,i,r;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(r=this._fullReader)||void 0===r?void 0:r.contentLength)&&void 0!==i?i:null}})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const t of _classPrivateFieldGet(_pageCache,this).values())if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."));this.commonObjs.clear(),t||this.fontLoader.clear(),_classPrivateFieldSet(_metadataPromise,this,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}var _objs=new WeakMap,_PDFObjects_brand=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_PDFObjects_brand),_classPrivateFieldInitSpec(this,_objs,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,t);return n.capability.promise.then((()=>e(n.data))),null}const n=_classPrivateFieldGet(_objs,this)[t];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=_classPrivateFieldGet(_objs,this)[t];return(null===e||void 0===e?void 0:e.capability.settled)||!1}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,t);n.data=e,n.capability.resolve()}clear(){_classPrivateFieldSet(_objs,this,Object.create(null))}}function _ensureObj(t){const e=_classPrivateFieldGet(_objs,this)[t];return e||(_classPrivateFieldGet(_objs,this)[t]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(t){_classPrivateFieldInitSpec(this,_internalRenderTask,null),_classPrivateFieldSet(_internalRenderTask,this,t),this.onContinue=null}get promise(){return _classPrivateFieldGet(_internalRenderTask,this).capability.promise}cancel(){_classPrivateFieldGet(_internalRenderTask,this).cancel()}get separateAnnots(){const{separateAnnots:t}=_classPrivateFieldGet(_internalRenderTask,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=_classPrivateFieldGet(_internalRenderTask,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(t){let{callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:h=null}=t;this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){var e;let{transparency:n=!1,optionalContentConfig:i}=t;if(this.cancelled)return;if(this._canvas){if(_canvasInUse._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_canvasInUse._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:a,imageLayer:o,background:l}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,o,i,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:n,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_canvasInUse._.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_canvasInUse._.delete(this._canvas),this.callback())))}}var _canvasInUse={_:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var i=n(1),r=n(6),s=n(10),a=new WeakSet;class o{constructor(){_classPrivateMethodInitSpec(this,a),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this._storage.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this._storage.get(t)}remove(t){if(this._storage.delete(t),0===this._storage.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of this._storage.values())if(t instanceof r.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this._storage.get(t);let i=!1;if(void 0!==n)for(const[r,s]of Object.entries(e))n[r]!==s&&(i=!0,n[r]=s);else i=!0,this._storage.set(t,e);i&&_assertClassBrand(a,this,l).call(this),e instanceof r.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this._storage.has(t)}getAll(){return this._storage.size>0?(0,i.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new u(this)}get serializable(){if(0===this._storage.size)return null;const t=new Map;for(const[e,n]of this._storage){const i=n instanceof r.AnnotationEditor?n.serialize():n;i&&t.set(e,i)}return t}static getHash(t){if(!t)return"";const e=new s.MurmurHash3_64;for(const[n,i]of t)e.update("".concat(n,":").concat(JSON.stringify(i)));return e.hexdigest()}}function l(){this._modified||(this._modified=!0,"function"===typeof this.onSetModified&&this.onSetModified())}e.AnnotationStorage=o;var c=new WeakMap;class u extends o{constructor(t){super(),_classPrivateFieldInitSpec(this,c,null),_classPrivateFieldSet(c,this,structuredClone(t.serializable))}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(c,this)}}e.PrintAnnotationStorage=u},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var i=n(7),r=n(1),s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;class h{constructor(t){_classPrivateFieldInitSpec(this,s,this.focusin.bind(this)),_classPrivateFieldInitSpec(this,a,this.focusout.bind(this)),_classPrivateFieldInitSpec(this,o,!1),_classPrivateFieldInitSpec(this,l,!1),_classPrivateFieldInitSpec(this,c,!1),_classPrivateFieldInitSpec(this,u,h._zIndex++),this.constructor===h&&(0,r.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null;const[e,n]=this.parent.viewportBaseDimensions;this.x=t.x/e,this.y=t.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,r.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(u,this)}focusin(t){_classPrivateFieldGet(o,this)?_classPrivateFieldSet(o,this,!1):this.parent.setSelected(this)}focusout(t){if(!this.isAttachedToDOM)return;const e=t.relatedTarget;null!==e&&void 0!==e&&e.closest("#".concat(this.id))||(t.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(t){const e=this.parent.div.getBoundingClientRect();this.startX=t.clientX-e.x,this.startY=t.clientY-e.y,t.dataTransfer.setData("text/plain",this.id),t.dataTransfer.effectAllowed="move"}setAt(t,e,n,i){const[r,s]=this.parent.viewportBaseDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/s,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}translate(t,e){const[n,i]=this.parent.viewportBaseDimensions;[t,e]=this.screenToPageTranslation(t,e),this.x+=t/n,this.y+=e/i,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}screenToPageTranslation(t,e){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}setDims(t,e){const[n,i]=this.parent.viewportBaseDimensions;this.div.style.width="".concat(100*t/n,"%"),this.div.style.height="".concat(100*e/i,"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(s,this)),this.div.addEventListener("focusout",_classPrivateFieldGet(a,this));const[t,e]=this.getInitialTranslation();return this.translate(t,e),(0,i.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(t){const e=i.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e?t.preventDefault():(t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(o,this,!0))}getRect(t,e){const[n,i]=this.parent.viewportBaseDimensions,[r,s]=this.parent.pageDimensions,a=r*t/n,o=s*e/i,l=this.x*r,c=this.y*s,u=this.width*r,h=this.height*s;switch(this.rotation){case 0:return[l+a,s-c-o-h,l+a+u,s-c-o];case 90:return[l+o,s-c+a,l+o+h,s-c+a+u];case 180:return[l-a-u,s-c+o,l-a,s-c+o+h];case 270:return[l-o-h,s-c-a-u,l-o,s-c-a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,s]=t,a=r-n,o=s-i;switch(this.rotation){case 0:return[n,e-s,a,o];case 90:return[n,e-i,o,a];case 180:return[r,e-i,a,o];case 270:return[r,e-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(c,this,!0)}disableEditMode(){_classPrivateFieldSet(c,this,!1)}isInEditMode(){return _classPrivateFieldGet(c,this)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t;null===(t=this.div)||void 0===t||t.addEventListener("focusin",_classPrivateFieldGet(s,this))}serialize(){(0,r.unreachable)("An editor must be serializable")}static deserialize(t,e){const n=new this.prototype.constructor({parent:e,id:e.getNextId()});n.rotation=t.rotation;const[i,r]=e.pageDimensions,[s,a,o,l]=n.getRectInCurrentCoords(t.rect,r);return n.x=s/i,n.y=a/r,n.width=o/i,n.height=l/r,n}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(s,this)),this.div.removeEventListener("focusout",_classPrivateFieldGet(a,this)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var t;null===(t=this.div)||void 0===t||t.classList.add("selectedEditor")}unselect(){var t;null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor")}updateParams(t,e){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(l,this)}set isEditing(t){_classPrivateFieldSet(l,this,t),t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(h,"_colorManager",new i.ColorManager),_defineProperty(h,"_zIndex",1),e.AnnotationEditor=h},(t,e,n)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=function(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))},e.opacityToHex=function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")};var r=n(1),s=n(8),a=new WeakMap;class o{constructor(){_classPrivateFieldInitSpec(this,a,0)}getId(){var t,e;return"".concat(r.AnnotationEditorPrefix).concat((_classPrivateFieldSet(a,this,(t=_classPrivateFieldGet(a,this),e=t++,t)),e))}}var l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap;class d{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classPrivateFieldInitSpec(this,l,[]),_classPrivateFieldInitSpec(this,c,!1),_classPrivateFieldInitSpec(this,u,void 0),_classPrivateFieldInitSpec(this,h,-1),_classPrivateFieldSet(u,this,t)}add(t){let{cmd:e,undo:n,mustExec:i,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}=t;if(i&&e(),_classPrivateFieldGet(c,this))return;const o={cmd:e,undo:n,type:r};if(-1===_classPrivateFieldGet(h,this))return _classPrivateFieldGet(l,this).length>0&&(_classPrivateFieldGet(l,this).length=0),_classPrivateFieldSet(h,this,0),void _classPrivateFieldGet(l,this).push(o);if(s&&_classPrivateFieldGet(l,this)[_classPrivateFieldGet(h,this)].type===r)return a&&(o.undo=_classPrivateFieldGet(l,this)[_classPrivateFieldGet(h,this)].undo),void(_classPrivateFieldGet(l,this)[_classPrivateFieldGet(h,this)]=o);const d=_classPrivateFieldGet(h,this)+1;d===_classPrivateFieldGet(u,this)?_classPrivateFieldGet(l,this).splice(0,1):(_classPrivateFieldSet(h,this,d),d<_classPrivateFieldGet(l,this).length&&_classPrivateFieldGet(l,this).splice(d)),_classPrivateFieldGet(l,this).push(o)}undo(){-1!==_classPrivateFieldGet(h,this)&&(_classPrivateFieldSet(c,this,!0),_classPrivateFieldGet(l,this)[_classPrivateFieldGet(h,this)].undo(),_classPrivateFieldSet(c,this,!1),_classPrivateFieldSet(h,this,_classPrivateFieldGet(h,this)-1))}redo(){_classPrivateFieldGet(h,this)<_classPrivateFieldGet(l,this).length-1&&(_classPrivateFieldSet(h,this,_classPrivateFieldGet(h,this)+1),_classPrivateFieldSet(c,this,!0),_classPrivateFieldGet(l,this)[_classPrivateFieldGet(h,this)].cmd(),_classPrivateFieldSet(c,this,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(h,this)}hasSomethingToRedo(){return _classPrivateFieldGet(h,this)<_classPrivateFieldGet(l,this).length-1}destroy(){_classPrivateFieldSet(l,this,null)}}e.CommandManager=d;var p=new WeakSet;class f{constructor(t){_classPrivateMethodInitSpec(this,p),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const e=f.platform.isMac;for(const[n,i]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),i),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,i),this.allKeys.add(t.split("+").at(-1)))}}static get platform(){const t="undefined"!==typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(_assertClassBrand(p,this,g).call(this,e));n&&(n.bind(t)(),e.stopPropagation(),e.preventDefault())}}function g(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}e.KeyboardManager=f;var m=new WeakMap;class v{constructor(){_classPrivateFieldInitSpec(this,m,null)}copy(t){t&&(Array.isArray(t)?_classPrivateFieldSet(m,this,t.map((t=>t.serialize()))):_classPrivateFieldSet(m,this,[t.serialize()]),_classPrivateFieldSet(m,this,_classPrivateFieldGet(m,this).filter((t=>!!t))),0===_classPrivateFieldGet(m,this).length&&_classPrivateFieldSet(m,this,null))}paste(){return _classPrivateFieldGet(m,this)}isEmpty(){return null===_classPrivateFieldGet(m,this)}destroy(){_classPrivateFieldSet(m,this,null)}}class b{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(t),(0,r.shadow)(this,"_colors",t)}convert(t){const e=(0,s.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return b._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?r.Util.makeHexColor(...e):t}}_defineProperty(b,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=b;var y=new WeakMap,_=new WeakMap,x=new WeakMap,w=new WeakMap,S=new WeakMap,k=new WeakMap,E=new WeakMap,C=new WeakMap,A=new WeakMap,P=new WeakMap,M=new WeakMap,T=new WeakMap,R=new WeakMap,F=new WeakMap,I=new WeakMap,L=new WeakMap,D=new WeakMap,O=new WeakSet;class N{constructor(t,e){_classPrivateMethodInitSpec(this,O),_classPrivateFieldInitSpec(this,y,null),_classPrivateFieldInitSpec(this,_,new Map),_classPrivateFieldInitSpec(this,x,new Map),_classPrivateFieldInitSpec(this,w,new v),_classPrivateFieldInitSpec(this,S,new d),_classPrivateFieldInitSpec(this,k,0),_classPrivateFieldInitSpec(this,E,null),_classPrivateFieldInitSpec(this,C,null),_classPrivateFieldInitSpec(this,A,new o),_classPrivateFieldInitSpec(this,P,!1),_classPrivateFieldInitSpec(this,M,r.AnnotationEditorType.NONE),_classPrivateFieldInitSpec(this,T,new Set),_classPrivateFieldInitSpec(this,R,this.keydown.bind(this)),_classPrivateFieldInitSpec(this,F,this.onEditingAction.bind(this)),_classPrivateFieldInitSpec(this,I,this.onPageChanging.bind(this)),_classPrivateFieldInitSpec(this,L,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),_classPrivateFieldInitSpec(this,D,null),_classPrivateFieldSet(D,this,t),_classPrivateFieldSet(C,this,e),_classPrivateFieldGet(C,this)._on("editingaction",_classPrivateFieldGet(F,this)),_classPrivateFieldGet(C,this)._on("pagechanging",_classPrivateFieldGet(I,this))}destroy(){_assertClassBrand(O,this,z).call(this),_classPrivateFieldGet(C,this)._off("editingaction",_classPrivateFieldGet(F,this)),_classPrivateFieldGet(C,this)._off("pagechanging",_classPrivateFieldGet(I,this));for(const t of _classPrivateFieldGet(x,this).values())t.destroy();_classPrivateFieldGet(x,this).clear(),_classPrivateFieldGet(_,this).clear(),_classPrivateFieldSet(y,this,null),_classPrivateFieldGet(T,this).clear(),_classPrivateFieldGet(w,this).destroy(),_classPrivateFieldGet(S,this).destroy()}onPageChanging(t){let{pageNumber:e}=t;_classPrivateFieldSet(k,this,e-1)}focusMainContainer(){_classPrivateFieldGet(D,this).focus()}keydown(t){var e;null!==(e=this.getActive())&&void 0!==e&&e.shouldGetKeyboardEvents()||N._keyboardManager.exec(this,t)}onEditingAction(t){["undo","redo","cut","copy","paste","delete","selectAll"].includes(t.name)&&this[t.name]()}setEditingState(t){t?(_assertClassBrand(O,this,j).call(this),_assertClassBrand(O,this,B).call(this,{isEditing:_classPrivateFieldGet(M,this)!==r.AnnotationEditorType.NONE,isEmpty:_assertClassBrand(O,this,G).call(this),hasSomethingToUndo:_classPrivateFieldGet(S,this).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(S,this).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:_classPrivateFieldGet(w,this).isEmpty()})):(_assertClassBrand(O,this,z).call(this),_assertClassBrand(O,this,B).call(this,{isEditing:!1}))}registerEditorTypes(t){_classPrivateFieldSet(E,this,t);for(const e of _classPrivateFieldGet(E,this))_assertClassBrand(O,this,W).call(this,e.defaultPropertiesToUpdate)}getId(){return _classPrivateFieldGet(A,this).getId()}addLayer(t){_classPrivateFieldGet(x,this).set(t.pageIndex,t),_classPrivateFieldGet(P,this)?t.enable():t.disable()}removeLayer(t){_classPrivateFieldGet(x,this).delete(t.pageIndex)}updateMode(t){if(_classPrivateFieldSet(M,this,t),t===r.AnnotationEditorType.NONE)this.setEditingState(!1),_assertClassBrand(O,this,V).call(this);else{this.setEditingState(!0),_assertClassBrand(O,this,H).call(this);for(const e of _classPrivateFieldGet(x,this).values())e.updateMode(t)}}updateToolbar(t){t!==_classPrivateFieldGet(M,this)&&_classPrivateFieldGet(C,this).dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){for(const n of _classPrivateFieldGet(T,this))n.updateParams(t,e);for(const n of _classPrivateFieldGet(E,this))n.updateDefaultParams(t,e)}getEditors(t){const e=[];for(const n of _classPrivateFieldGet(_,this).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return _classPrivateFieldGet(_,this).get(t)}addEditor(t){_classPrivateFieldGet(_,this).set(t.id,t)}removeEditor(t){_classPrivateFieldGet(_,this).delete(t.id),this.unselect(t)}setActiveEditor(t){_classPrivateFieldGet(y,this)!==t&&(_classPrivateFieldSet(y,this,t),t&&_assertClassBrand(O,this,W).call(this,t.propertiesToUpdate))}toggleSelected(t){if(_classPrivateFieldGet(T,this).has(t))return _classPrivateFieldGet(T,this).delete(t),t.unselect(),void _assertClassBrand(O,this,B).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(T,this).add(t),t.select(),_assertClassBrand(O,this,W).call(this,t.propertiesToUpdate),_assertClassBrand(O,this,B).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of _classPrivateFieldGet(T,this))e!==t&&e.unselect();_classPrivateFieldGet(T,this).clear(),_classPrivateFieldGet(T,this).add(t),t.select(),_assertClassBrand(O,this,W).call(this,t.propertiesToUpdate),_assertClassBrand(O,this,B).call(this,{hasSelectedEditor:!0})}isSelected(t){return _classPrivateFieldGet(T,this).has(t)}unselect(t){t.unselect(),_classPrivateFieldGet(T,this).delete(t),_assertClassBrand(O,this,B).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(T,this).size}undo(){_classPrivateFieldGet(S,this).undo(),_assertClassBrand(O,this,B).call(this,{hasSomethingToUndo:_classPrivateFieldGet(S,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_assertClassBrand(O,this,G).call(this)})}redo(){_classPrivateFieldGet(S,this).redo(),_assertClassBrand(O,this,B).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(S,this).hasSomethingToRedo(),isEmpty:_assertClassBrand(O,this,G).call(this)})}addCommands(t){_classPrivateFieldGet(S,this).add(t),_assertClassBrand(O,this,B).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_assertClassBrand(O,this,G).call(this)})}delete(){if(_classPrivateFieldGet(y,this)&&_classPrivateFieldGet(y,this).commitOrRemove(),!this.hasSelection)return;const t=[..._classPrivateFieldGet(T,this)];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)_assertClassBrand(O,this,U).call(this,e)},mustExec:!0})}copy(){if(_classPrivateFieldGet(y,this)&&_classPrivateFieldGet(y,this).commitOrRemove(),this.hasSelection){const t=[];for(const e of _classPrivateFieldGet(T,this))e.isEmpty()||t.push(e);if(0===t.length)return;_classPrivateFieldGet(w,this).copy(t),_assertClassBrand(O,this,B).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(_classPrivateFieldGet(w,this).isEmpty())return;this.unselectAll();const t=_classPrivateFieldGet(x,this).get(_classPrivateFieldGet(k,this)),e=_classPrivateFieldGet(w,this).paste().map((e=>t.deserialize(e)));this.addCommands({cmd:()=>{for(const t of e)_assertClassBrand(O,this,U).call(this,t);_assertClassBrand(O,this,q).call(this,e)},undo:()=>{for(const t of e)t.remove()},mustExec:!0})}selectAll(){for(const t of _classPrivateFieldGet(T,this))t.commit();_assertClassBrand(O,this,q).call(this,_classPrivateFieldGet(_,this).values())}unselectAll(){if(_classPrivateFieldGet(y,this))_classPrivateFieldGet(y,this).commitOrRemove();else if(0!==_assertClassBrand(O,this,q).size){for(const t of _classPrivateFieldGet(T,this))t.unselect();_classPrivateFieldGet(T,this).clear(),_assertClassBrand(O,this,B).call(this,{hasSelectedEditor:!1})}}isActive(t){return _classPrivateFieldGet(y,this)===t}getActive(){return _classPrivateFieldGet(y,this)}getMode(){return _classPrivateFieldGet(M,this)}}function j(){_classPrivateFieldGet(D,this).addEventListener("keydown",_classPrivateFieldGet(R,this))}function z(){_classPrivateFieldGet(D,this).removeEventListener("keydown",_classPrivateFieldGet(R,this))}function B(t){Object.entries(t).some((t=>{let[e,n]=t;return _classPrivateFieldGet(L,this)[e]!==n}))&&_classPrivateFieldGet(C,this).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(L,this),t)})}function W(t){_classPrivateFieldGet(C,this).dispatch("annotationeditorparamschanged",{source:this,details:t})}function H(){if(!_classPrivateFieldGet(P,this)){_classPrivateFieldSet(P,this,!0);for(const t of _classPrivateFieldGet(x,this).values())t.enable()}}function V(){if(this.unselectAll(),_classPrivateFieldGet(P,this)){_classPrivateFieldSet(P,this,!1);for(const t of _classPrivateFieldGet(x,this).values())t.disable()}}function U(t){const e=_classPrivateFieldGet(x,this).get(t.pageIndex);e?e.addOrRebuild(t):this.addEditor(t)}function G(){if(0===_classPrivateFieldGet(_,this).size)return!0;if(1===_classPrivateFieldGet(_,this).size)for(const t of _classPrivateFieldGet(_,this).values())return t.isEmpty();return!1}function q(t){_classPrivateFieldGet(T,this).clear();for(const e of t)e.isEmpty()||(_classPrivateFieldGet(T,this).add(e),e.select());_assertClassBrand(O,this,B).call(this,{hasSelectedEditor:!0})}_defineProperty(N,"_keyboardManager",new f([[["ctrl+a","mac+meta+a"],(i=N).prototype.selectAll],[["ctrl+c","mac+meta+c"],i.prototype.copy],[["ctrl+v","mac+meta+v"],i.prototype.paste],[["ctrl+x","mac+meta+x"],i.prototype.cut],[["ctrl+z","mac+meta+z"],i.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],i.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],i.prototype.delete],[["Escape","mac+Escape"],i.prototype.unselectAll]])),e.AnnotationEditorUIManager=N},(t,e,n)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getColorValues=function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,v(i))}e.remove()},e.getCurrentTransform=function(t){const{a:e,b:n,c:i,d:r,e:s,f:a}=t.getTransform();return[e,n,i,r,s,a]},e.getCurrentTransformInverse=function(t){const{a:e,b:n,c:i,d:r,e:s,f:a}=t.getTransform().invertSelf();return[e,n,i,r,s,a]},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),n=t.indexOf("?"),i=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",i)+1,i)},e.getPdfFilenameFromUrl=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(f(t))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch(a){}return r||e},e.getRGB=v,e.getXfaPageViewport=function(t,e){let{scale:n=1,rotation:i=0}=e;const{width:r,height:s}=t.attributes.style,a=[0,0,parseInt(r),parseInt(s)];return new d({viewBox:a,scale:n,rotation:i})},e.isDataScheme=f,e.isPdfFile=function(t){return"string"===typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=g,e.loadScript=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,i)=>{const r=document.createElement("script");r.src=t,r.onload=function(t){e&&r.remove(),n(t)},r.onerror=function(){i(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).append(r)}))};var r=n(9),s=n(1);e.AnnotationPrefix="pdfjs_internal_id_";class a{}i=a,_defineProperty(a,"CSS",96),_defineProperty(a,"PDF",72),_defineProperty(a,"PDF_TO_CSS_UNITS",i.CSS/i.PDF),e.PixelsPerInch=a;class o extends r.BaseCanvasFactory{constructor(){let{ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function l(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);return e?new Uint8Array(await n.arrayBuffer()):(0,s.stringToBytes)(await n.text())}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),e&&(r.responseType="arraybuffer"),r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(200===r.status||0===r.status){let t;if(e&&r.response?t=new Uint8Array(r.response):!e&&r.responseText&&(t=(0,s.stringToBytes)(r.responseText)),t)return void n(t)}i(new Error(r.statusText))}},r.send(null)}))}e.DOMCanvasFactory=o;class c extends r.BaseCMapReaderFactory{_fetchData(t,e){return l(t,this.isCompressed).then((t=>({cMapData:t,compressionType:e})))}}e.DOMCMapReaderFactory=c;class u extends r.BaseStandardFontDataFactory{_fetchData(t){return l(t,!0)}}e.DOMStandardFontDataFactory=u;class h extends r.BaseSVGFactory{_createSVG(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}e.DOMSVGFactory=h;class d{constructor(t){let{viewBox:e,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}=t;this.viewBox=e,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,d,p,f,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,d=-d),0===c?(p=Math.abs(l-e[1])*n+r,f=Math.abs(o-e[0])*n+s,g=Math.abs(e[3]-e[1])*n,m=Math.abs(e[2]-e[0])*n):(p=Math.abs(o-e[0])*n+r,f=Math.abs(l-e[1])*n+s,g=Math.abs(e[2]-e[0])*n,m=Math.abs(e[3]-e[1])*n),this.transform=[c*n,u*n,h*n,d*n,p-c*n*o-h*n*l,f-u*n*o-d*n*l],this.width=g,this.height=m}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){return s.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=s.Util.applyTransform([t[0],t[1]],this.transform),n=s.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return s.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=d;class p extends s.BaseException{constructor(t,e){super(t,"RenderingCancelledException"),this.type=e}}function f(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function g(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch(n){return!1}}let m;function v(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):((0,s.warn)('Not a valid color format: "'.concat(t,'"')),[0,0,0])}e.RenderingCancelledException=p,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,s.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,s.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const n of this.times){const t=n.name;t.length>e&&(e=t.length)}for(const n of this.times){const i=n.end-n.start;t.push("".concat(n.name.padEnd(e)," ").concat(i,"ms\n"))}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||"string"!==typeof t)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=m.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(e[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,i,r,s,a,o))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var i=n(1);class r{constructor(){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=r;class s{constructor(t){let{baseUrl:e=null,isCompressed:n=!1}=t;this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(n,r).catch((t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}_fetchData(t,e){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=s;class a{constructor(t){let{baseUrl:e=null}=t;this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetchData(n).catch((t=>{throw new Error("Unable to load font data at: ".concat(n))}))}_fetchData(t){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=a;class o{constructor(){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,i.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var i=n(1);const r=3285377520,s=4294901760,a=65535;e.MurmurHash3_64=class{constructor(t){this.h1=t?4294967295&t:r,this.h2=t?4294967295&t:r}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,r=t.length;i<r;i++){const r=t.charCodeAt(i);r<=255?e[n++]=r:(e[n++]=r>>>8,e[n++]=255&r)}}else{if(!(0,i.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),n=e.byteLength}const r=n>>2,o=n-4*r,l=new Uint32Array(e.buffer,0,r);let c=0,u=0,h=this.h1,d=this.h2;const p=3432918353,f=461845907,g=11601,m=13715;for(let i=0;i<r;i++)1&i?(c=l[i],c=c*p&s|c*g&a,c=c<<15|c>>>17,c=c*f&s|c*m&a,h^=c,h=h<<13|h>>>19,h=5*h+3864292196):(u=l[i],u=u*p&s|u*g&a,u=u<<15|u>>>17,u=u*f&s|u*m&a,d^=u,d=d<<13|d>>>19,d=5*d+3864292196);switch(c=0,o){case 3:c^=e[4*r+2]<<16;case 2:c^=e[4*r+1]<<8;case 1:c^=e[4*r],c=c*p&s|c*g&a,c=c<<15|c>>>17,c=c*f&s|c*m&a,1&r?h^=c:d^=c}this.h1=h,this.h2=d}hexdigest(){let t=this.h1,e=this.h2;t^=e>>>1,t=3981806797*t&s|36045*t&a,e=4283543511*e&s|(2950163797*(e<<16|t>>>16)&s)>>>16,t^=e>>>1,t=444984403*t&s|60499*t&a,e=3301882366*e&s|(3120437893*(e<<16|t>>>16)&s)>>>16,t^=e>>>1;const n=(t>>>0).toString(16),i=(e>>>0).toString(16);return n.padStart(8,"0")+i.padStart(8,"0")}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=n(1);class r{constructor(t){let{docId:e,onUnsupportedFeature:n,ownerDocument:s=globalThis.document,styleElement:a=null}=t;this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=n,this._document=s,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].append(e));const n=e.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent([e],[t],i)}))}}_queueLoadingCallback(t){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var t;const e=!(null===(t=this._document)||void 0===t||!t.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;e.FontLoader=s,e.FontLoader=s=class extends r{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;if("undefined"===typeof navigator)t=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null===e||void 0===e?void 0:e[1])>=14&&(t=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,n={id:"pdfjs-font-loading-".concat(e.nextRequestId++),done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,n){function r(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function s(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let a,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;const h="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=s(d,976,h.length,h);const p=1482184792;let f=r(d,16);for(a=0,o=h.length-3;a<o;a+=4)f=f-p+r(h,a)|0;a<h.length&&(f=f-p+r(h+"XXX",a)|0),d=s(d,16,4,(0,i.string32)(f));const g="url(data:font/opentype;base64,".concat(btoa(d),");"),m='@font-face {font-family:"'.concat(h,'";src:').concat(g,"}");this.insertRule(m);const v=[];for(const i of e)v.push(i.loadedName);v.push(h);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const i of v){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=i,b.append(t)}this._document.body.append(b),function t(e,n){if(u++,u>30)return(0,i.warn)("Load test font never loaded."),void n();c.font="30px "+e,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(h,(()=>{b.remove(),n.complete()}))}},e.FontFaceObject=class{constructor(t,e){let{isEvalSupported:n=!0,disableFontFace:i=!1,ignoreErrors:r=!1,onUnsupportedFeature:s,fontRegistry:a=null}=e;this.compiledGlyphs=Object.create(null);for(const o in t)this[o]=t[o];this.isEvalSupported=!1!==n,this.disableFontFace=!0===i,this.ignoreErrors=!0===r,this._onUnsupportedFeature=s,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,i.bytesToString)(this.data),e="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){if(!this.ignoreErrors)throw r;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(r,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const t=[];for(const e of n){const n=void 0!==e.args?e.args.join(","):"";t.push("c.",e.cmd,"(",n,");\n")}return this.compiledGlyphs[e]=new Function("c","size",t.join(""))}return this.compiledGlyphs[e]=function(t,e){for(const i of n)"scale"===i.cmd&&(i.args=[e,-e]),t[i.cmd].apply(t,i.args)}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(8),r=n(1),s=n(13),a=n(14),o=n(3);const l=4096,c=o.isNodeJS&&"undefined"===typeof Path2D?-1:1e3,u=16;class h{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function d(t,e,n,r,s,a,o,l,c,u){const[h,d,p,f,g,m]=(0,i.getCurrentTransform)(t);if(0===d&&0===p){const i=o*h+g,v=Math.round(i),b=l*f+m,y=Math.round(b),_=(o+c)*h+g,x=Math.abs(Math.round(_)-v)||1,w=(l+u)*f+m,S=Math.abs(Math.round(w)-y)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(f),v,y),t.drawImage(e,n,r,s,a,0,0,x,S),t.setTransform(h,d,p,f,g,m),[x,S]}if(0===h&&0===f){const i=l*p+g,v=Math.round(i),b=o*d+m,y=Math.round(b),_=(l+u)*p+g,x=Math.abs(Math.round(_)-v)||1,w=(o+c)*d+m,S=Math.abs(Math.round(w)-y)||1;return t.setTransform(0,Math.sign(d),Math.sign(p),0,v,y),t.drawImage(e,n,r,s,a,0,0,S,x),t.setTransform(h,d,p,f,g,m),[S,x]}return t.drawImage(e,n,r,s,a,o,l,c,u),[Math.hypot(h,d)*c,Math.hypot(p,f)*u]}class p{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=r.Util.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=r.Util.applyTransform(e,t),i=r.Util.applyTransform(e.slice(2),t);this.minX=Math.min(this.minX,n[0],i[0]),this.minY=Math.min(this.minY,n[1],i[1]),this.maxX=Math.max(this.maxX,n[0],i[0]),this.maxY=Math.max(this.maxY,n[1],i[1])}updateScalingPathMinMax(t,e){r.Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,s,a,o,l,c,u){const h=r.Util.bezierBoundingBox(e,n,i,s,a,o,l,c);if(u)return u[0]=Math.min(u[0],h[0],h[2]),u[1]=Math.max(u[1],h[0],h[2]),u[2]=Math.min(u[2],h[1],h[3]),void(u[3]=Math.max(u[3],h[1],h[3]));this.updateRectMinMax(t,h)}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===s.PathType.STROKE){e||(0,r.unreachable)("Stroke bounding box must include transform.");const t=r.Util.singularValueDecompose2dScale(e),i=t[0]*this.lineWidth/2,s=t[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const t=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const i=e.height,s=e.width,a=i%u,o=(i-a)/u,l=0===a?o:o+1,c=t.createImageData(s,u);let h,d=0;const p=e.data,f=c.data;let g,m,v,b,y,_,x,w;if(n)switch(n.length){case 1:y=n[0],_=n[0],x=n[0],w=n[0];break;case 4:y=n[0],_=n[1],x=n[2],w=n[3]}if(e.kind===r.ImageKind.GRAYSCALE_1BPP){const e=p.byteLength,n=new Uint32Array(f.buffer,0,f.byteLength>>2),i=n.length,b=s+7>>3;let y=4294967295,_=r.FeatureTest.isLittleEndian?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([y,_]=[_,y]),g=0;g<l;g++){for(v=g<o?u:a,h=0,m=0;m<v;m++){const t=e-d;let i=0;const r=t>b?s:8*t-7,a=-8&r;let o=0,l=0;for(;i<a;i+=8)l=p[d++],n[h++]=128&l?y:_,n[h++]=64&l?y:_,n[h++]=32&l?y:_,n[h++]=16&l?y:_,n[h++]=8&l?y:_,n[h++]=4&l?y:_,n[h++]=2&l?y:_,n[h++]=1&l?y:_;for(;i<r;i++)0===o&&(l=p[d++],o=128),n[h++]=l&o?y:_,o>>=1}for(;h<i;)n[h++]=0;t.putImageData(c,0,g*u)}}else if(e.kind===r.ImageKind.RGBA_32BPP){const e=!!(y||_||x);for(m=0,b=s*u*4,g=0;g<o;g++){if(f.set(p.subarray(d,d+b)),d+=b,e)for(let t=0;t<b;t+=4)y&&(f[t+0]=y[f[t+0]]),_&&(f[t+1]=_[f[t+1]]),x&&(f[t+2]=x[f[t+2]]);t.putImageData(c,0,m),m+=u}if(g<l){if(b=s*a*4,f.set(p.subarray(d,d+b)),e)for(let t=0;t<b;t+=4)y&&(f[t+0]=y[f[t+0]]),_&&(f[t+1]=_[f[t+1]]),x&&(f[t+2]=x[f[t+2]]);t.putImageData(c,0,m)}}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));{const e=!!(y||_||x);for(v=u,b=s*v,g=0;g<l;g++){for(g>=o&&(v=a,b=s*v),h=0,m=b;m--;)f[h++]=p[d++],f[h++]=p[d++],f[h++]=p[d++],f[h++]=255;if(e)for(let t=0;t<h;t+=4)y&&(f[t+0]=y[f[t+0]]),_&&(f[t+1]=_[f[t+1]]),x&&(f[t+2]=x[f[t+2]]);t.putImageData(c,0,g*u)}}}}function g(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,r=n%u,s=(n-r)/u,o=0===r?s:s+1,l=t.createImageData(i,u);let c=0;const h=e.data,d=l.data;for(let p=0;p<o;p++){const e=p<s?u:r;({srcPos:c}=(0,a.applyMaskImageData)({src:h,srcPos:c,dest:d,width:i,height:e})),t.putImageData(l,0,p*u)}}function m(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let i=0,r=n.length;i<r;i++){const r=n[i];void 0!==t[r]&&(e[r]=t[r])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function v(t,e){t.strokeStyle=t.fillStyle=e||"#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function b(t,e,n,i){const r=t.length;for(let s=3;s<r;s+=4){const r=t[s];if(0===r)t[s-3]=e,t[s-2]=n,t[s-1]=i;else if(r<255){const a=255-r;t[s-3]=t[s-3]*r+e*a>>8,t[s-2]=t[s-2]*r+n*a>>8,t[s-1]=t[s-1]*r+i*a>>8}}}function y(t,e,n){const i=t.length,r=1/255;for(let s=3;s<i;s+=4){const i=n?n[t[s]]:t[s];e[s]=e[s]*i*r|0}}function _(t,e,n){const i=t.length;for(let r=3;r<i;r+=4){const i=77*t[r-3]+152*t[r-2]+28*t[r-1];e[r]=n?e[r]*n[i>>8]>>8:e[r]*i>>16}}function x(t,e,n,i){const r=i[0],s=i[1],a=i[2]-r,o=i[3]-s;0!==a&&0!==o&&(function(t,e,n,i,r,s,a,o,l,c,u){const h=!!s,d=h?s[0]:0,p=h?s[1]:0,f=h?s[2]:0;let g;g="Luminosity"===r?_:y;const m=Math.min(i,Math.ceil(1048576/n));for(let v=0;v<i;v+=m){const r=Math.min(m,i-v),s=t.getImageData(o-c,v+(l-u),n,r),y=e.getImageData(o,v+l,n,r);h&&b(s.data,d,p,f),g(s.data,y.data,a),e.putImageData(y,o,v+l)}}(e.context,n,a,o,e.subtype,e.backdrop,e.transferMap,r,s,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}function w(t,e){const n=r.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=s||n[1]<=s}const S=["butt","round","square"],k=["miter","round","bevel"],E={},C={};var A=new WeakSet;class P{constructor(t,e,n,i,r,s,a,o){_classPrivateMethodInitSpec(this,A),this.ctx=t,this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.imageLayer=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=s,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null===o||void 0===o?void 0:o.background)||null,this.foregroundColor=(null===o||void 0===o?void 0:o.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing(t){let{transform:e,viewport:n,transparency:r=!1,background:s=null}=t;const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=s||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const t=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const e=this.backgroundColor=this.ctx.fillStyle;let n=!0,r=l;if(this.ctx.fillStyle=l,r=this.ctx.fillStyle,n="string"===typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r),"#000000"===t&&"#ffffff"===e||t===e||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,s,a]=(0,i.getRGB)(r),o=t=>(t/=255)<=.03928?t/12.92:((t+.055)/1.055)**2.4,l=Math.round(.2126*o(n)+.7152*o(s)+.0722*o(a));this.selectColor=(n,i,r)=>{const s=.2126*o(n)+.7152*o(i)+.0722*o(r);return Math.round(s)===l?e:t}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,a,o),this.ctx.restore(),r){const t=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),v(this.ctx,this.foregroundColor),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx),this.imageLayer&&((0,i.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(t,e,n,i){const s=t.argsArray,a=t.fnArray;let o=e||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(f=a[o],f!==r.OPS.dependency)this[f].apply(this,s[o]);else for(const t of s[o]){const e=t.startsWith("g_")?d:p;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>u)return n(),o;h=0}}}endDrawing(){_assertClassBrand(A,this,M).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(t,e){const n=t.width,i=t.height;let r,s,a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),l=n,c=i,u="prescale1";for(;a>2&&l>1||o>2&&c>1;){let e=l,n=c;a>2&&l>1&&(e=Math.ceil(l/2),a/=l/e),o>2&&c>1&&(n=Math.ceil(c/2),o/=c/n),r=this.cachedCanvases.getCanvas(u,e,n),s=r.context,s.clearRect(0,0,e,n),s.drawImage(t,0,0,l,c,0,0,e,n),t=r.canvas,l=e,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:a}=t,o=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(e);let u,h,p,f;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer,n=c.slice(0,4);h=JSON.stringify(l?n:[n,o]),u=this._cachedBitmapsMap.get(e),u||(u=new Map,this._cachedBitmapsMap.set(e,u));const i=u.get(h);if(i&&!l)return{canvas:i,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};p=i}p||(f=this.cachedCanvases.getCanvas("maskCanvas",n,a),g(f.context,t));let m=r.Util.transform(c,[1/n,0,0,-1/a,0,0]);m=r.Util.transform(m,[1,0,0,1,0,-a]);const v=r.Util.applyTransform([0,0],m),b=r.Util.applyTransform([n,a],m),y=r.Util.normalizeRect([v[0],v[1],b[0],b[1]]),_=Math.round(y[2]-y[0])||1,x=Math.round(y[3]-y[1])||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,x),k=S.context,E=Math.min(v[0],b[0]),C=Math.min(v[1],b[1]);k.translate(-E,-C),k.transform(...m),p||(p=this._scaleImage(f.canvas,(0,i.getCurrentTransformInverse)(k)),p=p.img,u&&l&&u.set(h,p)),k.imageSmoothingEnabled=w((0,i.getCurrentTransform)(k),t.interpolate),d(k,p,0,0,p.width,p.height,0,0,n,a),k.globalCompositeOperation="source-in";const A=r.Util.transform((0,i.getCurrentTransformInverse)(k),[1,0,0,1,-E,-C]);return k.fillStyle=l?o.getPattern(e,this,A,s.PathType.FILL):o,k.fillRect(0,0,n,a),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,S.canvas)),{canvas:S.canvas,offsetX:Math.round(E),offsetY:Math.round(C)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=S[t]}setLineJoin(t){this.ctx.lineJoin=k[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let e=0,n=t.length;e<n;e++){const n=t[e],i=n[0],r=n[1];switch(i){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=r}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),m(this.suspendedCtx,s),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,r,s,a){e.transform(t,n,i,r,s,a),this.__originalTransform(t,n,i,r,s,a)},t.setTransform=function(t,n,i,r,s,a){e.setTransform(t,n,i,r,s,a),this.__originalSetTransform(t,n,i,r,s,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,r,s,a){e.bezierCurveTo(t,n,i,r,s,a),this.__originalBezierCurveTo(t,n,i,r,s,a)},t.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask;x(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,i,r,s){this.ctx.transform(t,e,n,i,r,s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,a=this.current;let o,l,c=a.x,u=a.y;const h=(0,i.getCurrentTransform)(s),d=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],p=d?n.slice(0):null;for(let i=0,f=0,g=t.length;i<g;i++)switch(0|t[i]){case r.OPS.rectangle:c=e[f++],u=e[f++];const t=e[f++],n=e[f++],i=c+t,g=u+n;s.moveTo(c,u),0===t||0===n?s.lineTo(i,g):(s.lineTo(i,u),s.lineTo(i,g),s.lineTo(c,g)),d||a.updateRectMinMax(h,[c,u,i,g]),s.closePath();break;case r.OPS.moveTo:c=e[f++],u=e[f++],s.moveTo(c,u),d||a.updatePathMinMax(h,c,u);break;case r.OPS.lineTo:c=e[f++],u=e[f++],s.lineTo(c,u),d||a.updatePathMinMax(h,c,u);break;case r.OPS.curveTo:o=c,l=u,c=e[f+4],u=e[f+5],s.bezierCurveTo(e[f],e[f+1],e[f+2],e[f+3],c,u),a.updateCurvePathMinMax(h,o,l,e[f],e[f+1],e[f+2],e[f+3],c,u,p),f+=6;break;case r.OPS.curveTo2:o=c,l=u,s.bezierCurveTo(c,u,e[f],e[f+1],e[f+2],e[f+3]),a.updateCurvePathMinMax(h,o,l,c,u,e[f],e[f+1],e[f+2],e[f+3],p),c=e[f+2],u=e[f+3],f+=4;break;case r.OPS.curveTo3:o=c,l=u,c=e[f+2],u=e[f+3],s.bezierCurveTo(e[f],e[f+1],c,u,c,u),a.updateCurvePathMinMax(h,o,l,e[f],e[f+1],c,u,c,u,p),f+=4;break;case r.OPS.closePath:s.closePath()}d&&a.updateScalingPathMinMax(h,p),a.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(t){t="undefined"===typeof t||t;const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,(0,i.getCurrentTransformInverse)(e),s.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t){t="undefined"===typeof t||t;const e=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,(0,i.getCurrentTransformInverse)(e),s.PathType.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=E}eoClip(){this.pendingClip=C}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const s=n.loadedName||"sans-serif";let a="normal";n.black?a="900":n.bold&&(a="bold");const o=n.italic?"italic":"normal",l='"'.concat(s,'", ').concat(n.fallbackName);let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font="".concat(o," ").concat(a," ").concat(c,"px ").concat(l)}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,i,r,s){this.current.textMatrix=[t,e,n,i,r,s],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let f;(l.disableFontFace||d||p)&&(f=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p?(a.save(),a.translate(e,n),a.beginPath(),f(a,u),s&&a.setTransform(...s),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fillText(t,e,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.strokeText(t,e,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(a),x:e,y:n,fontSize:u,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(0===a)return;const o=this.ctx,l=e.fontSizeScale,c=e.charSpacing,u=e.wordSpacing,h=e.fontDirection,d=e.textHScale*h,p=t.length,f=n.vertical,g=f?1:-1,m=n.defaultVMetrics,v=a*e.fontMatrix[0],b=e.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;let y;if(o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),h>0?o.scale(d,-1):o.scale(d,1),e.patternFill){o.save();const t=e.fillColor.getPattern(o,this,(0,i.getCurrentTransformInverse)(o),s.PathType.FILL);y=(0,i.getCurrentTransform)(o),o.restore(),o.fillStyle=t}let _=e.lineWidth;const x=e.textMatrixScale;if(0===x||0===_){const t=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;t!==r.TextRenderingMode.STROKE&&t!==r.TextRenderingMode.FILL_STROKE||(_=this.getSinglePixelWidth())}else _/=x;1!==l&&(o.scale(l,l),_/=l),o.lineWidth=_;let w,S=0;for(w=0;w<p;++w){const e=t[w];if("number"===typeof e){S+=g*e*a/1e3;continue}let i=!1;const r=(e.isSpace?u:0)+c,s=e.fontChar,d=e.accent;let p,_,x,k=e.width;if(f){const t=e.vmetric||m,n=-(e.vmetric?t[1]:.5*k)*v,i=t[2]*v;k=t?-t[0]:k,p=n/l,_=(S+i)/l}else p=S/l,_=0;if(n.remeasure&&k>0){const t=1e3*o.measureText(s).width/a*l;if(k<t&&this.isFontSubpixelAAEnabled){const e=k/t;i=!0,o.save(),o.scale(e,1),p/=e}else k!==t&&(p+=(k-t)/2e3*a/l)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(b&&!d)o.fillText(s,p,_);else if(this.paintChar(s,p,_,y),d){const t=p+a*d.offset.x/l,e=_-a*d.offset.y/l;this.paintChar(d.fontChar,t,e,y)}x=f?k*v-r*h:k*v+r*h,S+=x,i&&o.restore()}f?e.y-=S:e.x+=S*d,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*a,h=n.fontMatrix||r.FONT_IDENTITY_MATRIX,d=t.length;let p,f,g,m;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==s){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(u,a),p=0;p<d;++p){if(f=t[p],"number"===typeof f){m=o*f*s/1e3,this.ctx.translate(m,0),n.x+=m*u;continue}const a=(f.isSpace?c:0)+l,d=i.charProcOperatorList[f.operatorListId];d?(this.contentVisible&&(this.processingType3=f,this.save(),e.scale(s,s),e.transform(...h),this.executeOperatorList(d),this.restore()),g=r.Util.applyTransform([f.width,0],h)[0]*s+a,e.translate(g,0),n.x+=g*u):(0,r.warn)('Type3 character "'.concat(f.operatorListId,'" is not available.'))}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,i,r,s){this.ctx.rect(n,i,r-n,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),a={createCanvasGraphics:t=>new P(t,this.commonObjs,this.objs,this.canvasFactory)};e=new s.TilingPattern(t,n,this.ctx,a,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){var i;const s=(null===(i=this.selectColor)||void 0===i?void 0:i.call(this,t,e,n))||r.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(t,e,n){var i;const s=(null===(i=this.selectColor)||void 0===i?void 0:i.call(this,t,e,n))||r.Util.makeHexColor(t,e,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=(0,s.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,(0,i.getCurrentTransformInverse)(e),s.PathType.SHADING);const a=(0,i.getCurrentTransformInverse)(e);if(a){const t=e.canvas,n=t.width,i=t.height,s=r.Util.applyTransform([0,0],a),o=r.Util.applyTransform([0,i],a),l=r.Util.applyTransform([n,0],a),c=r.Util.applyTransform([n,i],a),u=Math.min(s[0],o[0],l[0],c[0]),h=Math.min(s[1],o[1],l[1],c[1]),d=Math.max(s[0],o[0],l[0],c[0]),p=Math.max(s[1],o[1],l[1],c[1]);this.ctx.fillRect(u,h,d-u,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform(...t),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||(0,r.info)("TODO: Support non-isolated groups."),t.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=r.Util.getAxialAlignedBoundingBox(t.bbox,(0,i.getCurrentTransform)(e));const a=[0,0,e.canvas.width,e.canvas.height];s=r.Util.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),c=Math.floor(s[1]);let u=Math.max(Math.ceil(s[2])-o,1),h=Math.max(Math.ceil(s[3])-c,1),d=1,p=1;u>l&&(d=u/l,u=l),h>l&&(p=h/l,h=l),this.current.startNewPathAndClipBox([0,0,u,h]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,u,h),v=g.context;v.scale(1/d,1/p),v.translate(-o,-c),v.transform(...n),t.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:c,scaleX:d,scaleY:p,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,c),e.scale(d,p),e.save()),m(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=r.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,s,a){if(_assertClassBrand(A,this,M).call(this),v(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(e)&&4===e.length){const s=e[2]-e[0],o=e[3]-e[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=s,e[3]=o;const[a,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.setTransform(a,0,0,-l,0,o*l),v(this.ctx,this.foregroundColor)}else v(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],s,o),this.ctx.clip(),this.endPath()}this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(t){const{width:e,height:n}=t;if(e>c||n>c)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let s,a,o,l=new Uint8Array(r*(n+1));const u=e+7&-8;let h=new Uint8Array(u*n),d=0;for(const c of t.data){let t=128;for(;t>0;)h[d++]=c&t?0:255,t>>=1}let p=0;for(d=0,0!==h[d]&&(l[0]=1,++p),a=1;a<e;a++)h[d]!==h[d+1]&&(l[a]=h[d]?2:1,++p),d++;for(0!==h[d]&&(l[a]=2,++p),s=1;s<n;s++){d=s*u,o=s*r,h[d-u]!==h[d]&&(l[o]=h[d]?1:8,++p);let t=(h[d]?4:0)+(h[d-u]?8:0);for(a=1;a<e;a++)t=(t>>2)+(h[d+1]?4:0)+(h[d-u+1]?8:0),i[t]&&(l[o+a]=i[t],++p),d++;if(h[d-u]!==h[d]&&(l[o+a]=h[d]?2:4,++p),p>1e3)return null}for(d=u*(n-1),o=s*r,0!==h[d]&&(l[o]=8,++p),a=1;a<e;a++)h[d]!==h[d+1]&&(l[o+a]=h[d]?4:8,++p),d++;if(0!==h[d]&&(l[o+a]=4,++p),p>1e3)return null;const f=new Int32Array([0,r,-1,0,-r,0,0,0,1]),g=new Path2D;for(s=0;p&&s<=n;s++){let t=s*r;const n=t+e;for(;t<n&&!l[t];)t++;if(t===n)continue;g.moveTo(t%r,s);const i=t;let a=l[t];do{const e=f[a];do{t+=e}while(!l[t]);const n=l[t];5!==n&&10!==n?(a=n,l[t]=0):(a=n&51*a>>4,l[t]&=a>>2|a<<2),g.lineTo(t%r,t/r|0),l[t]||--p}while(i!==t);--s}return h=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(g),t.beginPath(),t.restore()}}(t)),i.compiled))return void i.compiled(n);const r=this._createMaskCanvas(t),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(e,n,s,a,0,0);const u=this._createMaskCanvas(t);l.setTransform(1,0,0,1,0,0);for(let i=0,h=o.length;i<h;i+=2){const t=r.Util.transform(c,[e,n,s,a,o[i],o[i+1]]),[h,d]=r.Util.applyTransform([0,0],t);l.drawImage(u.canvas,h,d)}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const a of t){const{data:t,width:o,height:l,transform:c}=a,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=u.context;h.save(),g(h,this.getObject(t,a)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(e),s.PathType.FILL):n,h.fillRect(0,0,o,l),h.restore(),e.save(),e.transform(...c),e.scale(1,-1),d(e,u.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s)return void(0,r.warn)("Dependent image isn't ready yet");const a=s.width,o=s.height,l=[];for(let r=0,c=i.length;r<c;r+=2)l.push({transform:[e,0,0,n,i[r],i[r+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;let a;if(this.save(),s.scale(1/e,-1/n),"function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)a=t;else{const i=this.cachedCanvases.getCanvas("inlineImage",e,n);f(i.context,t,this.current.transferMaps),a=i.canvas}const o=this._scaleImage(a,(0,i.getCurrentTransformInverse)(s));s.imageSmoothingEnabled=w((0,i.getCurrentTransform)(s),t.interpolate);const[l,c]=d(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n);if(this.imageLayer){const[e,s]=r.Util.applyTransform([0,-n],(0,i.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:s,width:l,height:c})}this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,s=t.width,a=t.height,o=this.cachedCanvases.getCanvas("inlineImage",s,a);f(o.context,t,this.current.transferMaps);for(const l of e){if(n.save(),n.transform(...l.transform),n.scale(1,-1),d(n,o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){const[e,n]=r.Util.applyTransform([l.x,l.y],(0,i.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:n,width:s,height:a})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===C?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=(0,i.getCurrentTransform)(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:t}=this.current,e=(0,i.getCurrentTransform)(this.ctx);let n,r;if(0===e[1]&&0===e[2]){const i=Math.abs(e[0]),s=Math.abs(e[3]);if(0===t)n=1/i,r=1/s;else{const e=i*t,a=s*t;n=e<1?1/e:1,r=a<1?1/a:1}}else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[1]),a=Math.hypot(e[2],e[3]);if(0===t)n=a/i,r=s/i;else{const e=t*i;n=a>e?a/e:1,r=s>e?s/e:1}}this._cachedScaleForStroking=[n,r]}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(e.lineWidth=n||1,1===r&&1===s)return void e.stroke();let a,o,l;t&&(a=(0,i.getCurrentTransform)(e),o=e.getLineDash().slice(),l=e.lineDashOffset),e.scale(r,s);const c=Math.max(r,s);e.setLineDash(e.getLineDash().map((t=>t/c))),e.lineDashOffset/=c,e.stroke(),t&&(e.setTransform(...a),e.setLineDash(o),e.lineDashOffset=l)}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function M(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}e.CanvasGraphics=P;for(const T in r.OPS)void 0!==P.prototype[T]&&(P.prototype[r.OPS[T]]=P.prototype[T])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new c(t);case"Mesh":return new d(t);case"Dummy":return new p}throw new Error("Unknown IR type: ".concat(t[0]))};var i=n(1),r=n(8),s=n(3);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function o(t,e){if(!e||s.isNodeJS)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}e.PathType=a;class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class c extends l{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let l;if(s===a.STROKE||s===a.FILL){const a=e.current.getClippedPathBoundingBox(s,(0,r.getCurrentTransform)(t))||[0,0,0,0],u=Math.ceil(a[2]-a[0])||1,h=Math.ceil(a[3]-a[1])||1,d=e.cachedCanvases.getCanvas("pattern",u,h,!0),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-a[0],-a[1]),n=i.Util.transform(n,[1,0,0,1,a[0],a[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),o(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),l=t.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(n);try{l.setTransform(f)}catch(c){(0,i.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null===c||void 0===c?void 0:c.message,'".'))}}else o(t,this._bbox),l=this._createGradient(t);return l}}function u(t,e,n,i,r,s,a,o){const l=e.coords,c=e.colors,u=t.data,h=4*t.width;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=s,s=a,a=d),l[i+1]>l[r+1]&&(d=i,i=r,r=d,d=a,a=o,o=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=s,s=a,a=d);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY;if(f>=b)return;const y=c[s],_=c[s+1],x=c[s+2],w=c[a],S=c[a+1],k=c[a+2],E=c[o],C=c[o+1],A=c[o+2],P=Math.round(f),M=Math.round(b);let T,R,F,I,L,D,O,N;for(let j=P;j<=M;j++){if(j<m){let t;t=j<f?0:(f-j)/(f-m),T=p-(p-g)*t,R=y-(y-w)*t,F=_-(_-S)*t,I=x-(x-k)*t}else{let t;t=j>b?1:m===b?0:(m-j)/(m-b),T=g-(g-v)*t,R=w-(w-E)*t,F=S-(S-C)*t,I=k-(k-A)*t}let t;t=j<f?0:j>b?1:(f-j)/(f-b),L=p-(p-v)*t,D=y-(y-E)*t,O=_-(_-C)*t,N=x-(x-A)*t;const e=Math.round(Math.min(T,L)),n=Math.round(Math.max(T,L));let i=h*j+4*e;for(let r=e;r<=n;r++)t=(T-r)/(T-L),t<0?t=0:t>1&&(t=1),u[i++]=R-(R-D)*t|0,u[i++]=F-(F-O)*t|0,u[i++]=I-(I-N)*t|0,u[i++]=255}}function h(t,e,n){const i=e.coords,r=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(s=0;s<l;s++){let e=s*o;for(let s=0;s<c;s++,e++)u(t,n,i[e],i[e+1],i[e+o],r[e],r[e+1],r[e+o]),u(t,n,i[e+o+1],i[e+1],i[e+o],r[e+o+1],r[e+1],r[e+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)u(t,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class d extends l{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(s*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),c=s/o,u=a/l,d={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/u},p=o+4,f=l+4,g=n.getCanvas("mesh",p,f,!1),m=g.context,v=m.createImageData(o,l);if(e){const t=v.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const b of this._figures)h(v,b,d);return m.putImageData(v,2,2),{canvas:g.canvas,offsetX:i-2*c,offsetY:r-2*u,scaleX:c,scaleY:u}}getPattern(t,e,n,s){let l;if(o(t,this._bbox),s===a.SHADING)l=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(t));else if(l=i.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=i.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*t[0],l[1]*t[1]]}const c=this._createMeshCanvas(l,s===a.SHADING?null:this._background,e.cachedCanvases);return s!==a.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class p extends l{getPattern(){return"hotpink"}}const f=1,g=2;class m{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(t,e,n,i,r){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,s=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+l);const h=n[0],d=n[1],p=n[2],f=n[3],g=i.Util.singularValueDecompose2dScale(this.matrix),m=i.Util.singularValueDecompose2dScale(this.baseTransform),v=[g[0]*m[0],g[1]*m[1]],b=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),_=t.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),x=_.context,w=u.createCanvasGraphics(x);w.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(w,o,c);let S=h,k=d,E=p,C=f;return h<0&&(S=0,E+=Math.abs(h)),d<0&&(k=0,C+=Math.abs(d)),x.translate(-b.scale*S,-y.scale*k),w.transform(b.scale,0,0,y.scale,0,0),x.save(),this.clipBbox(w,S,k,E,C),w.baseTransform=(0,r.getCurrentTransform)(w.ctx),w.executeOperatorList(e),w.endDrawing(),{canvas:_.canvas,scaleX:b.scale,scaleY:y.scale,offsetX:S,offsetY:k}}getSizeAndScale(t,e,n){t=Math.abs(t);const i=Math.max(m.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,s){const a=i-e,o=s-n;t.ctx.rect(e,n,a,o),t.current.updateRectMinMax((0,r.getCurrentTransform)(t.ctx),[e,n,i,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,s=t.current;switch(e){case f:const t=this.ctx;r.fillStyle=t.fillStyle,r.strokeStyle=t.strokeStyle,s.fillColor=t.fillStyle,s.strokeColor=t.strokeStyle;break;case g:const a=i.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new i.FormatError("Unsupported paint type: ".concat(e))}}getPattern(t,e,n,r){let s=n;r!==a.SHADING&&(s=i.Util.transform(s,e.baseTransform),this.matrix&&(s=i.Util.transform(s,this.matrix)));const o=this.createPatternCanvas(e);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=t.createPattern(o.canvas,"repeat");try{c.setTransform(l)}catch(u){(0,i.warn)('TilingPattern.getPattern: "'.concat(null===u||void 0===u?void 0:u.message,'".'))}return c}}e.TilingPattern=m},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=function(t){let{src:e,srcPos:n=0,dest:r,destPos:s=0,width:a,height:o,inverseDecode:l=!1}=t;const c=i.FeatureTest.isLittleEndian?4278190080:255,[u,h]=l?[0,c]:[c,0],d=a>>3,p=7&a,f=e.length;r=new Uint32Array(r.buffer);for(let i=0;i<o;i++){for(const i=n+d;n<i;n++){const t=n<f?e[n]:255;r[s++]=128&t?h:u,r[s++]=64&t?h:u,r[s++]=32&t?h:u,r[s++]=16&t?h:u,r[s++]=8&t?h:u,r[s++]=4&t?h:u,r[s++]=2&t?h:u,r[s++]=1&t?h:u}if(0===p)continue;const t=n<f?e[n++]:255;for(let e=0;e<p;e++)r[s++]=t&1<<7-e?h:u}return{srcPos:n,destPos:s}};var i=n(1)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=n(1);const r=1,s=2,a=1,o=2,l=3,c=4,u=5,h=6,d=7,p=8;function f(t){switch(t instanceof Error||"object"===typeof t&&null!==t||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new i.AbortException(t.message);case"MissingPDFException":return new i.MissingPDFException(t.message);case"PasswordException":return new i.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new i.UnknownErrorException(t.message,t.details);default:return new i.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===r)n.resolve(e.data);else{if(e.callback!==s)throw new Error("Unexpected callback case");n.reject(f(e.reason))}return}const i=this.actionHandler[e.action];if(!i)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,a=e.sourceName;new Promise((function(t){t(i(e.data))})).then((function(i){n.postMessage({sourceName:t,targetName:a,callback:r,callbackId:e.callbackId,data:i})}),(function(i){n.postMessage({sourceName:t,targetName:a,callback:s,callbackId:e.callbackId,reason:f(i)})}))}else e.streamId?this._createStreamSink(e):i(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,s=(0,i.createPromiseCapability)();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(t,e,n,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const a=(0,i.createPromiseCapability)();return this.streamControllers[s]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:t,streamId:s,data:e,desiredSize:n.desiredSize},r),a.promise},pull:t=>{const e=(0,i.createPromiseCapability)();return this.streamControllers[s].pullCall=e,c.postMessage({sourceName:o,targetName:l,stream:h,streamId:s,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,i.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,i.createPromiseCapability)();return this.streamControllers[s].cancelCall=e,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:a,streamId:s,reason:f(t)}),e.promise}},n)}_createStreamSink(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,a=this,o=this.actionHandler[t.action],h={enqueue(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=a,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:c,streamId:e,chunk:t},o)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:l,streamId:e}),delete a.streamSinks[e])},error(t){(0,i.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:u,streamId:e,reason:f(t)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,new Promise((function(e){e(o(t.data,h))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:e,reason:f(t)})}))}_processStreamMessage(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,g=this.streamControllers[e],m=this.streamSinks[e];switch(t.stream){case p:t.success?g.startCall.resolve():g.startCall.reject(f(t.reason));break;case d:t.success?g.pullCall.resolve():g.pullCall.reject(f(t.reason));break;case h:if(!m){s.postMessage({sourceName:n,targetName:r,stream:d,streamId:e,success:!0});break}m.desiredSize<=0&&t.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=t.desiredSize,new Promise((function(t){t(m.onPull&&m.onPull())})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:d,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:r,stream:d,streamId:e,reason:f(t)})}));break;case c:if((0,i.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(t.chunk);break;case l:if((0,i.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,e);break;case u:(0,i.assert)(g,"error should have stream controller"),g.controller.error(f(t.reason)),this._deleteStreamController(g,e);break;case o:t.success?g.cancelCall.resolve():g.cancelCall.reject(f(t.reason)),this._deleteStreamController(g,e);break;case a:if(!m)break;new Promise((function(e){e(m.onCancel&&m.onCancel(f(t.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:o,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:r,stream:o,streamId:e,reason:f(t)})})),m.sinkCapability.reject(f(t.reason)),m.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,e){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(1),r=new WeakMap,s=new WeakMap;e.Metadata=class{constructor(t){let{parsedData:e,rawData:n}=t;_classPrivateFieldInitSpec(this,r,void 0),_classPrivateFieldInitSpec(this,s,void 0),_classPrivateFieldSet(r,this,e),_classPrivateFieldSet(s,this,n)}getRaw(){return _classPrivateFieldGet(s,this)}get(t){var e;return null!==(e=_classPrivateFieldGet(r,this).get(t))&&void 0!==e?e:null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(r,this))}has(t){return _classPrivateFieldGet(r,this).has(t)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var i=n(1);const r=Symbol("INTERNAL");var s=new WeakMap;class a{constructor(t,e){_classPrivateFieldInitSpec(this,s,!0),this.name=t,this.intent=e}get visible(){return _classPrivateFieldGet(s,this)}_setVisible(t,e){t!==r&&(0,i.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(s,this,e)}}var o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakSet;function d(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const e=t[r];let s;if(Array.isArray(e))s=_assertClassBrand(h,this,d).call(this,e);else{if(!_classPrivateFieldGet(l,this).has(e))return(0,i.warn)("Optional content group not found: ".concat(e)),!0;s=_classPrivateFieldGet(l,this).get(e).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}e.OptionalContentConfig=class{constructor(t){if(_classPrivateMethodInitSpec(this,h),_classPrivateFieldInitSpec(this,o,!0),_classPrivateFieldInitSpec(this,l,new Map),_classPrivateFieldInitSpec(this,c,null),_classPrivateFieldInitSpec(this,u,null),this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,_classPrivateFieldSet(u,this,t.order);for(const e of t.groups)_classPrivateFieldGet(l,this).set(e.id,new a(e.name,e.intent));if("OFF"===t.baseState)for(const t of _classPrivateFieldGet(l,this).values())t._setVisible(r,!1);for(const e of t.on)_classPrivateFieldGet(l,this).get(e)._setVisible(r,!0);for(const e of t.off)_classPrivateFieldGet(l,this).get(e)._setVisible(r,!1);_classPrivateFieldSet(c,this,new Map);for(const[t,e]of _classPrivateFieldGet(l,this))_classPrivateFieldGet(c,this).set(t,e.visible)}}isVisible(t){if(0===_classPrivateFieldGet(l,this).size)return!0;if(!t)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return _classPrivateFieldGet(l,this).has(t.id)?_classPrivateFieldGet(l,this).get(t.id).visible:((0,i.warn)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return _assertClassBrand(h,this,d).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(l,this).has(e))return(0,i.warn)("Optional content group not found: ".concat(e)),!0;if(_classPrivateFieldGet(l,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(l,this).has(e))return(0,i.warn)("Optional content group not found: ".concat(e)),!0;if(!_classPrivateFieldGet(l,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(l,this).has(e))return(0,i.warn)("Optional content group not found: ".concat(e)),!0;if(!_classPrivateFieldGet(l,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(l,this).has(e))return(0,i.warn)("Optional content group not found: ".concat(e)),!0;if(_classPrivateFieldGet(l,this).get(e).visible)return!1}return!0}return(0,i.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,i.warn)("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(l,this).has(t)?(_classPrivateFieldGet(l,this).get(t)._setVisible(r,!!e),_classPrivateFieldSet(o,this,null)):(0,i.warn)("Optional content group not found: ".concat(t))}get hasInitialVisibility(){if(null!==_classPrivateFieldGet(o,this))return _classPrivateFieldGet(o,this);for(const[t,e]of _classPrivateFieldGet(l,this)){const n=_classPrivateFieldGet(c,this).get(t);if(e.visible!==n)return _classPrivateFieldSet(o,this,!1)}return _classPrivateFieldSet(o,this,!0)}getOrder(){return _classPrivateFieldGet(l,this).size?_classPrivateFieldGet(u,this)?_classPrivateFieldGet(u,this).slice():[..._classPrivateFieldGet(l,this).keys()]:null}getGroups(){return _classPrivateFieldGet(l,this).size>0?(0,i.objectFromMap)(_classPrivateFieldGet(l,this)):null}getGroup(t){return _classPrivateFieldGet(l,this).get(t)||null}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=n(1),r=n(8);e.PDFDataTransportStream=class{constructor(t,e){(0,i.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const n=t.initialData;if((null===n||void 0===n?void 0:n.length)>0){const t=new Uint8Array(n).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,i.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];null!==e&&void 0!==e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;null!==e&&void 0!==e&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new s(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new a(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}};class s{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=(0,r.isPdfFile)(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};return function t(i){var r;if(!i)return;let s=null;const a=i.name;if("#text"===a)s=i.value;else{if(!n.shouldBuildText(a))return;null!==i&&void 0!==i&&null!==(r=i.attributes)&&void 0!==r&&r.textContent?s=i.attributes.textContent:i.value&&(s=i.value)}if(null!==s&&e.push({str:s}),i.children)for(const e of i.children)t(e)}(t),i}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=n(9);const r=function(t){return new Promise(((e,n)=>{__webpack_require__(5618).readFile(t,((t,i)=>{!t&&i?e(new Uint8Array(i)):n(new Error(t))}))}))};class s extends i.BaseCanvasFactory{_createCanvas(t,e){return __webpack_require__(7640).createCanvas(t,e)}}e.NodeCanvasFactory=s;class a extends i.BaseCMapReaderFactory{_fetchData(t,e){return r(t).then((t=>({cMapData:t,compressionType:e})))}}e.NodeCMapReaderFactory=a;class o extends i.BaseStandardFontDataFactory{_fetchData(t){return r(t)}}e.NodeStandardFontDataFactory=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var i=n(7),r=n(1),s=n(23),a=n(24),o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakSet;class m{constructor(t){_classPrivateMethodInitSpec(this,g),_classPrivateFieldInitSpec(this,o,void 0),_classPrivateFieldInitSpec(this,l,!1),_classPrivateFieldInitSpec(this,c,this.pointerup.bind(this)),_classPrivateFieldInitSpec(this,u,this.pointerdown.bind(this)),_classPrivateFieldInitSpec(this,h,new Map),_classPrivateFieldInitSpec(this,d,!1),_classPrivateFieldInitSpec(this,p,!1),_classPrivateFieldInitSpec(this,f,void 0),m._initialized||(m._initialized=!0,s.FreeTextEditor.initialize(t.l10n),a.InkEditor.initialize(t.l10n),t.uiManager.registerEditorTypes([s.FreeTextEditor,a.InkEditor])),_classPrivateFieldSet(f,this,t.uiManager),this.annotationStorage=t.annotationStorage,this.pageIndex=t.pageIndex,this.div=t.div,_classPrivateFieldSet(o,this,t.accessibilityManager),_classPrivateFieldGet(f,this).addLayer(this)}updateToolbar(t){_classPrivateFieldGet(f,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(f,this).getMode();_assertClassBrand(g,this,_).call(this),t===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(f,this).unselectAll()}addInkEditorIfNeeded(t){if(t||_classPrivateFieldGet(f,this).getMode()===r.AnnotationEditorType.INK){if(!t)for(const t of _classPrivateFieldGet(h,this).values())if(t.isEmpty())return void t.setInBackground();_assertClassBrand(g,this,y).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(t){_classPrivateFieldGet(f,this).setEditingState(t)}addCommands(t){_classPrivateFieldGet(f,this).addCommands(t)}enable(){this.div.style.pointerEvents="auto";for(const t of _classPrivateFieldGet(h,this).values())t.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const t of _classPrivateFieldGet(h,this).values())t.disableEditing()}setActiveEditor(t){_classPrivateFieldGet(f,this).getActive()!==t&&_classPrivateFieldGet(f,this).setActiveEditor(t)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(u,this)),this.div.addEventListener("pointerup",_classPrivateFieldGet(c,this))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(u,this)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(c,this))}attach(t){_classPrivateFieldGet(h,this).set(t.id,t)}detach(t){var e;_classPrivateFieldGet(h,this).delete(t.id),null===(e=_classPrivateFieldGet(o,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv)}remove(t){_classPrivateFieldGet(f,this).removeEditor(t),this.detach(t),this.annotationStorage.remove(t.id),t.div.style.display="none",setTimeout((()=>{t.div.style.display="",t.div.remove(),t.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(f,this).focusMainContainer()}),0),_classPrivateFieldGet(p,this)||this.addInkEditorIfNeeded(!1)}add(t){if(_assertClassBrand(g,this,v).call(this,t),_classPrivateFieldGet(f,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}this.moveEditorInDOM(t),t.onceAdded(),this.addToAnnotationStorage(t)}moveEditorInDOM(t){var e;null===(e=_classPrivateFieldGet(o,this))||void 0===e||e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addToAnnotationStorage(t){t.isEmpty()||this.annotationStorage.has(t.id)||this.annotationStorage.setValue(t.id,t)}addOrRebuild(t){t.needsToBeRebuilt()?t.rebuild():this.add(t)}addANewEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!0})}addUndoableEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(f,this).getId()}deserialize(t){switch(t.annotationType){case r.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(t,this);case r.AnnotationEditorType.INK:return a.InkEditor.deserialize(t,this)}return null}setSelected(t){_classPrivateFieldGet(f,this).setSelected(t)}toggleSelected(t){_classPrivateFieldGet(f,this).toggleSelected(t)}isSelected(t){return _classPrivateFieldGet(f,this).isSelected(t)}unselect(t){_classPrivateFieldGet(f,this).unselect(t)}pointerup(t){const e=i.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e||t.target===this.div&&_classPrivateFieldGet(d,this)&&(_classPrivateFieldSet(d,this,!1),_classPrivateFieldGet(l,this)?_assertClassBrand(g,this,y).call(this,t):_classPrivateFieldSet(l,this,!0))}pointerdown(t){const e=i.KeyboardManager.platform.isMac;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;_classPrivateFieldSet(d,this,!0);const n=_classPrivateFieldGet(f,this).getActive();_classPrivateFieldSet(l,this,!n||n.isEmpty())}drop(t){const e=t.dataTransfer.getData("text/plain"),n=_classPrivateFieldGet(f,this).getEditor(e);if(!n)return;t.preventDefault(),t.dataTransfer.dropEffect="move",_assertClassBrand(g,this,v).call(this,n);const i=this.div.getBoundingClientRect(),r=t.clientX-i.x,s=t.clientY-i.y;n.translate(r-n.startX,s-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(t){t.preventDefault()}destroy(){var t;(null===(t=_classPrivateFieldGet(f,this).getActive())||void 0===t?void 0:t.parent)===this&&_classPrivateFieldGet(f,this).setActiveEditor(null);for(const n of _classPrivateFieldGet(h,this).values()){var e;null===(e=_classPrivateFieldGet(o,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.isAttachedToDOM=!1,n.div.remove(),n.parent=null}this.div=null,_classPrivateFieldGet(h,this).clear(),_classPrivateFieldGet(f,this).removeLayer(this)}render(t){this.viewport=t.viewport,(0,i.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const e of _classPrivateFieldGet(f,this).getEditors(this.pageIndex))this.add(e);this.updateMode()}update(t){this.viewport=t.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[t,e,n,i]=this.viewport.viewBox;return[n-t,i-e]}get viewportBaseDimensions(){const{width:t,height:e,rotation:n}=this.viewport;return n%180===0?[t,e]:[e,t]}setDimensions(){const{width:t,height:e,rotation:n}=this.viewport,i=n%180!==0,r=Math.floor(t)+"px",s=Math.floor(e)+"px";this.div.style.width=i?s:r,this.div.style.height=i?r:s,this.div.setAttribute("data-main-rotation",n)}}function v(t){var e;t.parent!==this&&(this.attach(t),t.pageIndex=this.pageIndex,null===(e=t.parent)||void 0===e||e.detach(t),t.parent=this,t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}function b(t){switch(_classPrivateFieldGet(f,this).getMode()){case r.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(t);case r.AnnotationEditorType.INK:return new a.InkEditor(t)}return null}function y(t){const e=this.getNextId(),n=_assertClassBrand(g,this,b).call(this,{parent:this,id:e,x:t.offsetX,y:t.offsetY});return n&&this.add(n),n}function _(){_classPrivateFieldSet(p,this,!0);for(const t of _classPrivateFieldGet(h,this).values())t.isEmpty()&&t.remove();_classPrivateFieldSet(p,this,!1)}_defineProperty(m,"_initialized",!1),e.AnnotationEditorLayer=m},(t,e,n)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var r=n(1),s=n(7),a=n(6),o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakSet;class g extends a.AnnotationEditor{constructor(t){super({...t,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,f),_classPrivateFieldInitSpec(this,o,this.editorDivBlur.bind(this)),_classPrivateFieldInitSpec(this,l,this.editorDivFocus.bind(this)),_classPrivateFieldInitSpec(this,c,this.editorDivKeydown.bind(this)),_classPrivateFieldInitSpec(this,u,void 0),_classPrivateFieldInitSpec(this,h,""),_classPrivateFieldInitSpec(this,d,!1),_classPrivateFieldInitSpec(this,p,void 0),_classPrivateFieldSet(u,this,t.color||g._defaultColor||a.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(p,this,t.fontSize||g._defaultFontSize)}static initialize(t){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map((e=>[e,t.get(e)])));const e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:g._defaultFontSize=e;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:g._defaultColor=e}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:_assertClassBrand(f,this,m).call(this,e);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:_assertClassBrand(f,this,v).call(this,e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,g._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,g._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(p,this)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(u,this)]]}getInitialTranslation(){return[-g._internalPadding*this.parent.scaleFactor,-(g._internalPadding+_classPrivateFieldGet(p,this))*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(c,this)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(l,this)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(o,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(c,this)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(l,this)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(o,this)),this.div.focus(),this.isEditing=!1)}focusin(t){super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),_classPrivateFieldGet(d,this)||(_classPrivateFieldSet(d,this,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(h,this,_assertClassBrand(f,this,b).call(this).trimEnd()),_assertClassBrand(f,this,y).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(t){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(t){g._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id","".concat(this.id,"-editor")),this.enableEditing(),g._l10nPromise.get("editor_free_text_aria_label").then((t=>{var e;return null===(e=this.editorDiv)||void 0===e?void 0:e.setAttribute("aria-label",t)})),g._l10nPromise.get("free_text_default_content").then((t=>{var e;return null===(e=this.editorDiv)||void 0===e?void 0:e.setAttribute("default-content",t)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(_classPrivateFieldGet(p,this),"px * var(--scale-factor))"),n.color=_classPrivateFieldGet(u,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i);for(const t of _classPrivateFieldGet(h,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(t,e){const n=super.deserialize(t,e);return _classPrivateFieldSet(p,n,t.fontSize),_classPrivateFieldSet(u,n,r.Util.makeHexColor(...t.color)),_classPrivateFieldSet(h,n,t.value),n}serialize(){if(this.isEmpty())return null;const t=g._internalPadding*this.parent.scaleFactor,e=this.getRect(t,t),n=a.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:_classPrivateFieldGet(p,this),value:_classPrivateFieldGet(h,this),pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}function m(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))"),this.translate(0,-(t-_classPrivateFieldGet(p,this))*this.parent.scaleFactor),_classPrivateFieldSet(p,this,t),_assertClassBrand(f,this,y).call(this)},n=_classPrivateFieldGet(p,this);this.parent.addCommands({cmd:()=>{e(t)},undo:()=>{e(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function v(t){const e=_classPrivateFieldGet(u,this);this.parent.addCommands({cmd:()=>{_classPrivateFieldSet(u,this,t),this.editorDiv.style.color=t},undo:()=>{_classPrivateFieldSet(u,this,e),this.editorDiv.style.color=e},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function b(){const t=this.editorDiv.getElementsByTagName("div");if(0===t.length)return this.editorDiv.innerText;const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n].firstChild;"#text"===(null===i||void 0===i?void 0:i.nodeName)?e.push(i.data):e.push("")}return e.join("\n")}function y(){const[t,e]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/t,this.height=n.height/e}i=g,_defineProperty(g,"_freeTextDefaultContent",""),_defineProperty(g,"_l10nPromise",void 0),_defineProperty(g,"_internalPadding",0),_defineProperty(g,"_defaultColor",null),_defineProperty(g,"_defaultFontSize",10),_defineProperty(g,"_keyboardManager",new s.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.prototype.commitOrRemove]])),_defineProperty(g,"_type","freetext"),e.FreeTextEditor=g},(t,e,n)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return a.fitCurve}});var r=n(1),s=n(6),a=n(25),o=n(7);const l=16;var c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,_=new WeakMap,x=new WeakMap,w=new WeakMap,S=new WeakSet;class k extends s.AnnotationEditor{constructor(t){super({...t,name:"inkEditor"}),_classPrivateMethodInitSpec(this,S),_classPrivateFieldInitSpec(this,c,0),_classPrivateFieldInitSpec(this,u,0),_classPrivateFieldInitSpec(this,h,0),_classPrivateFieldInitSpec(this,d,this.canvasPointermove.bind(this)),_classPrivateFieldInitSpec(this,p,this.canvasPointerleave.bind(this)),_classPrivateFieldInitSpec(this,f,this.canvasPointerup.bind(this)),_classPrivateFieldInitSpec(this,g,this.canvasPointerdown.bind(this)),_classPrivateFieldInitSpec(this,m,!1),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldInitSpec(this,b,null),_classPrivateFieldInitSpec(this,y,null),_classPrivateFieldInitSpec(this,_,0),_classPrivateFieldInitSpec(this,x,0),_classPrivateFieldInitSpec(this,w,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(t){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map((e=>[e,t.get(e)])))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:k._defaultThickness=e;break;case r.AnnotationEditorParamsType.INK_COLOR:k._defaultColor=e;break;case r.AnnotationEditorParamsType.INK_OPACITY:k._defaultOpacity=e/100}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:_assertClassBrand(S,this,E).call(this,e);break;case r.AnnotationEditorParamsType.INK_COLOR:_assertClassBrand(S,this,C).call(this,e);break;case r.AnnotationEditorParamsType.INK_OPACITY:_assertClassBrand(S,this,A).call(this,e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,k._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,k._defaultColor||s.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*k._defaultOpacity)]]}get propertiesToUpdate(){var t;return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||k._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||k._defaultColor||s.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:k._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_assertClassBrand(S,this,D).call(this),_assertClassBrand(S,this,O).call(this)),this.isAttachedToDOM||(this.parent.add(this),_assertClassBrand(S,this,N).call(this)),_assertClassBrand(S,this,q).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(y,this).disconnect(),_classPrivateFieldSet(y,this,null),super.remove())}enableEditMode(){_classPrivateFieldGet(m,this)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(g,this)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(f,this)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(g,this)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(f,this)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(m,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(m,this,!0),this.div.classList.add("disabled"),_assertClassBrand(S,this,q).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(t){super.focusin(t),this.enableEditMode()}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!_classPrivateFieldGet(m,this)&&(this.setInForeground(),"mouse"!==t.type&&this.div.focus(),t.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(p,this)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(d,this)),_assertClassBrand(S,this,T).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.stopPropagation(),_assertClassBrand(S,this,R).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){0===t.button&&this.isInEditMode()&&0!==this.currentPath.length&&(t.stopPropagation(),_assertClassBrand(S,this,L).call(this,t),this.setInBackground())}canvasPointerleave(t){_assertClassBrand(S,this,L).call(this,t),this.setInBackground()}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),k._l10nPromise.get("editor_ink_aria_label").then((t=>{var e;return null===(e=this.div)||void 0===e?void 0:e.setAttribute("aria-label",t)}));const[n,i,r,s]=_assertClassBrand(S,this,P).call(this);if(this.setAt(n,i,0,0),this.setDims(r,s),_assertClassBrand(S,this,D).call(this),this.width){const[n,i]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),_classPrivateFieldSet(v,this,!0),_assertClassBrand(S,this,N).call(this),this.setDims(this.width*n,this.height*i),_assertClassBrand(S,this,I).call(this),_assertClassBrand(S,this,X).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _assertClassBrand(S,this,O).call(this),this.div}setDimensions(t,e){const n=Math.round(t),i=Math.round(e);if(_classPrivateFieldGet(_,this)===n&&_classPrivateFieldGet(x,this)===i)return;_classPrivateFieldSet(_,this,n),_classPrivateFieldSet(x,this,i),this.canvas.style.visibility="hidden",_classPrivateFieldGet(c,this)&&Math.abs(_classPrivateFieldGet(c,this)-t/e)>.01&&(e=Math.ceil(t/_classPrivateFieldGet(c,this)),this.setDims(t,e));const[r,s]=this.parent.viewportBaseDimensions;this.width=t/r,this.height=e/s,_classPrivateFieldGet(m,this)&&_assertClassBrand(S,this,j).call(this,t,e),_assertClassBrand(S,this,N).call(this),_assertClassBrand(S,this,I).call(this),this.canvas.style.visibility="visible"}static deserialize(t,e){const n=super.deserialize(t,e);n.thickness=t.thickness,n.color=r.Util.makeHexColor(...t.color),n.opacity=t.opacity;const[i,s]=e.pageDimensions,a=n.width*i,o=n.height*s,d=e.scaleFactor,p=t.thickness/2;_classPrivateFieldSet(c,n,a/o),_classPrivateFieldSet(m,n,!0),_classPrivateFieldSet(_,n,Math.round(a)),_classPrivateFieldSet(x,n,Math.round(o));for(const{bezier:r}of t.paths){const t=[];n.paths.push(t);let e=d*(r[0]-p),i=d*(o-r[1]-p);for(let n=2,a=r.length;n<a;n+=6){const s=d*(r[n]-p),a=d*(o-r[n+1]-p),l=d*(r[n+2]-p),c=d*(o-r[n+3]-p),u=d*(r[n+4]-p),h=d*(o-r[n+5]-p);t.push([[e,i],[s,a],[l,c],[u,h]]),e=u,i=h}const s=_assertClassBrand(k,this,B).call(this,t);n.bezierPath2D.push(s)}const f=_assertClassBrand(S,n,U).call(n);return _classPrivateFieldSet(h,n,Math.max(l,f[2]-f[0])),_classPrivateFieldSet(u,n,Math.max(l,f[3]-f[1])),_assertClassBrand(S,n,j).call(n,a,o),n}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=this.rotation%180===0?t[3]-t[1]:t[2]-t[0],n=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:_assertClassBrand(S,this,W).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,e),pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}function E(t){const e=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=t,_assertClassBrand(S,this,q).call(this)},undo:()=>{this.thickness=e,_assertClassBrand(S,this,q).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function C(t){const e=this.color;this.parent.addCommands({cmd:()=>{this.color=t,_assertClassBrand(S,this,I).call(this)},undo:()=>{this.color=e,_assertClassBrand(S,this,I).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function A(t){t/=100;const e=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=t,_assertClassBrand(S,this,I).call(this)},undo:()=>{this.opacity=e,_assertClassBrand(S,this,I).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function P(){const{width:t,height:e,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,t,t,e];case 180:return[t,e,t,e];case 270:return[e,0,t,e];default:return[0,0,t,e]}}function M(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle="".concat(this.color).concat((0,o.opacityToHex)(this.opacity))}function T(t,e){var n;this.isEditing=!0,_classPrivateFieldGet(v,this)||(_classPrivateFieldSet(v,this,!0),_assertClassBrand(S,this,N).call(this),this.thickness||(this.thickness=i._defaultThickness),this.color||(this.color=i._defaultColor||s.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=i._defaultOpacity)),this.currentPath.push([t,e]),_classPrivateFieldSet(b,this,null),_assertClassBrand(S,this,M).call(this),this.ctx.beginPath(),this.ctx.moveTo(t,e),_classPrivateFieldSet(w,this,(()=>{_classPrivateFieldGet(w,this)&&(_classPrivateFieldGet(b,this)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_assertClassBrand(S,this,I).call(this),this.ctx.lineTo(..._classPrivateFieldGet(b,this)),_classPrivateFieldSet(b,this,null),this.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(w,this)))})),window.requestAnimationFrame(_classPrivateFieldGet(w,this))}function R(t,e){const[n,i]=this.currentPath.at(-1);t===n&&e===i||(this.currentPath.push([t,e]),_classPrivateFieldSet(b,this,[t,e]))}function F(t,e){this.ctx.closePath(),_classPrivateFieldSet(w,this,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let s;if(t===n&&e===r||this.currentPath.push([t,e]),1!==this.currentPath.length)s=(0,a.fitCurve)(this.currentPath,30,null);else{const n=[t,e];s=[[n,n.slice(),n.slice(),n]]}const o=B.call(i,s);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(s),this.bezierPath2D.push(o),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_assertClassBrand(S,this,D).call(this),_assertClassBrand(S,this,O).call(this)),_assertClassBrand(S,this,q).call(this))},mustExec:!0})}function I(){if(this.isEmpty())return void _assertClassBrand(S,this,z).call(this);_assertClassBrand(S,this,M).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),_assertClassBrand(S,this,z).call(this);for(const n of this.bezierPath2D)e.stroke(n)}function L(t){_assertClassBrand(S,this,F).call(this,t.offsetX,t.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(p,this)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(d,this)),this.parent.addToAnnotationStorage(this)}function D(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i._l10nPromise.get("editor_ink_canvas_aria_label").then((t=>{var e;return null===(e=this.canvas)||void 0===e?void 0:e.setAttribute("aria-label",t)})),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function O(){_classPrivateFieldSet(y,this,new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}))),_classPrivateFieldGet(y,this).observe(this.div)}function N(){if(!_classPrivateFieldGet(v,this))return;const[t,e]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),_assertClassBrand(S,this,z).call(this)}function j(t,e){const n=_assertClassBrand(S,this,G).call(this),i=(t-n)/_classPrivateFieldGet(h,this),r=(e-n)/_classPrivateFieldGet(u,this);this.scaleFactor=Math.min(i,r)}function z(){const t=_assertClassBrand(S,this,G).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function B(t){const e=new Path2D;for(let n=0,i=t.length;n<i;n++){const[i,r,s,a]=t[n];0===n&&e.moveTo(...i),e.bezierCurveTo(r[0],r[1],s[0],s[1],a[0],a[1])}return e}function W(t,e,n,i){const r=[],s=this.thickness/2;let a,o;for(const l of this.paths){a=[],o=[];for(let r=0,c=l.length;r<c;r++){const[c,u,h,d]=l[r],p=t*(c[0]+e)+s,f=i-t*(c[1]+n)-s,g=t*(u[0]+e)+s,m=i-t*(u[1]+n)-s,v=t*(h[0]+e)+s,b=i-t*(h[1]+n)-s,y=t*(d[0]+e)+s,_=i-t*(d[1]+n)-s;0===r&&(a.push(p,f),o.push(p,f)),a.push(g,m,v,b,y,_),_assertClassBrand(S,this,H).call(this,p,f,g,m,v,b,y,_,4,o)}r.push({bezier:a,points:o})}return r}function H(t,e,n,i,r,s,a,o,l,c){if(_assertClassBrand(S,this,V).call(this,t,e,n,i,r,s,a,o))c.push(a,o);else{for(let u=1;u<l-1;u++){const h=u/l,d=1-h;let p=h*t+d*n,f=h*e+d*i,g=h*n+d*r,m=h*i+d*s;p=h*p+d*g,f=h*f+d*m,g=h*g+d*(h*r+d*a),m=h*m+d*(h*s+d*o),p=h*p+d*g,f=h*f+d*m,c.push(p,f)}c.push(a,o)}}function V(t,e,n,i,r,s,a,o){const l=(3*n-2*t-a)**2,c=(3*i-2*e-o)**2,u=(3*r-t-2*a)**2,h=(3*s-e-2*o)**2;return Math.max(l,u)+Math.max(c,h)<=10}function U(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[a,o,l,c]of s){const s=r.Util.bezierBoundingBox(...a,...o,...l,...c);t=Math.min(t,s[0]),n=Math.min(n,s[1]),e=Math.max(e,s[2]),i=Math.max(i,s[3])}return[t,n,e,i]}function G(){return _classPrivateFieldGet(m,this)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function q(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!_classPrivateFieldGet(m,this))return void _assertClassBrand(S,this,I).call(this);const e=_assertClassBrand(S,this,U).call(this),n=_assertClassBrand(S,this,G).call(this);_classPrivateFieldSet(h,this,Math.max(l,e[2]-e[0])),_classPrivateFieldSet(u,this,Math.max(l,e[3]-e[1]));const i=Math.ceil(n+_classPrivateFieldGet(h,this)*this.scaleFactor),r=Math.ceil(n+_classPrivateFieldGet(u,this)*this.scaleFactor),[s,a]=this.parent.viewportBaseDimensions;this.width=i/s,this.height=r/a,_classPrivateFieldSet(c,this,i/r),_assertClassBrand(S,this,X).call(this);const o=this.translationX,d=this.translationY;this.translationX=-e[0],this.translationY=-e[1],_assertClassBrand(S,this,N).call(this),_assertClassBrand(S,this,I).call(this),_classPrivateFieldSet(_,this,i),_classPrivateFieldSet(x,this,r),this.setDims(i,r);const p=t?n/this.scaleFactor/2:0;this.translate(o-this.translationX-p,d-this.translationY-p)}function X(){const{style:t}=this.div;_classPrivateFieldGet(c,this)>=1?(t.minHeight="".concat(l,"px"),t.minWidth="".concat(Math.round(_classPrivateFieldGet(c,this)*l),"px")):(t.minWidth="".concat(l,"px"),t.minHeight="".concat(Math.round(l/_classPrivateFieldGet(c,this)),"px"))}i=k,_defineProperty(k,"_defaultColor",null),_defineProperty(k,"_defaultOpacity",1),_defineProperty(k,"_defaultThickness",1),_defineProperty(k,"_l10nPromise",void 0),_defineProperty(k,"_type","ink"),e.InkEditor=k},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const i=n(26);e.fitCurve=i},t=>{function e(t,r,s,a,o){var c,u,h,d,p,f,g,m,v,b,y,_,x;if(2===t.length)return _=l.vectorLen(l.subtract(t[0],t[1]))/3,[c=[t[0],l.addArrays(t[0],l.mulItems(r,_)),l.addArrays(t[1],l.mulItems(s,_)),t[1]]];if(u=function(t){var e,n,i,r=[];return t.forEach(((t,s)=>{e=s?n+l.vectorLen(l.subtract(t,i)):0,r.push(e),n=e,i=t})),r=r.map((t=>t/n))}(t),[c,d,f]=n(t,u,u,r,s,o),0===d||d<a)return[c];if(d<a*a)for(h=u,p=d,g=f,x=0;x<20;x++){if(h=i(c,t,h),[c,d,f]=n(t,u,h,r,s,o),d<a)return[c];if(f===g){let t=d/p;if(t>.9999&&t<1.0001)break}p=d,g=f}return y=[],(m=l.subtract(t[f-1],t[f+1])).every((t=>0===t))&&(m=l.subtract(t[f-1],t[f]),[m[0],m[1]]=[-m[1],m[0]]),v=l.normalize(m),b=l.mulItems(v,-1),y=(y=y.concat(e(t.slice(0,f+1),r,v,a,o))).concat(e(t.slice(f),b,s,a,o))}function n(t,e,n,i,r,o){var u,h,d;return u=function(t,e,n,i){var r,s,a,o,u,h,d,p,f,g,m,v,b,y,_,x,w,S=t[0],k=t[t.length-1];for(r=[S,null,null,k],s=l.zeros_Xx2x2(e.length),b=0,y=e.length;b<y;b++)w=1-(x=e[b]),(a=s[b])[0]=l.mulItems(n,3*x*(w*w)),a[1]=l.mulItems(i,3*w*(x*x));for(o=[[0,0],[0,0]],u=[0,0],b=0,y=t.length;b<y;b++)x=e[b],a=s[b],o[0][0]+=l.dot(a[0],a[0]),o[0][1]+=l.dot(a[0],a[1]),o[1][0]+=l.dot(a[0],a[1]),o[1][1]+=l.dot(a[1],a[1]),_=l.subtract(t[b],c.q([S,S,k,k],x)),u[0]+=l.dot(a[0],_),u[1]+=l.dot(a[1],_);return h=o[0][0]*o[1][1]-o[1][0]*o[0][1],d=o[0][0]*u[1]-o[1][0]*u[0],p=u[0]*o[1][1]-u[1]*o[0][1],f=0===h?0:p/h,g=0===h?0:d/h,v=l.vectorLen(l.subtract(S,k)),f<(m=1e-6*v)||g<m?(r[1]=l.addArrays(S,l.mulItems(n,v/3)),r[2]=l.addArrays(k,l.mulItems(i,v/3))):(r[1]=l.addArrays(S,l.mulItems(n,f)),r[2]=l.addArrays(k,l.mulItems(i,g))),r}(t,n,i,r),[h,d]=function(t,e,n){var i,r,o,u,h,d,p,f;r=0,o=Math.floor(t.length/2);const g=s(e,10);for(h=0,d=t.length;h<d;h++)p=t[h],f=a(0,n[h],g,10),(i=(u=l.subtract(c.q(e,f),p))[0]*u[0]+u[1]*u[1])>r&&(r=i,o=h);return[r,o]}(t,u,e),o&&o({bez:u,points:t,params:e,maxErr:h,maxPoint:d}),[u,h,d]}function i(t,e,n){return n.map(((n,i)=>r(t,e[i],n)))}function r(t,e,n){var i=l.subtract(c.q(t,n),e),r=c.qprime(t,n),s=l.mulMatrix(i,r),a=l.sum(l.squareItems(r))+2*l.mulMatrix(i,c.qprimeprime(t,n));return 0===a?n:n-s/a}var s=function(t,e){for(var n,i=[0],r=t[0],s=0,a=1;a<=e;a++)n=c.q(t,a/e),s+=l.vectorLen(l.subtract(n,r)),i.push(s),r=n;return i=i.map((t=>t/s))};function a(t,e,n,i){if(e<0)return 0;if(e>1)return 1;for(var r,s,a,o,l=1;l<=i;l++)if(e<=n[l]){a=(l-1)/i,s=l/i,o=(e-(r=n[l-1]))/(n[l]-r)*(s-a)+a;break}return o}function o(t,e){return l.normalize(l.subtract(t,e))}class l{static zeros_Xx2x2(t){for(var e=[];t--;)e.push([0,0]);return e}static mulItems(t,e){return t.map((t=>t*e))}static mulMatrix(t,e){return t.reduce(((t,n,i)=>t+n*e[i]),0)}static subtract(t,e){return t.map(((t,n)=>t-e[n]))}static addArrays(t,e){return t.map(((t,n)=>t+e[n]))}static addItems(t,e){return t.map((t=>t+e))}static sum(t){return t.reduce(((t,e)=>t+e))}static dot(t,e){return l.mulMatrix(t,e)}static vectorLen(t){return Math.hypot(...t)}static divItems(t,e){return t.map((t=>t/e))}static squareItems(t){return t.map((t=>t*t))}static normalize(t){return this.divItems(t,this.vectorLen(t))}}class c{static q(t,e){var n=1-e,i=l.mulItems(t[0],n*n*n),r=l.mulItems(t[1],3*n*n*e),s=l.mulItems(t[2],3*n*e*e),a=l.mulItems(t[3],e*e*e);return l.addArrays(l.addArrays(i,r),l.addArrays(s,a))}static qprime(t,e){var n=1-e,i=l.mulItems(l.subtract(t[1],t[0]),3*n*n),r=l.mulItems(l.subtract(t[2],t[1]),6*n*e),s=l.mulItems(l.subtract(t[3],t[2]),3*e*e);return l.addArrays(l.addArrays(i,r),s)}static qprimeprime(t,e){return l.addArrays(l.mulItems(l.addArrays(l.subtract(t[2],l.mulItems(t[1],2)),t[0]),6*(1-e)),l.mulItems(l.addArrays(l.subtract(t[3],l.mulItems(t[2],2)),t[1]),6*e))}}t.exports=function(t,n,i){if(!Array.isArray(t))throw new TypeError("First argument should be an array");if(t.forEach((e=>{if(!Array.isArray(e)||e.some((t=>"number"!==typeof t))||e.length!==t[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(t=t.filter(((e,n)=>0===n||!e.every(((e,i)=>e===t[n-1][i]))))).length<2)return[];const r=t.length,s=o(t[1],t[0]),a=o(t[r-2],t[r-1]);return e(t,s,a,n,i)},t.exports.fitCubic=e,t.exports.createTangent=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(1),r=n(8),s=n(5),a=n(28),o=n(29);const l=1e3,c=new WeakSet;function u(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class h{static create(t){switch(t.data.annotationType){case i.AnnotationType.LINK:return new p(t);case i.AnnotationType.TEXT:return new f(t);case i.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new m(t);case"Btn":return t.data.radioButton?new b(t):t.data.checkBox?new v(t):new y(t);case"Ch":return new _(t)}return new g(t);case i.AnnotationType.POPUP:return new x(t);case i.AnnotationType.FREETEXT:return new S(t);case i.AnnotationType.LINE:return new k(t);case i.AnnotationType.SQUARE:return new E(t);case i.AnnotationType.CIRCLE:return new C(t);case i.AnnotationType.POLYLINE:return new A(t);case i.AnnotationType.CARET:return new M(t);case i.AnnotationType.INK:return new T(t);case i.AnnotationType.POLYGON:return new P(t);case i.AnnotationType.HIGHLIGHT:return new R(t);case i.AnnotationType.UNDERLINE:return new F(t);case i.AnnotationType.SQUIGGLY:return new I(t);case i.AnnotationType.STRIKEOUT:return new L(t);case i.AnnotationType.STAMP:return new D(t);case i.AnnotationType.FILEATTACHMENT:return new O(t);default:return new d(t)}}}class d{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,e&&(this.container=this._createContainer(n)),i&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.data,n=this.page,r=this.viewport,s=document.createElement("section"),{width:a,height:o}=u(e.rect),[l,c,h,d]=r.viewBox,p=h-l,f=d-c;s.setAttribute("data-annotation-id",e.id);const g=i.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(!t&&e.borderStyle.width>0){s.style.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");s.style.borderRadius=e}else if(this instanceof b){const t="calc(".concat(a,"px * var(--scale-factor)) / calc(").concat(o,"px * var(--scale-factor))");s.style.borderRadius=t}switch(e.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}const r=e.borderColor||null;r?s.style.borderColor=i.Util.makeHexColor(0|r[0],0|r[1],0|r[2]):s.style.borderWidth=0}s.style.left="".concat(100*(g[0]-l)/p,"%"),s.style.top="".concat(100*(g[1]-c)/f,"%");const{rotation:m}=e;return e.hasOwnCanvas||0===m?(s.style.width="".concat(100*a/p,"%"),s.style.height="".concat(100*o/f,"%")):this.setRotation(m,s),s}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;const[n,i,r,s]=this.viewport.viewBox,a=r-n,o=s-i,{width:l,height:c}=u(this.data.rect);let h,d;t%180===0?(h=100*l/a,d=100*c/o):(h=100*c/a,d=100*l/o),e.style.width="".concat(h,"%"),e.style.height="".concat(d,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t];n.target.style[e]=a.ColorConverters["".concat(i[0],"_HTML")](i.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:t=>{const e=t.detail.display%2===1;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{this.container.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];r&&r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const s=n[i];s&&(s({detail:{[i]:r},target:t}),delete e[i])}}_createQuadrilaterals(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;const e=[],n=this.data.rect;for(const i of this.data.quadPoints)this.data.rect=[i[2].x,i[2].y,i[1].x,i[1].y],e.push(this._createContainer(t));return this.data.rect=n,e}_createPopup(t,e){let n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).className="popupTriggerArea",n.append(t));const i=new w({container:n,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,hideWrapper:!0}).render();i.style.left="100%",n.append(i)}_renderQuadrilaterals(t){for(const e of this.quadrilaterals)e.className=t;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:t,id:s,exportValues:a}of r){if(-1===t)continue;if(s===e)continue;const r="string"===typeof a?a:null,o=document.querySelector('[data-element-id="'.concat(s,'"]'));!o||c.has(o)?n.push({id:s,exportValue:r,domElement:o}):(0,i.warn)("_getElementsByName - element not allowed: ".concat(s))}return n}for(const i of document.getElementsByName(t)){const{id:t,exportValue:r}=i;t!==e&&c.has(i)&&n.push({id:t,exportValue:r,domElement:i})}return n}static get platform(){const t="undefined"!==typeof navigator?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class p extends d{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action),i=!0):t.dest?(this._bindLink(n,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((t,e)=>{const i=0===e?n:n.cloneNode();return t.append(i),t})):(this.container.className="linkAnnotation",i&&this.container.append(n),this.container)}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const r=n.get(i);r&&(t[r]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n&&n();const{fields:t,refs:r,include:s}=e,a=[];if(0!==t.length||0!==r.length){const e=new Set(r);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===s&&a.push(n)}else for(const e of Object.values(this._fieldObjects))a.push(...e);const o=this.annotationStorage,l=[];for(const e of a){const{id:t}=e;switch(l.push(t),e.type){case"text":{const n=e.defaultValue||"";o.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;o.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";o.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(c.has(n)?n.dispatchEvent(new Event("resetform")):(0,i.warn)("_bindResetFormAction - element not allowed: ".concat(t)))}var u;return this.enableScripting&&(null===(u=this.linkService.eventBus)||void 0===u||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}class f extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.append(t),this.container}}class g extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:e,isMac:n}=d.platform;return e&&t.ctrlKey||n&&t.metaKey}_setEventListener(t,e,n,i){e.includes("mouse")?t.addEventListener(e,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:i(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(e,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:i(t)}})}))}_setEventListeners(t,e,n){for(const[r,s]of e){var i;("Action"===s||null!==(i=this.data.actions)&&void 0!==i&&i[s])&&this._setEventListener(t,r,s,n)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":i.Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,s=t.style;let a;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]),e=t/(Math.round(t/(i.LINE_FACTOR*r))||1);a=Math.min(r,Math.round(e/i.LINE_FACTOR))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]);a=Math.min(r,Math.round(t/i.LINE_FACTOR))}s.fontSize="calc(".concat(a,"px * var(--scale-factor))"),s.color=i.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class m extends g{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[e]=n),r.setValue(s.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.formattedValue||r.value||"";const a=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));const o={userValue:s,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",s),this.data.doNotScroll&&(n.style.overflowX="hidden")),c.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=l,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value")})),n.addEventListener("resetform",(t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=o.userValue=i,o.formattedValue=null}));let u=t=>{const{formattedValue:e}=o;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",(t=>{o.userValue&&(t.target.value=o.userValue),o.valueOnFocus=t.target.value})),n.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;o.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",t.setValue(e,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),t.setValue(e,{formattedValue:i})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:r}=n.detail,{target:s}=n;if(0===r)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",r);let a=o.userValue;!a||a.length<=r||(a=a.slice(0,r),s.value=o.userValue=a,t.setValue(e,{value:a}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{var n;let i=-1;if("Escape"===t.key?i=0:"Enter"===t.key?i=2:"Tab"===t.key&&(i=3),-1===i)return;const{value:r}=t.target;o.valueOnFocus!==r&&(o.userValue=r,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const r=u;u=null,n.addEventListener("blur",(t=>{const{value:n}=t.target;var i;o.userValue=n,this._mouseState.isDown&&o.valueOnFocus!==n&&(null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),r(t)})),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",(t=>{var n;const{data:i,target:r}=t,{value:s,selectionStart:a,selectionEnd:o}=r;let l=a,c=o;switch(t.inputType){case"deleteWordBackward":{const t=s.substring(0,a).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=s.substring(a).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(u&&n.addEventListener("blur",u),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class v extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.className="buttonWidgetAnnotation checkBox";const r=document.createElement("input");return c.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=l,r.addEventListener("change",(i=>{const{name:r,checked:s}=i.target;for(const a of this._getElementsByName(r,n)){const n=s&&a.exportValue===e.exportValue;a.domElement&&(a.domElement.checked=n),t.setValue(a.id,{value:n})}t.setValue(n,{value:s})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class b extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;"string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i}));const r=document.createElement("input");if(c.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=l,r.addEventListener("change",(e=>{const{name:i,checked:r}=e.target;for(const s of this._getElementsByName(i,n))t.setValue(s.id,{value:!1});t.setValue(n,{value:r})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;r.addEventListener("updatefromsandbox",(e=>{const r={value:e=>{const r=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=r&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class y extends p{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText);const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class _ extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");c.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=l;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const l of this.data.options){const t=document.createElement("option");t.textContent=l.displayValue,t.value=l.exportValue,n.value.includes(l.exportValue)&&(t.setAttribute("selected",!0),r=!1),i.append(t)}let s=null;if(r){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),s=()=>{t.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=(t,e)=>{const n=e?"value":"textContent",i=t.target.options;return t.target.multiple?Array.prototype.filter.call(i,(t=>t.selected)).map((t=>t[n])):-1===i.selectedIndex?null:i[i.selectedIndex][n]},o=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){var r;null===(r=s)||void 0===r||r();const o=n.detail.value,l=new Set(Array.isArray(o)?o:[o]);for(const t of i.options)t.selected=l.has(t.value);t.setValue(e,{value:a(n,!0)})},multipleSelection(t){i.multiple=!0},remove(n){const r=i.options,s=n.detail.remove;r[s].selected=!1,i.remove(s),r.length>0&&-1===Array.prototype.findIndex.call(r,(t=>t.selected))&&(r[0].selected=!0),t.setValue(e,{value:a(n,!0),items:o(n)})},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]})},insert(n){const{index:r,displayValue:s,exportValue:l}=n.detail.insert,c=i.children[r],u=document.createElement("option");u.textContent=s,u.value=l,c?c.before(u):i.append(u),t.setValue(e,{value:a(n,!0),items:o(n)})},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of r){const{displayValue:e,exportValue:n}=t,r=document.createElement("option");r.textContent=e,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(n,!0),items:o(n)})},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:a(n,!0)})},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{var i;const r=a(n,!0),s=a(n,!1);t.setValue(e,{value:r}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(t=>t.target.checked))):i.addEventListener("input",(function(n){t.setValue(e,{value:a(n,!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class x extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t='[data-annotation-id="'.concat(this.data.parentId,'"]'),e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;const n=new w({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),r=this.page,s=i.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),a=s[0]+this.data.parentRect[2]-this.data.parentRect[0],o=s[1],[l,c,u,h]=this.viewport.viewBox,d=u-l,p=h-c;return this.container.style.left="".concat(100*(a-l)/d,"%"),this.container.style.top="".concat(100*(o-c)/p,"%"),this.container.append(n.render()),this.container}}class w{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var t,e;const n=document.createElement("div");n.className="popupWrapper",this.hideElement=this.hideWrapper?n:this.container,this.hideElement.hidden=!0;const s=document.createElement("div");s.className="popup";const a=this.color;if(a){const t=.7*(255-a[0])+a[0],e=.7*(255-a[1])+a[1],n=.7*(255-a[2])+a[2];s.style.backgroundColor=i.Util.makeHexColor(0|t,0|e,0|n)}const l=document.createElement("h1");l.dir=this.titleObj.dir,l.textContent=this.titleObj.str,s.append(l);const c=r.PDFDateString.toDateObject(this.modificationDate);if(c){const t=document.createElement("span");t.className="popupDate",t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()}),s.append(t)}if(null===(t=this.richText)||void 0===t||!t.str||null!==(e=this.contentsObj)&&void 0!==e&&e.str&&this.contentsObj.str!==this.richText.str){const t=this._formatContents(this.contentsObj);s.append(t)}else o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:s}),s.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const i of this.trigger)i.addEventListener("click",this._toggle.bind(this)),i.addEventListener("mouseover",this._show.bind(this,!1)),i.addEventListener("mouseout",this._hide.bind(this,!1));return s.addEventListener("click",this._hide.bind(this,!0)),n.append(s),n}_formatContents(t){let{str:e,dir:n}=t;const i=document.createElement("p");i.className="popupContent",i.dir=n;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const t=r[s];i.append(document.createTextNode(t)),s<a-1&&i.append(document.createElement("br"))}return i}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class S extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0}),this.textContent=t.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const t=document.createElement("div");t.className="annotationTextContent",t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class k extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:e,height:n}=u(t.rect),i=this.svgFactory.create(e,n,!0),r=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),this._createPopup(r,t),this.container}}class E extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:e,height:n}=u(t.rect),i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,s=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",e-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),this._createPopup(s,t),this.container}}class C extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:e,height:n}=u(t.rect),i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,s=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",e/2),s.setAttribute("cy",n/2),s.setAttribute("rx",e/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),this._createPopup(s,t),this.container}}class A extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=u(t.rect),i=this.svgFactory.create(e,n,!0);let r=[];for(const a of t.vertices){const e=a.x-t.rect[0],n=t.rect[3]-a.y;r.push(e+","+n)}r=r.join(" ");const s=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",r),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),this._createPopup(s,t),this.container}}class P extends A{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class M extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=u(t.rect),i=this.svgFactory.create(e,n,!0);for(const r of t.inkLists){let e=[];for(const i of r){const n=i.x-t.rect[0],r=t.rect[3]-i.y;e.push("".concat(n,",").concat(r))}e=e.join(" ");const n=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",e),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),this._createPopup(n,t),i.append(n)}return this.container.append(i),this.container}}class R extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class F extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class I extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class L extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class D extends d{constructor(t){var e,n,i;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(i=t.data.richText)&&void 0!==i&&i.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends d{constructor(t){var e;super(t,{isRenderable:!0});const{filename:n,content:i}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(n),this.content=i,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",{source:this,filename:n,content:i})}render(){var t,e;this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.className="popupTriggerArea",n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(t=this.data.titleObj)&&void 0!==t&&t.str||null!==(e=this.data.contentsObj)&&void 0!==e&&e.str||this.data.richText)&&this._createPopup(n,this.data),this.container.append(n),this.container}_download(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.container,this.content,this.filename)}}class N{static render(t){const{annotations:e,div:n,viewport:a,accessibilityManager:o}=t;_assertClassBrand(N,this,z).call(this,n,a);let l=0;for(const c of e){if(c.annotationType!==i.AnnotationType.POPUP){const{width:t,height:e}=u(c.rect);if(t<=0||e<=0)continue}const e=h.create({data:c,layer:n,page:t.page,viewport:a,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new r.DOMSVGFactory,annotationStorage:t.annotationStorage||new s.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(e.isRenderable){const t=e.render();if(c.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const e of t)e.style.zIndex=l++,j.call(N,e,c.id,n,o);else t.style.zIndex=l++,e instanceof x?n.prepend(t):j.call(N,t,c.id,n,o)}}_assertClassBrand(N,this,B).call(this,n,t.annotationCanvasMap)}static update(t){const{annotationCanvasMap:e,div:n,viewport:i}=t;_assertClassBrand(N,this,z).call(this,n,i),_assertClassBrand(N,this,B).call(this,n,e),n.hidden=!1}}function j(t,e,n,i){const s=t.firstChild||t;s.id="".concat(r.AnnotationPrefix).concat(e),n.append(t),null===i||void 0===i||i.moveElementInDOM(n,t,s,!1)}function z(t,e){let{width:n,height:i,rotation:r}=e;const{style:s}=t,a=r%180!==0,o=Math.floor(n)+"px",l=Math.floor(i)+"px";s.width=a?l:o,s.height=a?o:l,t.setAttribute("data-main-rotation",r)}function B(t,e){if(e){for(const[n,i]of e){const e=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!e)continue;const{firstChild:r}=e;r?"CANVAS"===r.nodeName?r.replaceWith(i):r.before(i):e.append(i)}e.clear()}}e.AnnotationLayer=N},(t,e)=>{function n(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0,e.ColorConverters=class{static CMYK_G(t){let[e,n,i,r]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_HTML(t){let[e]=t;const i=n(e);return"#".concat(i).concat(i).concat(i)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_HTML(t){let[e,i,r]=t;const s=n(e),a=n(i),o=n(r);return"#".concat(s).concat(a).concat(o)}static T_HTML(){return"#00000000"}static CMYK_RGB(t){let[e,n,i,r]=t;return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const r=1-e,s=1-n,a=1-i;return["CMYK",r,s,a,Math.min(r,s,a)]}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var i=n(20);e.XfaLayer=class{static setupStorage(t,e,n,i,r){const s=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(t.textContent=s.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?t.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===r)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&t.setAttribute("value",s.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==s.value)for(const t of n.children)t.attributes.value===s.value&&(t.attributes.selected=!0);t.addEventListener("input",(t=>{const n=t.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:r})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:r,linkService:s}=t;const{attributes:a}=n,o=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(r));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:n});const o=[[r,-1,a]],l=t.div;if(l.append(a),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");l.style.transform=e}"richText"!==s&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){var u;const[t,r,a]=o.at(-1);if(r+1===t.children.length){o.pop();continue}const l=t.children[++o.at(-1)[1]];if(null===l)continue;const{name:h}=l;if("#text"===h){const t=document.createTextNode(l.value);c.push(t),a.append(t);continue}let d;if(d=null!==l&&void 0!==l&&null!==(u=l.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(l.attributes.xmlns,h):document.createElement(h),a.append(d),l.attributes&&this.setAttributes({html:d,element:l,storage:e,intent:s,linkService:n}),l.children&&l.children.length>0)o.push([l,-1,d]);else if(l.value){const t=document.createTextNode(l.value);i.XfaText.shouldBuildText(h)&&c.push(t),d.append(t)}}for(const i of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=function(t){const e=new f({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var i=n(1),r=n(8);const s=30,a=.8,o=new Map,l=/^\s+$/g;function c(t,e,n,r){const c=document.createElement("span"),u=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};t._textDivs.push(c);const h=i.Util.transform(t._viewport.transform,e.transform);let d=Math.atan2(h[1],h[0]);const p=n[e.fontName];p.vertical&&(d+=Math.PI/2);const f=Math.hypot(h[2],h[3]),g=f*function(t,e){const n=o.get(t);if(n)return n;e.save(),e.font="".concat(s,"px ").concat(t);const i=e.measureText("");let r=i.fontBoundingBoxAscent,l=Math.abs(i.fontBoundingBoxDescent);if(r){e.restore();const n=r/(r+l);return o.set(t,n),n}e.strokeStyle="red",e.clearRect(0,0,s,s),e.strokeText("g",0,0);let c=e.getImageData(0,0,s,s).data;l=0;for(let a=c.length-1-3;a>=0;a-=4)if(c[a]>0){l=Math.ceil(a/4/s);break}e.clearRect(0,0,s,s),e.strokeText("A",0,s),c=e.getImageData(0,0,s,s).data,r=0;for(let a=0,o=c.length;a<o;a+=4)if(c[a]>0){r=s-Math.floor(a/4/s);break}if(e.restore(),r){const e=r/(r+l);return o.set(t,e),e}return o.set(t,a),a}(p.fontFamily,r);let m,v;0===d?(m=h[4],v=h[5]-g):(m=h[4]+g*Math.sin(d),v=h[5]-g*Math.cos(d)),c.style.left="".concat(m,"px"),c.style.top="".concat(v,"px"),c.style.fontSize="".concat(f,"px"),c.style.fontFamily=p.fontFamily,u.fontSize=f,c.setAttribute("role","presentation"),c.textContent=e.str,c.dir=e.dir,t._fontInspectorEnabled&&(c.dataset.fontName=e.fontName),0!==d&&(u.angle=d*(180/Math.PI));let b=!1;if(e.str.length>1||t._enhanceTextSelection&&l.test(e.str))b=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(b=!0)}if(b&&(p.vertical?u.canvasWidth=e.height*t._viewport.scale:u.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(c,u),t._textContentStream&&t._layoutText(c),t._enhanceTextSelection&&u.hasText){let n=1,r=0;0!==d&&(n=Math.cos(d),r=Math.sin(d));const s=(p.vertical?e.height:e.width)*t._viewport.scale,a=f;let o,l;0!==d?(o=[n,r,-r,n,m,v],l=i.Util.getAxialAlignedBoundingBox([0,0,s,a],o)):l=[m,v,m+s,v+a],t._bounds.push({left:l[0],top:l[1],right:l[2],bottom:l[3],div:c,size:[s,a],m:o})}}function u(t){if(t._canceled)return;const e=t._textDivs,n=t._capability,i=e.length;if(i>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(let r=0;r<i;r++)t._layoutText(e[r]);t._renderingDone=!0,n.resolve()}function h(t,e,n){let i=0;for(let r=0;r<n;r++){const n=t[e++];n>0&&(i=i?Math.min(n,i):n)}return i}function d(t){const e=t._bounds,n=t._viewport,r=function(t,e,n){const i=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));p(t,i);const r=new Array(n.length);for(const s of i){const t=s.index;r[t]={left:s.x1New,top:0,right:s.x2New,bottom:0}}n.map((function(e,n){const s=r[n],a=i[n];a.x1=e.top,a.y1=t-s.right,a.x2=e.bottom,a.y2=t-s.left,a.index=n,a.x1New=void 0,a.x2New=void 0})),p(e,i);for(const s of i){const t=s.index;r[t].top=s.x1New,r[t].bottom=s.x2New}return r}(n.width,n.height,e);for(let s=0;s<r.length;s++){const n=e[s].div,a=t._textDivProperties.get(n);if(0===a.angle){a.paddingLeft=e[s].left-r[s].left,a.paddingTop=e[s].top-r[s].top,a.paddingRight=r[s].right-e[s].right,a.paddingBottom=r[s].bottom-e[s].bottom,t._textDivProperties.set(n,a);continue}const o=r[s],l=e[s],c=l.m,u=c[0],d=c[1],p=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],f=new Float64Array(64);for(let t=0,e=p.length;t<e;t++){const e=i.Util.applyTransform(p[t],c);f[t+0]=u&&(o.left-e[0])/u,f[t+4]=d&&(o.top-e[1])/d,f[t+8]=u&&(o.right-e[0])/u,f[t+12]=d&&(o.bottom-e[1])/d,f[t+16]=d&&(o.left-e[0])/-d,f[t+20]=u&&(o.top-e[1])/u,f[t+24]=d&&(o.right-e[0])/-d,f[t+28]=u&&(o.bottom-e[1])/u,f[t+32]=u&&(o.left-e[0])/-u,f[t+36]=d&&(o.top-e[1])/-d,f[t+40]=u&&(o.right-e[0])/-u,f[t+44]=d&&(o.bottom-e[1])/-d,f[t+48]=d&&(o.left-e[0])/d,f[t+52]=u&&(o.top-e[1])/-u,f[t+56]=d&&(o.right-e[0])/d,f[t+60]=u&&(o.bottom-e[1])/-u}const g=1+Math.min(Math.abs(u),Math.abs(d));a.paddingLeft=h(f,32,16)/g,a.paddingTop=h(f,48,16)/g,a.paddingRight=h(f,0,16)/g,a.paddingBottom=h(f,16,16)/g,t._textDivProperties.set(n,a)}}function p(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of e){let t=0;for(;t<n.length&&n[t].end<=i.y1;)t++;let e,r,s=n.length-1;for(;s>=0&&n[s].start>=i.y2;)s--;let a,o,l=-1/0;for(a=t;a<=s;a++){let t;e=n[a],r=e.boundary,t=r.x2>i.x1?r.index>i.index?r.x1New:i.x1:void 0===r.x2New?(r.x2+i.x1)/2:r.x2New,t>l&&(l=t)}for(i.x1New=l,a=t;a<=s;a++)e=n[a],r=e.boundary,void 0===r.x2New?r.x2>i.x1?r.index>i.index&&(r.x2New=r.x2):r.x2New=l:r.x2New>l&&(r.x2New=Math.max(l,r.x2));const c=[];let u=null;for(a=t;a<=s;a++){e=n[a],r=e.boundary;const t=r.x2>i.x2?r:i;u===t?c.at(-1).end=e.end:(c.push({start:e.start,end:e.end,boundary:t}),u=t)}for(n[t].start<i.y1&&(c[0].start=i.y1,c.unshift({start:n[t].start,end:i.y1,boundary:n[t].boundary})),i.y2<n[s].end&&(c.at(-1).end=i.y2,c.push({start:i.y2,end:n[s].end,boundary:n[s].boundary})),a=t;a<=s;a++){if(e=n[a],r=e.boundary,void 0!==r.x2New)continue;let i=!1;for(o=t-1;!i&&o>=0&&n[o].start>=r.y1;o--)i=n[o].boundary===r;for(o=s+1;!i&&o<n.length&&n[o].end<=r.y2;o++)i=n[o].boundary===r;for(o=0;!i&&o<c.length;o++)i=c[o].boundary===r;i||(r.x2New=l)}Array.prototype.splice.apply(n,[t,s-t+1,...c])}for(const i of n){const e=i.boundary;void 0===e.x2New&&(e.x2New=Math.max(t,e.x2))}}class f{constructor(t){var e;let{textContent:n,textContentStream:s,container:a,viewport:o,textDivs:l,textContentItemsStr:c,enhanceTextSelection:u}=t;u&&(0,r.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=n,this._textContentStream=s,this._container=a,this._document=a.ownerDocument,this._viewport=o,this._textDivs=l||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(t,e){for(let n=0,i=t.length;n<i;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),c(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id","".concat(t[n].id)),e.append(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}_layoutText(t){const e=this._textDivProperties.get(t);let n="";if(0!==e.canvasWidth&&e.hasText){const{fontFamily:i}=t.style,{fontSize:r}=e;r===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(r*this._devicePixelRatio,"px ").concat(i),this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=i);const{width:s}=this._layoutTextCtx.measureText(t.textContent);if(s>0){const t=this._devicePixelRatio*e.canvasWidth/s;this._enhanceTextSelection&&(e.scale=t),n="scaleX(".concat(t,")")}}if(0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.append(t),e.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.append(t)}}_render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=(0,i.createPromiseCapability)();let n=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=s,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent){const t=this._textContent.items,n=this._textContent.styles;this._processItems(t,n),e.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then((i=>{let{value:r,done:s}=i;s?e.resolve():(Object.assign(n,r.styles),this._processItems(r.items,n),t())}),e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then((()=>{n=null,t?this._renderTimer=setTimeout((()=>{u(this),this._renderTimer=null}),t):u(this)}),this._capability.reject)}expandTextDivs(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(d(this),this._bounds=null);const e=[],n=[];for(let i=0,r=this._textDivs.length;i<r;i++){const r=this._textDivs[i],s=this._textDivProperties.get(r);s.hasText&&(t?(e.length=0,n.length=0,s.originalTransform&&e.push(s.originalTransform),s.paddingTop>0?(n.push("".concat(s.paddingTop,"px")),e.push("translateY(".concat(-s.paddingTop,"px)"))):n.push(0),s.paddingRight>0?n.push("".concat(s.paddingRight/s.scale,"px")):n.push(0),s.paddingBottom>0?n.push("".concat(s.paddingBottom,"px")):n.push(0),s.paddingLeft>0?(n.push("".concat(s.paddingLeft/s.scale,"px")),e.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):n.push(0),r.style.padding=n.join(" "),e.length&&(r.style.transform=e.join(" "))):(r.style.padding=null,r.style.transform=s.originalTransform))}}}e.TextLayerRenderTask=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(8),r=n(1),s=n(3);let a=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=a;{const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",u=["butt","round","square"],h=["miter","round","bevel"],d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([t],{type:e}));const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="data:".concat(e,";base64,");for(let s=0,a=t.length;s<a;s+=3){const e=255&t[s],n=255&t[s+1],o=255&t[s+2];r+=i[e>>2]+i[(3&e)<<4|n>>4]+i[s+1<a?(15&n)<<2|o>>6:64]+i[s+2<a?63&o:64]}return r},p=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;e[r]=t}function n(t,n,i,r){let s=r;const a=n.length;i[s]=a>>24&255,i[s+1]=a>>16&255,i[s+2]=a>>8&255,i[s+3]=255&a,s+=4,i[s]=255&t.charCodeAt(0),i[s+1]=255&t.charCodeAt(1),i[s+2]=255&t.charCodeAt(2),i[s+3]=255&t.charCodeAt(3),s+=4,i.set(n,s),s+=n.length;const o=function(t,n,i){let r=-1;for(let s=n;s<i;s++){const n=255&(r^t[s]);r=r>>>8^e[n]}return~r}(i,r+4,s);i[s]=o>>24&255,i[s+1]=o>>16&255,i[s+2]=o>>8&255,i[s+3]=255&o}function i(t){let e=t.length;const n=65535,i=Math.ceil(e/n),r=new Uint8Array(2+e+5*i+4);let s=0;r[s++]=120,r[s++]=156;let a=0;for(;e>n;)r[s++]=0,r[s++]=255,r[s++]=255,r[s++]=0,r[s++]=0,r.set(t.subarray(a,a+n),s),s+=n,a+=n,e-=n;r[s++]=1,r[s++]=255&e,r[s++]=e>>8&255,r[s++]=255&~e,r[s++]=(65535&~e)>>8&255,r.set(t.subarray(a),s),s+=t.length-a;const o=function(t,e,n){let i=1,r=0;for(let s=e;s<n;++s)i=(i+(255&t[s]))%65521,r=(r+i)%65521;return r<<16|i}(t,0,t.length);return r[s++]=o>>24&255,r[s++]=o>>16&255,r[s++]=o>>8&255,r[s++]=255&o,r}function a(e,a,o,l){const c=e.width,u=e.height;let h,p,f;const g=e.data;switch(a){case r.ImageKind.GRAYSCALE_1BPP:p=0,h=1,f=c+7>>3;break;case r.ImageKind.RGB_24BPP:p=2,h=8,f=3*c;break;case r.ImageKind.RGBA_32BPP:p=6,h=8,f=4*c;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+f)*u);let v=0,b=0;for(let t=0;t<u;++t)m[v++]=0,m.set(g.subarray(b,b+f),v),b+=f,v+=f;if(a===r.ImageKind.GRAYSCALE_1BPP&&l){v=0;for(let t=0;t<u;t++){v++;for(let t=0;t<f;t++)m[v++]^=255}}const y=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,h,p,0,0,0]),_=function(t){if(!s.isNodeJS)return i(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const n=__webpack_require__(2787).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return i(t)}(m),x=t.length+36+y.length+_.length,w=new Uint8Array(x);let S=0;return w.set(t,S),S+=t.length,n("IHDR",y,w,S),S+=12+y.length,n("IDATA",_,w,S),S+=12+_.length,n("IEND",new Uint8Array(0),w,S),d(w,"image/png",o)}return function(t,e,n){return a(t,void 0===t.kind?r.ImageKind.GRAYSCALE_1BPP:t.kind,e,n)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function g(t){let e=[];const n=[];for(const i of t)"save"!==i.fn?"restore"===i.fn?e=n.pop():e.push(i):(e.push({fnId:92,fn:"group",items:[]}),n.push(e),e=e.at(-1).items);return e}function m(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)}function v(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(m(t[0])," ").concat(m(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){const e=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(m(e),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(m(t[4])," ").concat(m(t[5]),")");return"matrix(".concat(m(t[0])," ").concat(m(t[1])," ").concat(m(t[2])," ").concat(m(t[3])," ").concat(m(t[4])," ")+"".concat(m(t[5]),")")}let b=0,y=0,_=0;e.SVGGraphics=a=class{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new f,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const i in r.OPS)this._operatorIdMapping[r.OPS[i]]=i}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,n=t.argsArray;for(let i=0,s=e.length;i<s;i++)if(e[i]===r.OPS.dependency)for(const t of n[i]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{e.get(t,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(t,e,n,i,s,a){const o=[t,e,n,i,s,a];this.transformMatrix=r.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(t,e){this.viewport=e;const n=this._initialize(e);return this.loadDependencies(t).then((()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),n)))}convertOpList(t){const e=this._operatorIdMapping,n=t.argsArray,i=t.fnArray,r=[];for(let s=0,a=i.length;s<a;s++){const t=i[s];r.push({fnId:t,fn:e[t],args:n[s]})}return g(r)}executeOpTree(t){for(const e of t){const t=e.fn,n=e.fnId,i=e.args;switch(0|n){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(i);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(i[0],i[1]);break;case r.OPS.setFont:this.setFont(i);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(i[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(i[0],i[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(i[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(i[0]);break;case r.OPS.setHScale:this.setHScale(i[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(i[0],i[1],i[2],i[3],i[4],i[5]);break;case r.OPS.setTextRise:this.setTextRise(i[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(i[0]);break;case r.OPS.setLineWidth:this.setLineWidth(i[0]);break;case r.OPS.setLineJoin:this.setLineJoin(i[0]);break;case r.OPS.setLineCap:this.setLineCap(i[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(i[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(i[0],i[1],i[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(i[0],i[1],i[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(i);break;case r.OPS.setFillColorN:this.setFillColorN(i);break;case r.OPS.shadingFill:this.shadingFill(i[0]);break;case r.OPS.setDash:this.setDash(i[0],i[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(i[0]);break;case r.OPS.setFlatness:this.setFlatness(i[0]);break;case r.OPS.setGState:this.setGState(i[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(i[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(i[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(i[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(i[0],i[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(i[0],i[1],i[2],i[3],i[4],i[5]);break;case r.OPS.constructPath:this.constructPath(i[0],i[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,r.warn)("Unimplemented operator ".concat(t))}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,n,i,r,s){const a=this.current;a.textMatrix=a.lineMatrix=[t,e,n,i,r,s],a.textMatrixScale=Math.hypot(t,e),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(m(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",m(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.append(a.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=r.IDENTITY_MATRIX,t.lineMatrix=r.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,e){const n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(m(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",m(-n.y))}showText(t){const e=this.current,n=e.font,i=e.fontSize;if(0===i)return;const s=e.fontSizeScale,a=e.charSpacing,c=e.wordSpacing,u=e.fontDirection,h=e.textHScale*u,d=n.vertical,p=d?1:-1,f=n.defaultVMetrics,g=i*e.fontMatrix[0];let b=0;for(const r of t){if(null===r){b+=u*c;continue}if("number"===typeof r){b+=p*r*i/1e3;continue}const t=(r.isSpace?c:0)+a,o=r.fontChar;let l,h,m,v=r.width;if(d){let t;const e=r.vmetric||f;t=r.vmetric?e[1]:.5*v,t=-t*g;const n=e[2]*g;v=e?-e[0]:v,l=t/s,h=(b+n)/s}else l=b/s,h=0;(r.isInFont||n.missingFile)&&(e.xcoords.push(e.x+l),d&&e.ycoords.push(-e.y+h),e.tspan.textContent+=o),m=d?v*g-t*u:v*g+t*u,b+=m}e.tspan.setAttributeNS(null,"x",e.xcoords.map(m).join(" ")),d?e.tspan.setAttributeNS(null,"y",e.ycoords.map(m).join(" ")):e.tspan.setAttributeNS(null,"y",m(-e.y)),d?e.y-=b:e.x+=b*h,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(m(e.fontSize),"px")),e.fontStyle!==o.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==o.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);const y=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(y===r.TextRenderingMode.FILL||y===r.TextRenderingMode.FILL_STROKE?(e.fillColor!==o.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),y===r.TextRenderingMode.STROKE||y===r.TextRenderingMode.FILL_STROKE){const t=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,t)}let _=e.textMatrix;0!==e.textRise&&(_=_.slice(),_[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(v(_)," scale(").concat(m(h),", -1)")),e.txtElement.setAttributeNS(l,"xml:space","preserve"),e.txtElement.append(e.tspan),e.txtgrp.append(e.txtElement),this._ensureTransformGroup().append(e.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const e=d(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(e,"); }\n")}setFont(t){const e=this.current,n=this.commonObjs.get(t[0]);let i=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal";i<0?(i=-i,e.fontDirection=-1):e.fontDirection=1,e.fontSize=i,e.fontFamily=n.loadedName,e.fontWeight=s,e.fontStyle=a,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",m(-e.y)),e.xcoords=[],e.ycoords=[]}endText(){var t;const e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=e.txtElement)&&void 0!==t&&t.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=u[t]}setLineJoin(t){this.current.lineJoin=h[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,n){this.current.strokeColor=r.Util.makeHexColor(t,e,n)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,n){this.current.fillColor=r.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),s=r.Util.applyTransform([0,0],i),a=r.Util.applyTransform([0,n],i),o=r.Util.applyTransform([e,0],i),l=r.Util.applyTransform([e,n],i),c=Math.min(s[0],a[0],o[0],l[0]),u=Math.min(s[1],a[1],o[1],l[1]),h=Math.max(s[0],a[0],o[0],l[0]),d=Math.max(s[1],a[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c),p.setAttributeNS(null,"y",u),p.setAttributeNS(null,"width",h-c),p.setAttributeNS(null,"height",d-u),p.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(p)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],n=t[2],i=t[3]||r.IDENTITY_MATRIX,[s,a,o,l]=t[4],c=t[5],u=t[6],h=t[7],d="shading".concat(_++),[p,f,g,m]=r.Util.normalizeRect([...r.Util.applyTransform([s,a],i),...r.Util.applyTransform([o,l],i)]),[v,b]=r.Util.singularValueDecompose2dScale(i),y=c*v,x=u*b,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",d),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",y),w.setAttributeNS(null,"height",x),w.setAttributeNS(null,"x","".concat(p)),w.setAttributeNS(null,"y","".concat(f));const S=this.svg,k=this.transformMatrix,E=this.current.fillColor,C=this.current.strokeColor,A=this.svgFactory.create(g-p,m-f);if(this.svg=A,this.transformMatrix=i,2===h){const t=r.Util.makeHexColor(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(n)),this.svg=S,this.transformMatrix=k,this.current.fillColor=E,this.current.strokeColor=C,w.append(A.childNodes[0]),this.defs.append(w),"url(#".concat(d,")")}_makeShadingPattern(t){switch("string"===typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const e="shading".concat(_++),n=t[3];let i;switch(t[1]){case"axial":const n=t[4],r=t[5];i=this.svgFactory.createElement("svg:linearGradient"),i.setAttributeNS(null,"id",e),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"x1",n[0]),i.setAttributeNS(null,"y1",n[1]),i.setAttributeNS(null,"x2",r[0]),i.setAttributeNS(null,"y2",r[1]);break;case"radial":const s=t[4],a=t[5],o=t[6],l=t[7];i=this.svgFactory.createElement("svg:radialGradient"),i.setAttributeNS(null,"id",e),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"cx",a[0]),i.setAttributeNS(null,"cy",a[1]),i.setAttributeNS(null,"r",l),i.setAttributeNS(null,"fx",s[0]),i.setAttributeNS(null,"fy",s[1]),i.setAttributeNS(null,"fr",o);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}for(const t of n){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),i.append(e)}return this.defs.append(i),"url(#".concat(e,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const n=this.current;let i=n.x,s=n.y,a=[],o=0;for(const l of t)switch(0|l){case r.OPS.rectangle:i=e[o++],s=e[o++];const t=i+e[o++],n=s+e[o++];a.push("M",m(i),m(s),"L",m(t),m(s),"L",m(t),m(n),"L",m(i),m(n),"Z");break;case r.OPS.moveTo:i=e[o++],s=e[o++],a.push("M",m(i),m(s));break;case r.OPS.lineTo:i=e[o++],s=e[o++],a.push("L",m(i),m(s));break;case r.OPS.curveTo:i=e[o+4],s=e[o+5],a.push("C",m(e[o]),m(e[o+1]),m(e[o+2]),m(e[o+3]),m(i),m(s)),o+=6;break;case r.OPS.curveTo2:a.push("C",m(i),m(s),m(e[o]),m(e[o+1]),m(e[o+2]),m(e[o+3])),i=e[o+2],s=e[o+3],o+=4;break;case r.OPS.curveTo3:i=e[o+2],s=e[o+3],a.push("C",m(e[o]),m(e[o+1]),m(i),m(s),m(i),m(s)),o+=4;break;case r.OPS.closePath:a.push("Z")}a=a.join(" "),n.path&&t.length>0&&t[0]!==r.OPS.rectangle&&t[0]!==r.OPS.moveTo?a=n.path.getAttributeNS(null,"d")+a:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",a),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(i,s)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath".concat(b++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",v(this.transformMatrix));const i=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(i),this.defs.append(n),t.activeClipUrl){t.clipGroup=null;for(const t of this.extraStack)t.clipGroup=null;n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(e))}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let i=n.dashArray;1!==e&&i.length>0&&(i=i.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",m(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",m(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",i.map(m).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",m(e*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(t)}paintImageXObject(t){const e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}paintInlineImageXObject(t,e){const n=t.width,i=t.height,r=p(t,this.forceDataSchema,!!e),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",m(n)),s.setAttributeNS(null,"height",m(i)),this.current.element=s,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(c,"xlink:href",r),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",m(-i)),a.setAttributeNS(null,"width",m(n)+"px"),a.setAttributeNS(null,"height",m(i)+"px"),a.setAttributeNS(null,"transform","scale(".concat(m(1/n)," ").concat(m(-1/i),")")),e?e.append(a):this._ensureTransformGroup().append(a)}paintImageMaskXObject(t){const e=this.current,n=t.width,i=t.height,r=e.fillColor;e.maskId="mask".concat(y++);const s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",e.maskId);const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",m(n)),a.setAttributeNS(null,"height",m(i)),a.setAttributeNS(null,"fill",r),a.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.append(s),this._ensureTransformGroup().append(a),this.paintInlineImageXObject(t,s)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],n=e[3]-e[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",e[0]),i.setAttributeNS(null,"y",e[1]),i.setAttributeNS(null,"width",m(t)),i.setAttributeNS(null,"height",m(n)),this.current.element=i,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.append(n),this.defs=n;const i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",v(t.transform)),e.append(i),this.svg=i,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=n(1),r=n(33);const s=__webpack_require__(5618),a=__webpack_require__(7492),o=__webpack_require__(1815),l=__webpack_require__(6671),c=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=l.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?l.parse("file:///".concat(t)):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new m(this,t,e):new f(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class u{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class p extends u{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=a.request(d(this._url,t.httpHeaders),e):this._request=o.request(d(this._url,t.httpHeaders),e),this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class f extends h{constructor(t,e,n){super(t),this._httpHeaders={};for(const i in t.httpHeaders){const e=t.httpHeaders[i];"undefined"!==typeof e&&(this._httpHeaders[i]=e)}this._httpHeaders.Range="bytes=".concat(e,"-").concat(n-1);const r=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=t}};this._request=null,"http:"===this._url.protocol?this._request=a.request(d(this._url,this._httpHeaders),r):this._request=o.request(d(this._url,this._httpHeaders),r),this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class g extends u{constructor(t){super(t);let e=decodeURIComponent(this._url.path);c.test(this._url.href)&&(e=e.replace(/^\//,"")),s.lstat(e,((t,n)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException('Missing PDF "'.concat(e,'".'))),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=n.size,this._setReadableStream(s.createReadStream(e)),this._headersCapability.resolve()}))}}class m extends h{constructor(t,e,n){super(t);let i=decodeURIComponent(this._url.path);c.test(this._url.href)&&(i=i.replace(/^\//,"")),this._setReadableStream(s.createReadStream(i,{start:e,end:n-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+e+'".'):new i.UnexpectedResponseException("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,r.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if((0,s.isPdfFile)(t))return t}return null},e.validateRangeRequestCapabilities=function(t){let{getResponseHeader:e,isHttp:n,rangeChunkSize:i,disableRange:r}=t;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*i||r||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},e.validateResponseStatus=function(t){return 200===t||206===t};var i=n(1),r=n(34),s=n(8)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let t=o(n);return t=unescape(t),t=l(t),t=c(t),a(t)}if(n=function(t){const e=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(t));){let[,t,i,r]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,r]}const s=[];for(let r=0;r<e.length&&r in e;++r){let[t,n]=e[r];n=o(n),t&&(n=unescape(n),0===r&&(n=l(n))),s.push(n)}return s.join("")}(t),n)return a(c(n));if(n=r("filename","i").exec(t),n){n=n[1];let t=o(n);return t=c(t),a(t)}function r(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function s(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(t,{fatal:!0}),s=(0,i.stringToBytes)(n);n=r.decode(s),e=!1}catch(r){}}return n}function a(t){return e&&/[\x80-\xff]/.test(t)&&(t=s("utf-8",t),e&&(t=s("iso-8859-1",t))),t}function o(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){const e=t.indexOf("'");return-1===e?t:s(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function c(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return s(e,i=(i=i.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{i=atob(i)}catch(r){}return s(e,i)}))}return""};var i=n(1)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=n(1),r=n(33);class s{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const t=this.httpHeaders[r];"undefined"!==typeof t&&e.setRequestHeader(r,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(t in this.pendingRequests))return;var s;if(delete this.pendingRequests[t],0===r.status&&this.isHttp)return void(null===(s=n.onError)||void 0===s||s.call(n,r.status));const a=r.status||200;var o;if((200!==a||206!==n.expectedStatus)&&a!==n.expectedStatus)return void(null===(o=n.onError)||void 0===o||o.call(n,r.status));const l=function(t){const e=t.response;return"string"!==typeof e?e:(0,i.stringToBytes)(e).buffer}(r);if(206===a){const t=r.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:l})}else if(l)n.onDone({begin:0,chunk:l});else{var c;null===(c=n.onError)||void 0===c||c.call(n,r.status)}}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new s(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new o(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}};class a{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:i,suggestedLength:s}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,r.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(t,e,n){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,r.createResponseStatusError)(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=n(1),r=n(33);function s(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function a(t){const e=new Headers;for(const n in t){const i=t[n];"undefined"!==typeof i&&e.append(n,i)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new l(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class o{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=a(this._stream.httpHeaders);const n=e.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,r.validateResponseStatus)(t.status))throw(0,r.createResponseStatusError)(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:s,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}class l{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const o=t.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(e,"-").concat(n-1));const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,r.validateResponseStatus)(t.status))throw(0,r.createResponseStatusError)(t.status,l);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var t=__nested_webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return r.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),i=__w_pdfjs_require__(8),r=__w_pdfjs_require__(22),s=__w_pdfjs_require__(7),a=__w_pdfjs_require__(27),o=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),c=__w_pdfjs_require__(30),u=__w_pdfjs_require__(31),h=__w_pdfjs_require__(29);if(l.isNodeJS){const{PDFNodeStream:t}=__w_pdfjs_require__(32);(0,n.setPDFNetworkStreamFactory)((e=>new t(e)))}else{const{PDFNetworkStream:t}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,n.setPDFNetworkStreamFactory)((n=>(0,i.isValidFetchUrl)(n.url)?new e(n):new t(n)))}})(),__nested_webpack_exports__})(),module.exports=factory()},9197:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.default)((function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=null;return e.forEach((function(t){if(null==r){var e=t.apply(void 0,n);null!=e&&(r=e)}})),r}))};var i,r=n(3534),s=(i=r)&&i.__esModule?i:{default:i};t.exports=e.default},3534:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n,i,r,s,a){var o=r||"<<anonymous>>",l=a||i;if(null==n[i])return e?new Error("Required "+s+" `"+l+"` was not specified in `"+o+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return t.apply(void 0,[n,i,o,s,l].concat(u))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n},t.exports=e.default},1497:(t,e,n)=>{"use strict";var i=n(3218);function r(){}function s(){}s.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,s,a){if(a!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},5173:(t,e,n)=>{t.exports=n(1497)()},3218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(t,e,n)=>{"use strict";var i=n(5043),r=n(8853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(o[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(t,e,n,i,r,s,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function y(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(f,t)||!h.call(p,t)&&(d.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=L&&t[L]||t["@@iterator"])?t:null}var O,N=Object.assign;function j(t){if(void 0===O)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O=e&&e[1]||""}return"\n"+O+t}var z=!1;function B(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||r[a]!==s[o]){var l="\n"+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function W(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case F:e=t._payload,t=t._init;try{return H(t(e))}catch(n){}}return null}function V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=G(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return N({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=U(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&y(t,"checked",e,!1)}function $(t,e){J(t,e);var n=U(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+U(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return N({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:U(n)}}function st(t,e){var n=U(e.value),i=U(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(pt).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var vt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,St=null,kt=null;function Et(t){if(t=yr(t)){if("function"!==typeof wt)throw Error(s(280));var e=t.stateNode;e&&(e=xr(e),wt(t.stateNode,t.type,e))}}function Ct(t){St?kt?kt.push(t):kt=[t]:St=t}function At(){if(St){var t=St,e=kt;if(kt=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Pt(t,e){return t(e)}function Mt(){}var Tt=!1;function Rt(t,e,n){if(Tt)return t(e,n);Tt=!0;try{return Pt(t,e,n)}finally{Tt=!1,(null!==St||null!==kt)&&(Mt(),At())}}function Ft(t,e){var n=t.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var It=!1;if(u)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(ut){It=!1}function Dt(t,e,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ot=!1,Nt=null,jt=!1,zt=null,Bt={onError:function(t){Ot=!0,Nt=t}};function Wt(t,e,n,i,r,s,a,o,l){Ot=!1,Nt=null,Dt.apply(Bt,arguments)}function Ht(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Vt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ut(t){if(Ht(t)!==t)throw Error(s(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ut(r),t;if(a===i)return Ut(r),e;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Jt=r.unstable_now,$t=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(oe(t)/le|0)|0},oe=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=268435455&n;if(0!==a){var o=a&~r;0!==o?i=he(o):0!==(s&=a)&&(i=he(s))}else 0!==(a=n&~r)?i=he(a):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-ae(e)),i|=t[n],e&=~r;return i}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function be(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ae(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ye=0;function _e(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,we,Se,ke,Ee,Ce=!1,Ae=[],Pe=null,Me=null,Te=null,Re=new Map,Fe=new Map,Ie=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Pe=null;break;case"dragenter":case"dragleave":Me=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":Re.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fe.delete(e.pointerId)}}function Oe(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=yr(e))&&we(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Ne(t){var e=br(t.target);if(null!==e){var n=Ht(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Vt(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=yr(n))&&we(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);_t=i,n.target.dispatchEvent(i),_t=null,e.shift()}return!0}function ze(t,e,n){je(t)&&n.delete(e)}function Be(){Ce=!1,null!==Pe&&je(Pe)&&(Pe=null),null!==Me&&je(Me)&&(Me=null),null!==Te&&je(Te)&&(Te=null),Re.forEach(ze),Fe.forEach(ze)}function We(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Be)))}function He(t){function e(e){return We(e,t)}if(0<Ae.length){We(Ae[0],t);for(var n=1;n<Ae.length;n++){var i=Ae[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Pe&&We(Pe,t),null!==Me&&We(Me,t),null!==Te&&We(Te,t),Re.forEach(e),Fe.forEach(e),n=0;n<Ie.length;n++)(i=Ie[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ie.length&&null===(n=Ie[0]).blockedOn;)Ne(n),null===n.blockedOn&&Ie.shift()}var Ve=_.ReactCurrentBatchConfig,Ue=!0;function Ge(t,e,n,i){var r=ye,s=Ve.transition;Ve.transition=null;try{ye=1,Xe(t,e,n,i)}finally{ye=r,Ve.transition=s}}function qe(t,e,n,i){var r=ye,s=Ve.transition;Ve.transition=null;try{ye=4,Xe(t,e,n,i)}finally{ye=r,Ve.transition=s}}function Xe(t,e,n,i){if(Ue){var r=Ye(t,e,n,i);if(null===r)Ui(t,e,i,Ke,n),De(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Pe=Oe(Pe,t,e,n,i,r),!0;case"dragenter":return Me=Oe(Me,t,e,n,i,r),!0;case"mouseover":return Te=Oe(Te,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Re.set(s,Oe(Re.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Fe.set(s,Oe(Fe.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(De(t,i),4&e&&-1<Le.indexOf(t)){for(;null!==r;){var s=yr(r);if(null!==s&&xe(s),null===(s=Ye(t,e,n,i))&&Ui(t,e,i,Ke,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Ui(t,e,i,null,n)}}var Ke=null;function Ye(t,e,n,i){if(Ke=null,null!==(t=br(t=xt(i))))if(null===(e=Ht(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Vt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Je=null,$e=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=$e,i=n.length,r="value"in Je?Je.value:Je.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===r[s-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=N({},cn,{view:0,detail:0}),dn=sn(hn),pn=N({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,on=t.screenY-ln.screenY):on=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:on}}),fn=sn(pn),gn=sn(N({},pn,{dataTransfer:0})),mn=sn(N({},hn,{relatedTarget:0})),vn=sn(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=N({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yn=sn(bn),_n=sn(N({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return kn}var Cn=N({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=sn(Cn),Pn=sn(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(N({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=sn(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=N({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=sn(Rn),In=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,Nn=u&&(!Ln||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),zn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==In.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function Gn(t,e,n,i){Ct(i),0<(e=qi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qn=null,Xn=null;function Kn(t){ji(t,0)}function Yn(t){if(X(_r(t)))return t}function Qn(t,e){if("change"===t)return e}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ei(){qn&&(qn.detachEvent("onpropertychange",ni),Xn=qn=null)}function ni(t){if("value"===t.propertyName&&Yn(Xn)){var e=[];Gn(e,Xn,t,xt(t)),Rt(Kn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Xn=n,(qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Xn)}function si(t,e){if("click"===t)return Yn(e)}function ai(t,e){if("input"===t||"change"===t)return Yn(e)}var oi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(oi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!oi(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var a=ui(n,i);r&&a&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,bi=null,yi=!1;function _i(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==K(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=qi(vi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Si={},ki={};function Ei(t){if(Si[t])return Si[t];if(!wi[t])return t;var e,n=wi[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return Si[t]=n[e];return t}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ci=Ei("animationend"),Ai=Ei("animationiteration"),Pi=Ei("animationstart"),Mi=Ei("transitionend"),Ti=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,e){Ti.set(t,e),l(e,[t])}for(var Ii=0;Ii<Ri.length;Ii++){var Li=Ri[Ii];Fi(Li.toLowerCase(),"on"+(Li[0].toUpperCase()+Li.slice(1)))}Fi(Ci,"onAnimationEnd"),Fi(Ai,"onAnimationIteration"),Fi(Pi,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Mi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Ni(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,a,o,l,c){if(Wt.apply(this,arguments),Ot){if(!Ot)throw Error(s(198));var u=Nt;Ot=!1,Nt=null,jt||(jt=!0,zt=u)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break t;Ni(r,o,c),s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break t;Ni(r,o,c),s=l}}}if(jt)throw t=zt,jt=!1,zt=null,t}function zi(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Vi(e,t,2,!1),n.add(i))}function Bi(t,e,n){var i=0;e&&(i|=4),Vi(n,t,i,e)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[Wi]){t[Wi]=!0,a.forEach((function(e){"selectionchange"!==e&&(Oi.has(e)||Bi(e,!1,t),Bi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Wi]||(e[Wi]=!0,Bi("selectionchange",!1,e))}}function Vi(t,e,n,i){switch(Qe(e)){case 1:var r=Ge;break;case 4:r=qe;break;default:r=Xe}n=r.bind(null,e,n,t),r=void 0,!It||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ui(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=br(o)))return;if(5===(l=a.tag)||6===l){i=s=a;continue t}o=o.parentNode}}i=i.return}Rt((function(){var i=s,r=xt(n),a=[];t:{var o=Ti.get(t);if(void 0!==o){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ci:case Ai:case Pi:l=vn;break;case Mi:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=Fn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Ft(f,d))&&u.push(Gi(f,g,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,r),a.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[fr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(h=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=Pn,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:_r(l),p=null==c?o:_r(c),(o=new u(g,f+"leave",l,n,r)).target=h,o.relatedTarget=p,g=null,br(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,f=0,p=u=l;p;p=Xi(p))f++;for(p=0,g=d;g;g=Xi(g))p++;for(;0<f-p;)u=Xi(u),f--;for(;0<p-f;)d=Xi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break t;u=Xi(u),d=Xi(d)}u=null}else u=null;null!==l&&Ki(a,o,l,u,!1),null!==c&&null!==h&&Ki(a,h,c,u,!0)}if("select"===(l=(o=i?_r(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Un(o))if(Jn)m=ai;else{m=ri;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=si);switch(m&&(m=m(t,i))?Gn(a,m,n,r):(v&&v(t,o,i),"focusout"===t&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&tt(o,"number",o.value)),v=i?_r(i):window,t){case"focusin":(Un(v)||"true"===v.contentEditable)&&(mi=v,vi=i,bi=null);break;case"focusout":bi=vi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,_i(a,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":_i(a,n,r)}var b;if(Ln)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Hn?Bn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=tn()):($e="value"in(Je=r)?Je.value:Je.textContent,Hn=!0)),0<(v=qi(i,y)).length&&(y=new _n(y,t,null,n,r),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Wn(n))&&(y.data=b))),(b=On?function(t,e){switch(t){case"compositionend":return Wn(e);case"keypress":return 32!==e.which?null:(zn=!0,jn);case"textInput":return(t=e.data)===jn&&zn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Ln&&Bn(t,e)?(t=tn(),Ze=$e=Je=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=b))}ji(a,e)}))}function Gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ft(t,n))&&i.unshift(Gi(t,s,r)),null!=(s=Ft(t,e))&&i.push(Gi(t,s,r))),t=t.return}return i}function Xi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ki(t,e,n,i,r){for(var s=e._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Ft(n,s))&&a.unshift(Gi(n,l,o)):r||null!=(l=Ft(n,s))&&a.push(Gi(n,l,o))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Ji(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace(Qi,"")}function $i(t,e,n){if(e=Ji(e),Ji(t)!==e&&n)throw Error(s(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(or)}:ir;function or(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void He(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);He(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,pr="__reactProps$"+hr,fr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function br(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function yr(t){return!(t=t[dr]||t[fr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _r(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function xr(t){return t[pr]||null}var wr=[],Sr=-1;function kr(t){return{current:t}}function Er(t){0>Sr||(t.current=wr[Sr],wr[Sr]=null,Sr--)}function Cr(t,e){Sr++,wr[Sr]=t.current,t.current=e}var Ar={},Pr=kr(Ar),Mr=kr(!1),Tr=Ar;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Ar;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ir(){Er(Mr),Er(Pr)}function Lr(t,e,n){if(Pr.current!==Ar)throw Error(s(168));Cr(Pr,e),Cr(Mr,n)}function Dr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,V(t)||"Unknown",r));return N({},n,i)}function Or(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,Tr=Pr.current,Cr(Pr,t),Cr(Mr,Mr.current),!0}function Nr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Dr(t,e,Tr),i.__reactInternalMemoizedMergedChildContext=t,Er(Mr),Er(Pr),Cr(Pr,t)):Er(Mr),Cr(Mr,n)}var jr=null,zr=!1,Br=!1;function Wr(t){null===jr?jr=[t]:jr.push(t)}function Hr(){if(!Br&&null!==jr){Br=!0;var t=0,e=ye;try{var n=jr;for(ye=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}jr=null,zr=!1}catch(r){throw null!==jr&&(jr=jr.slice(t+1)),Xt(Zt,Hr),r}finally{ye=e,Br=!1}}return null}var Vr=[],Ur=0,Gr=null,qr=0,Xr=[],Kr=0,Yr=null,Qr=1,Jr="";function $r(t,e){Vr[Ur++]=qr,Vr[Ur++]=Gr,Gr=t,qr=e}function Zr(t,e,n){Xr[Kr++]=Qr,Xr[Kr++]=Jr,Xr[Kr++]=Yr,Yr=t;var i=Qr;t=Jr;var r=32-ae(i)-1;i&=~(1<<r),n+=1;var s=32-ae(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Qr=1<<32-ae(e)+r|n<<r|i,Jr=s+t}else Qr=1<<s|n<<r|i,Jr=t}function ts(t){null!==t.return&&($r(t,1),Zr(t,1,0))}function es(t){for(;t===Gr;)Gr=Vr[--Ur],Vr[Ur]=null,qr=Vr[--Ur],Vr[Ur]=null;for(;t===Yr;)Yr=Xr[--Kr],Xr[Kr]=null,Jr=Xr[--Kr],Xr[Kr]=null,Qr=Xr[--Kr],Xr[Kr]=null}var ns=null,is=null,rs=!1,ss=null;function as(t,e){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function os(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yr?{id:Qr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(rs){var e=is;if(e){var n=e;if(!os(t,e)){if(ls(t))throw Error(s(418));e=cr(n.nextSibling);var i=ns;e&&os(t,e)?as(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!rs)return us(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw ds(),Error(s(418));for(;e;)as(t,e),e=cr(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?cr(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=is;t;)t=cr(t.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(t){null===ss?ss=[t]:ss.push(t)}var gs=_.ReactCurrentBatchConfig;function ms(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=r.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function vs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bs(t){return(0,t._init)(t._payload)}function ys(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ic(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Nc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===F&&bs(s)===e.type)?((i=r(e,n.props)).ref=ms(t,e,n),i.return=t,i):((i=Lc(n.type,n.key,n.props,null,t.mode,i)).ref=ms(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Dc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Nc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Lc(e.type,e.key,e.props,null,t.mode,n)).ref=ms(t,null,e),n.return=t,n;case w:return(e=jc(e,t.mode,n)).return=t,e;case F:return d(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=Dc(e,t.mode,n,null)).return=t,e;vs(t,e)}return null}function p(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(t,e,n,i):null;case w:return n.key===r?u(t,e,n,i):null;case F:return p(t,e,(r=n._init)(n._payload),i)}if(et(n)||D(n))return null!==r?null:h(t,e,n,i,null);vs(t,n)}return null}function f(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case w:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case F:return f(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||D(i))return h(e,t=t.get(n)||null,i,r,null);vs(e,i)}return null}function g(r,s,o,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(r,h,o[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===o.length)return n(r,h),rs&&$r(r,g),c;if(null===h){for(;g<o.length;g++)null!==(h=d(r,o[g],l))&&(s=a(h,s,g),null===u?c=h:u.sibling=h,u=h);return rs&&$r(r,g),c}for(h=i(r,h);g<o.length;g++)null!==(m=f(h,r,g,o[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(r,t)})),rs&&$r(r,g),c}function m(r,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=p(r,g,b.value,c);if(null===y){null===g&&(g=v);break}t&&g&&null===y.alternate&&e(r,g),o=a(y,o,m),null===h?u=y:h.sibling=y,h=y,g=v}if(b.done)return n(r,g),rs&&$r(r,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=d(r,b.value,c))&&(o=a(b,o,m),null===h?u=b:h.sibling=b,h=b);return rs&&$r(r,m),u}for(g=i(r,g);!b.done;m++,b=l.next())null!==(b=f(g,r,m,b.value,c))&&(t&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=a(b,o,m),null===h?u=b:h.sibling=b,h=b);return t&&g.forEach((function(t){return e(r,t)})),rs&&$r(r,m),u}return function t(i,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,a.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&bs(c)===u.type){n(i,u.sibling),(s=r(u,a.props)).ref=ms(i,u,a),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}a.type===S?((s=Dc(a.props.children,i.mode,l,a.key)).return=i,i=s):((l=Lc(a.type,a.key,a.props,null,i.mode,l)).ref=ms(i,s,a),l.return=i,i=l)}return o(i);case w:t:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(i,s.sibling),(s=r(s,a.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=jc(a,i.mode,l)).return=i,i=s}return o(i);case F:return t(i,s,(u=a._init)(a._payload),l)}if(et(a))return g(i,s,a,l);if(D(a))return m(i,s,a,l);vs(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,a)).return=i,i=s):(n(i,s),(s=Nc(a,i.mode,l)).return=i,i=s),o(i)):n(i,s)}}var _s=ys(!0),xs=ys(!1),ws=kr(null),Ss=null,ks=null,Es=null;function Cs(){Es=ks=Ss=null}function As(t){var e=ws.current;Er(ws),t._currentValue=e}function Ps(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){Ss=t,Es=ks=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(yo=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(Es!==t)if(t={context:t,memoizedValue:e,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=t,Ss.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Rs=null;function Fs(t){null===Rs?Rs=[t]:Rs.push(t)}function Is(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Fs(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ls(t,i)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Os(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ls(t,n)}return null===(r=i.interleaved)?(e.next=e,Fs(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ls(t,n)}function Bs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,be(t,n)}}function Ws(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hs(t,e,n,i){var r=t.updateQueue;Ds=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,p=o.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var f=t,g=o;switch(d=e,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break t;h=N({},h,d);break t;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(d=o).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{a|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Ol|=a,t.lanes=a,t.memoizedState=h}}function Vs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Us={},Gs=kr(Us),qs=kr(Us),Xs=kr(Us);function Ks(t){if(t===Us)throw Error(s(174));return t}function Ys(t,e){switch(Cr(Xs,e),Cr(qs,t),Cr(Gs,Us),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Er(Gs),Cr(Gs,e)}function Qs(){Er(Gs),Er(qs),Er(Xs)}function Js(t){Ks(Xs.current);var e=Ks(Gs.current),n=lt(e,t.type);e!==n&&(Cr(qs,t),Cr(Gs,n))}function $s(t){qs.current===t&&(Er(Gs),Er(qs))}var Zs=kr(0);function ta(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ea=[];function na(){for(var t=0;t<ea.length;t++)ea[t]._workInProgressVersionPrimary=null;ea.length=0}var ia=_.ReactCurrentDispatcher,ra=_.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function pa(){throw Error(s(321))}function fa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oi(t[n],e[n]))return!1;return!0}function ga(t,e,n,i,r,a){if(sa=a,aa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?$a:Za,t=n(i,r),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,e.updateQueue=null,ia.current=to,t=n(i,r)}while(ua)}if(ia.current=Ja,e=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,e)throw Error(s(300));return t}function ma(){var t=0!==ha;return ha=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=t:la=la.next=t,la}function ba(){if(null===oa){var t=aa.alternate;t=null!==t?t.memoizedState:null}else t=oa.next;var e=null===la?aa.memoizedState:la.next;if(null!==e)la=e,oa=t;else{if(null===t)throw Error(s(310));t={memoizedState:(oa=t).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=t:la=la.next=t}return la}function ya(t,e){return"function"===typeof e?e(t):e}function _a(t){var e=ba(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=oa,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=i):c=c.next=d,aa.lanes|=h,Ol|=h}u=u.next}while(null!==u&&u!==a);null===c?o=i:c.next=l,oi(i,e.memoizedState)||(yo=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{a=r.lane,aa.lanes|=a,Ol|=a,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xa(t){var e=ba(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=t(a,o.action),o=o.next}while(o!==r);oi(a,e.memoizedState)||(yo=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function wa(){}function Sa(t,e){var n=aa,i=ba(),r=e(),a=!oi(i.memoizedState,r);if(a&&(i.memoizedState=r,yo=!0),i=i.queue,Da(Ca.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ta(9,Ea.bind(null,n,i,r,e),void 0,null),null===Ml)throw Error(s(349));0!==(30&sa)||ka(n,e,r)}return r}function ka(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=aa.updateQueue)?(e={lastEffect:null,stores:null},aa.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ea(t,e,n,i){e.value=n,e.getSnapshot=i,Aa(e)&&Pa(t)}function Ca(t,e,n){return n((function(){Aa(e)&&Pa(t)}))}function Aa(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oi(t,n)}catch(i){return!0}}function Pa(t){var e=Ls(t,1);null!==e&&nc(e,t,1,-1)}function Ma(t){var e=va();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=Xa.bind(null,aa,t),[e.memoizedState,t]}function Ta(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=aa.updateQueue)?(e={lastEffect:null,stores:null},aa.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ra(){return ba().memoizedState}function Fa(t,e,n,i){var r=va();aa.flags|=t,r.memoizedState=Ta(1|e,n,void 0,void 0===i?null:i)}function Ia(t,e,n,i){var r=ba();i=void 0===i?null:i;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==i&&fa(i,a.deps))return void(r.memoizedState=Ta(e,n,s,i))}aa.flags|=t,r.memoizedState=Ta(1|e,n,s,i)}function La(t,e){return Fa(8390656,8,t,e)}function Da(t,e){return Ia(2048,8,t,e)}function Oa(t,e){return Ia(4,2,t,e)}function Na(t,e){return Ia(4,4,t,e)}function ja(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function za(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ia(4,4,ja.bind(null,e,t),n)}function Ba(){}function Wa(t,e){var n=ba();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&fa(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ha(t,e){var n=ba();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&fa(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Va(t,e,n){return 0===(21&sa)?(t.baseState&&(t.baseState=!1,yo=!0),t.memoizedState=n):(oi(n,e)||(n=ge(),aa.lanes|=n,Ol|=n,t.baseState=!0),e)}function Ua(t,e){var n=ye;ye=0!==n&&4>n?n:4,t(!0);var i=ra.transition;ra.transition={};try{t(!1),e()}finally{ye=n,ra.transition=i}}function Ga(){return ba().memoizedState}function qa(t,e,n){var i=ec(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(t))Ya(e,n);else if(null!==(n=Is(t,e,n,i))){nc(n,t,i,tc()),Qa(n,e,i)}}function Xa(t,e,n){var i=ec(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(t))Ya(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,a)){var l=e.interleaved;return null===l?(r.next=r,Fs(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Is(t,e,r,i))&&(nc(n,t,i,r=tc()),Qa(n,e,i))}}function Ka(t){var e=t.alternate;return t===aa||null!==e&&e===aa}function Ya(t,e){ua=ca=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,be(t,n)}}var Ja={readContext:Ts,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:Ts,useCallback:function(t,e){return va().memoizedState=[t,void 0===e?null:e],t},useContext:Ts,useEffect:La,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Fa(4194308,4,ja.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fa(4,2,t,e)},useMemo:function(t,e){var n=va();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=va();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=qa.bind(null,aa,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},va().memoizedState=t},useState:Ma,useDebugValue:Ba,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=Ma(!1),e=t[0];return t=Ua.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=aa,r=va();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Ml)throw Error(s(349));0!==(30&sa)||ka(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,La(Ca.bind(null,i,a,t),[t]),i.flags|=2048,Ta(9,Ea.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=va(),e=Ml.identifierPrefix;if(rs){var n=Jr;e=":"+e+"R"+(n=(Qr&~(1<<32-ae(Qr)-1)).toString(32)+n),0<(n=ha++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=da++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Za={readContext:Ts,useCallback:Wa,useContext:Ts,useEffect:Da,useImperativeHandle:za,useInsertionEffect:Oa,useLayoutEffect:Na,useMemo:Ha,useReducer:_a,useRef:Ra,useState:function(){return _a(ya)},useDebugValue:Ba,useDeferredValue:function(t){return Va(ba(),oa.memoizedState,t)},useTransition:function(){return[_a(ya)[0],ba().memoizedState]},useMutableSource:wa,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1},to={readContext:Ts,useCallback:Wa,useContext:Ts,useEffect:Da,useImperativeHandle:za,useInsertionEffect:Oa,useLayoutEffect:Na,useMemo:Ha,useReducer:xa,useRef:Ra,useState:function(){return xa(ya)},useDebugValue:Ba,useDeferredValue:function(t){var e=ba();return null===oa?e.memoizedState=t:Va(e,oa.memoizedState,t)},useTransition:function(){return[xa(ya)[0],ba().memoizedState]},useMutableSource:wa,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1};function eo(t,e){if(t&&t.defaultProps){for(var n in e=N({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function no(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:N({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var io={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),s=js(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=zs(t,s,r))&&(nc(e,t,r,i),Bs(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),s=js(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=zs(t,s,r))&&(nc(e,t,r,i),Bs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),i=ec(t),r=js(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=zs(t,r,i))&&(nc(e,t,i,n),Bs(e,t,i))}};function ro(t,e,n,i,r,s,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,a):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function so(t,e,n){var i=!1,r=Ar,s=e.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(r=Fr(e)?Tr:Pr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Rr(t,r):Ar),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=io,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ao(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&io.enqueueReplaceState(e,e.state,null)}function oo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Os(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Ts(s):(s=Fr(e)?Tr:Pr.current,r.context=Rr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(no(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&io.enqueueReplaceState(r,r.state,null),Hs(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function lo(t,e){try{var n="",i=e;do{n+=W(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function co(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function uo(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(t,e,n){(n=js(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ul||(Ul=!0,Gl=i),uo(0,e)},n}function fo(t,e,n){(n=js(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){uo(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,e),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function go(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new ho;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Ec.bind(null,t,e,n),e.then(t,t))}function mo(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vo(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=js(-1,1)).tag=2,zs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var bo=_.ReactCurrentOwner,yo=!1;function _o(t,e,n,i){e.child=null===t?xs(e,null,n,i):_s(e,t.child,n,i)}function xo(t,e,n,i,r){n=n.render;var s=e.ref;return Ms(e,r),i=ga(t,e,n,i,s,r),n=ma(),null===t||yo?(rs&&n&&ts(e),e.flags|=1,_o(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Uo(t,e,r))}function wo(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Fc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Lc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,So(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&t.ref===e.ref)return Uo(t,e,r)}return e.flags|=1,(t=Ic(s,i)).ref=e.ref,t.return=e,e.child=t}function So(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(yo=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Uo(t,e,r);0!==(131072&t.flags)&&(yo=!0)}}return Co(t,e,n,i,r)}function ko(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Il,Fl),Fl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(Il,Fl),Fl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Cr(Il,Fl),Fl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Cr(Il,Fl),Fl|=i;return _o(t,e,r,n),e.child}function Eo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Co(t,e,n,i,r){var s=Fr(n)?Tr:Pr.current;return s=Rr(e,s),Ms(e,r),n=ga(t,e,n,i,s,r),i=ma(),null===t||yo?(rs&&i&&ts(e),e.flags|=1,_o(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Uo(t,e,r))}function Ao(t,e,n,i,r){if(Fr(n)){var s=!0;Or(e)}else s=!1;if(Ms(e,r),null===e.stateNode)Vo(t,e),so(e,n,i),oo(e,n,i,r),i=!0;else if(null===t){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Rr(e,c=Fr(n)?Tr:Pr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&ao(e,a,i,c),Ds=!1;var d=e.memoizedState;a.state=d,Hs(e,i,a,r),l=e.memoizedState,o!==i||d!==l||Mr.current||Ds?("function"===typeof u&&(no(e,n,u,i),l=e.memoizedState),(o=Ds||ro(e,n,o,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Ns(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:eo(e.type,o),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Rr(e,l=Fr(n)?Tr:Pr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(e,a,i,l),Ds=!1,d=e.memoizedState,a.state=d,Hs(e,i,a,r);var f=e.memoizedState;o!==h||d!==f||Mr.current||Ds?("function"===typeof p&&(no(e,n,p,i),f=e.memoizedState),(c=Ds||ro(e,n,c,i,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Po(t,e,n,i,s,r)}function Po(t,e,n,i,r,s){Eo(t,e);var a=0!==(128&e.flags);if(!i&&!a)return r&&Nr(e,n,!1),Uo(t,e,s);i=e.stateNode,bo.current=e;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&a?(e.child=_s(e,t.child,null,s),e.child=_s(e,null,o,s)):_o(t,e,o,s),e.memoizedState=i.state,r&&Nr(e,n,!0),e.child}function Mo(t){var e=t.stateNode;e.pendingContext?Lr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Lr(0,e.context,!1),Ys(t,e.containerInfo)}function To(t,e,n,i,r){return ps(),fs(r),e.flags|=256,_o(t,e,n,i),e.child}var Ro,Fo,Io,Lo,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(t){return{baseLanes:t,cachePool:null,transitions:null}}function No(t,e,n){var i,r=e.pendingProps,a=Zs.current,o=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&a)),i?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Cr(Zs,1&a),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,r,0,null),t=Dc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Oo(n),e.memoizedState=Do,t):jo(e,l));if(null!==(a=t.memoizedState)&&null!==(i=a.dehydrated))return function(t,e,n,i,r,a,o){if(n)return 256&e.flags?(e.flags&=-257,zo(t,e,o,i=co(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=i.fallback,r=e.mode,i=Oc({mode:"visible",children:i.children},r,0,null),(a=Dc(a,r,o,null)).flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,0!==(1&e.mode)&&_s(e,t.child,null,o),e.child.memoizedState=Oo(o),e.memoizedState=Do,a);if(0===(1&e.mode))return zo(t,e,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,zo(t,e,o,i=co(a=Error(s(419)),i,void 0))}if(l=0!==(o&t.childLanes),yo||l){if(null!==(i=Ml)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|o))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Ls(t,r),nc(i,t,r,-1))}return gc(),zo(t,e,o,i=co(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ac.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,is=cr(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Xr[Kr++]=Qr,Xr[Kr++]=Jr,Xr[Kr++]=Yr,Qr=t.id,Jr=t.overflow,Yr=e),e=jo(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,a,n);if(o){o=r.fallback,l=e.mode,i=(a=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==a?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=Ic(i,o):(o=Dc(o,l,n,null)).flags|=2,o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=null===(l=t.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Do,r}return t=(o=t.child).sibling,r=Ic(o,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jo(t,e){return(e=Oc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function zo(t,e,n,i){return null!==i&&fs(i),_s(e,t.child,null,n),(t=jo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Ps(t.return,e,n)}function Wo(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ho(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_o(t,e,i.children,n),0!==(2&(i=Zs.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bo(t,n,e);else if(19===t.tag)Bo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Cr(Zs,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===ta(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Wo(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===ta(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Wo(e,!0,n,null,s);break;case"together":Wo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vo(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uo(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ol|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Ic(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ic(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Go(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qo(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xo(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(e),null;case 1:case 17:return Fr(e.type)&&Ir(),qo(e),null;case 3:return i=e.stateNode,Qs(),Er(Mr),Er(Pr),na(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(ac(ss),ss=null))),Fo(t,e),qo(e),null;case 5:$s(e);var r=Ks(Xs.current);if(n=e.type,null!==t&&null!=e.stateNode)Io(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return qo(e),null}if(t=Ks(Gs.current),hs(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[dr]=e,i[pr]=a,t=0!==(1&e.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)zi(Di[r],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":Q(i,a),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},zi("invalid",i);break;case"textarea":rt(i,a),zi("invalid",i)}for(var l in bt(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&$i(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$i(i.textContent,c,t),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":q(i),Z(i,a,!0);break;case"textarea":q(i),at(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ot(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[pr]=i,Ro(t,e,!1,!1),e.stateNode=t;t:{switch(l=yt(n,i),n){case"dialog":zi("cancel",t),zi("close",t),r=i;break;case"iframe":case"object":case"embed":zi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)zi(Di[r],t);r=i;break;case"source":zi("error",t),r=i;break;case"img":case"image":case"link":zi("error",t),zi("load",t),r=i;break;case"details":zi("toggle",t),r=i;break;case"input":Q(t,i),r=Y(t,i),zi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=N({},i,{value:void 0}),zi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),zi("invalid",t)}for(a in bt(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?mt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zi("scroll",t):null!=u&&y(t,a,u,l))}switch(n){case"input":q(t),Z(t,i,!1);break;case"textarea":q(t),at(t);break;case"option":null!=i.value&&t.setAttribute("value",""+U(i.value));break;case"select":t.multiple=!!i.multiple,null!=(a=i.value)?nt(t,!!i.multiple,a,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qo(e),null;case 6:if(t&&null!=e.stateNode)Lo(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=Ks(Xs.current),Ks(Gs.current),hs(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(a=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:$i(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return qo(e),null;case 13:if(Er(Zs),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))ds(),ps(),e.flags|=98560,a=!1;else if(a=hs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!a)throw Error(s(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(s(317));a[dr]=e}else ps(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qo(e),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Zs.current)?0===Ll&&(Ll=3):gc())),null!==e.updateQueue&&(e.flags|=4),qo(e),null);case 4:return Qs(),Fo(t,e),null===t&&Hi(e.stateNode.containerInfo),qo(e),null;case 10:return As(e.type._context),qo(e),null;case 19:if(Er(Zs),null===(a=e.memoizedState))return qo(e),null;if(i=0!==(128&e.flags),null===(l=a.rendering))if(i)Go(a,!1);else{if(0!==Ll||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ta(t))){for(e.flags|=128,Go(a,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(Zs,1&Zs.current|2),e.child}t=t.sibling}null!==a.tail&&Jt()>Hl&&(e.flags|=128,i=!0,Go(a,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=ta(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return qo(e),null}else 2*Jt()-a.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,Go(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jt(),e.sibling=null,n=Zs.current,Cr(Zs,i?1&n|2:1&n),e):(qo(e),null);case 22:case 23:return hc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Fl)&&(qo(e),6&e.subtreeFlags&&(e.flags|=8192)):qo(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ko(t,e){switch(es(e),e.tag){case 1:return Fr(e.type)&&Ir(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qs(),Er(Mr),Er(Pr),na(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return $s(e),null;case 13:if(Er(Zs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ps()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Er(Zs),null;case 4:return Qs(),null;case 10:return As(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ro=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Io=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ks(Gs.current);var s,a=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),a=[];break;case"select":r=N({},r,{value:void 0}),i=N({},i,{value:void 0}),a=[];break;case"textarea":r=it(t,r),i=it(t,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in bt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zi("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Lo=function(t,e,n,i){n!==i&&(e.flags|=4)};var Yo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(t,e,i)}else n.current=null}function tl(t,e,n){try{n()}catch(i){kc(t,e,i)}}var el=!1;function nl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(e,n,s)}r=r.next}while(r!==i)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[pr],delete e[gr],delete e[mr],delete e[vr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ol(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,e);case 6:var i=ul,r=hl;ul=null,dl(t,e,n),hl=r,null!==(ul=i)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),He(t)):lr(ul,n.stateNode));break;case 4:i=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,e,a),r=r.next}while(r!==i)}dl(t,e,n);break;case 1:if(!Qo&&(Zo(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){kc(n,e,o)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,dl(t,e,n),Qo=i):dl(t,e,n);break;default:dl(t,e,n)}}function fl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Jo),e.forEach((function(e){var i=Pc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(s(160));pl(a,o,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&i){try{nl(3,t,t.return),il(3,t)}catch(m){kc(t,t.return,m)}try{nl(5,t,t.return)}catch(m){kc(t,t.return,m)}}break;case 1:gl(e,t),vl(t),512&i&&null!==n&&Zo(n,n.return);break;case 5:if(gl(e,t),vl(t),512&i&&null!==n&&Zo(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){kc(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var a=t.memoizedProps,o=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(r,a),yt(l,o);var u=yt(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):y(r,h,d,u)}switch(l){case"input":$(r,a);break;case"textarea":st(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?nt(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?nt(r,!!a.multiple,a.defaultValue,!0):nt(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(m){kc(t,t.return,m)}}break;case 6:if(gl(e,t),vl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(m){kc(t,t.return,m)}}break;case 3:if(gl(e,t),vl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(m){kc(t,t.return,m)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(r=t.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Wl=Jt())),4&i&&fl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Qo=(u=Qo)||h,gl(e,t),Qo=u):gl(e,t),vl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for($o=t,h=t.child;null!==h;){for(d=$o=h;null!==$o;){switch(f=(p=$o).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){kc(i,n,m)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){xl(d);continue}}null!==f?(f.return=p,$o=f):xl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",o))}catch(m){kc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),vl(t),4&i&&fl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),cl(t,ol(t),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ll(t,ol(t),a);break;default:throw Error(s(161))}}catch(o){kc(t,t.return,o)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){$o=t,yl(t,e,n)}function yl(t,e,n){for(var i=0!==(1&t.mode);null!==$o;){var r=$o,s=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Yo;if(!a){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=a,(Qo=l)&&!c)for($o=r;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?wl(r):null!==l?(l.return=a,$o=l):wl(r);for(;null!==s;)$o=s,yl(s,e,n),s=s.sibling;$o=r,Yo=o,Qo=c}_l(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$o=s):_l(t)}}function _l(t){for(;null!==$o;){var e=$o;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qo||il(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Qo)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:eo(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Vs(e,a,i);break;case 3:var o=e.updateQueue;if(null!==o){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Vs(e,o,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&He(d)}}}break;default:throw Error(s(163))}Qo||512&e.flags&&rl(e)}catch(p){kc(e,e.return,p)}}if(e===t){$o=null;break}if(null!==(n=e.sibling)){n.return=e.return,$o=n;break}$o=e.return}}function xl(t){for(;null!==$o;){var e=$o;if(e===t){$o=null;break}var n=e.sibling;if(null!==n){n.return=e.return,$o=n;break}$o=e.return}}function wl(t){for(;null!==$o;){var e=$o;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){kc(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){kc(e,r,l)}}var s=e.return;try{rl(e)}catch(l){kc(e,s,l)}break;case 5:var a=e.return;try{rl(e)}catch(l){kc(e,a,l)}}}catch(l){kc(e,e.return,l)}if(e===t){$o=null;break}var o=e.sibling;if(null!==o){o.return=e.return,$o=o;break}$o=e.return}}var Sl,kl=Math.ceil,El=_.ReactCurrentDispatcher,Cl=_.ReactCurrentOwner,Al=_.ReactCurrentBatchConfig,Pl=0,Ml=null,Tl=null,Rl=0,Fl=0,Il=kr(0),Ll=0,Dl=null,Ol=0,Nl=0,jl=0,zl=null,Bl=null,Wl=0,Hl=1/0,Vl=null,Ul=!1,Gl=null,ql=null,Xl=!1,Kl=null,Yl=0,Ql=0,Jl=null,$l=-1,Zl=0;function tc(){return 0!==(6&Pl)?Jt():-1!==$l?$l:$l=Jt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==Rl?Rl&-Rl:null!==gs.transition?(0===Zl&&(Zl=ge()),Zl):0!==(t=ye)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function nc(t,e,n,i){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));ve(t,n,i),0!==(2&Pl)&&t===Ml||(t===Ml&&(0===(2&Pl)&&(Nl|=n),4===Ll&&oc(t,Rl)),ic(t,i),1===n&&0===Pl&&0===(1&e.mode)&&(Hl=Jt()+500,zr&&Hr()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ae(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=pe(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}(t,e);var i=de(t,t===Ml?Rl:0);if(0===i)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){zr=!0,Wr(t)}(lc.bind(null,t)):Wr(lc.bind(null,t)),ar((function(){0===(6&Pl)&&Hr()})),n=null;else{switch(_e(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Mc(n,rc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rc(t,e){if($l=-1,Zl=0,0!==(6&Pl))throw Error(s(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var i=de(t,t===Ml?Rl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=mc(t,i);else{e=i;var r=Pl;Pl|=2;var a=fc();for(Ml===t&&Rl===e||(Vl=null,Hl=Jt()+500,dc(t,e));;)try{bc();break}catch(l){pc(t,l)}Cs(),El.current=a,Pl=r,null!==Tl?e=0:(Ml=null,Rl=0,e=Ll)}if(0!==e){if(2===e&&(0!==(r=fe(t))&&(i=r,e=sc(t,r))),1===e)throw n=Dl,dc(t,0),oc(t,i),ic(t,Jt()),n;if(6===e)oc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!oi(s(),r))return!1}catch(o){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=mc(t,i))&&(0!==(a=fe(t))&&(i=a,e=sc(t,a))),1===e))throw n=Dl,dc(t,0),oc(t,i),ic(t,Jt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:xc(t,Bl,Vl);break;case 3:if(oc(t,i),(130023424&i)===i&&10<(e=Wl+500-Jt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){tc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(xc.bind(null,t,Bl,Vl),e);break}xc(t,Bl,Vl);break;case 4:if(oc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-ae(i);a=1<<o,(o=e[o])>r&&(r=o),i&=~a}if(i=r,10<(i=(120>(i=Jt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){t.timeoutHandle=ir(xc.bind(null,t,Bl,Vl),i);break}xc(t,Bl,Vl);break;default:throw Error(s(329))}}}return ic(t,Jt()),t.callbackNode===n?rc.bind(null,t):null}function sc(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=Bl,Bl=n,null!==e&&ac(e)),t}function ac(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function oc(t,e){for(e&=~jl,e&=~Nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),i=1<<n;t[n]=-1,e&=~i}}function lc(t){if(0!==(6&Pl))throw Error(s(327));wc();var e=de(t,0);if(0===(1&e))return ic(t,Jt()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var i=fe(t);0!==i&&(e=i,n=sc(t,i))}if(1===n)throw n=Dl,dc(t,0),oc(t,e),ic(t,Jt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,Bl,Vl),ic(t,Jt()),null}function cc(t,e){var n=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=n)&&(Hl=Jt()+500,zr&&Hr())}}function uc(t){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&wc();var e=Pl;Pl|=1;var n=Al.transition,i=ye;try{if(Al.transition=null,ye=1,t)return t()}finally{ye=i,Al.transition=n,0===(6&(Pl=e))&&Hr()}}function hc(){Fl=Il.current,Er(Il)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Tl)for(n=Tl.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ir();break;case 3:Qs(),Er(Mr),Er(Pr),na();break;case 5:$s(i);break;case 4:Qs();break;case 13:case 19:Er(Zs);break;case 10:As(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Ml=t,Tl=t=Ic(t.current,null),Rl=Fl=e,Ll=0,Dl=null,jl=Nl=Ol=0,Bl=zl=null,null!==Rs){for(e=0;e<Rs.length;e++)if(null!==(i=(n=Rs[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var a=s.next;s.next=r,i.next=a}n.pending=i}Rs=null}return t}function pc(t,e){for(;;){var n=Tl;try{if(Cs(),ia.current=Ja,ca){for(var i=aa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,ha=0,Cl.current=null,null===n||null===n.return){Ll=1,Dl=e,Tl=null;break}t:{var a=t,o=n.return,l=n,c=e;if(e=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=mo(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,e),1&f.mode&&go(a,u,e),c=u;var g=(e=f).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){go(a,u,e),gc();break t}c=Error(s(426))}else if(rs&&1&l.mode){var v=mo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,e),fs(lo(c,l));break t}}a=c=lo(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Ws(a,po(0,c,e));break t;case 1:l=c;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ql||!ql.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e,Ws(a,fo(a,l,e));break t}}a=a.return}while(null!==a)}_c(n)}catch(_){e=_,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var t=El.current;return El.current=Ja,null===t?Ja:t}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Ml||0===(268435455&Ol)&&0===(268435455&Nl)||oc(Ml,Rl)}function mc(t,e){var n=Pl;Pl|=2;var i=fc();for(Ml===t&&Rl===e||(Vl=null,dc(t,e));;)try{vc();break}catch(r){pc(t,r)}if(Cs(),Pl=n,El.current=i,null!==Tl)throw Error(s(261));return Ml=null,Rl=0,Ll}function vc(){for(;null!==Tl;)yc(Tl)}function bc(){for(;null!==Tl&&!Yt();)yc(Tl)}function yc(t){var e=Sl(t.alternate,t,Fl);t.memoizedProps=t.pendingProps,null===e?_c(t):Tl=e,Cl.current=null}function _c(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Xo(n,e,Fl)))return void(Tl=n)}else{if(null!==(n=Ko(n,e)))return n.flags&=32767,void(Tl=n);if(null===t)return Ll=6,void(Tl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Tl=e);Tl=e=t}while(null!==e);0===Ll&&(Ll=5)}function xc(t,e,n){var i=ye,r=Al.transition;try{Al.transition=null,ye=1,function(t,e,n,i){do{wc()}while(null!==Kl);if(0!==(6&Pl))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ae(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,a),t===Ml&&(Tl=Ml=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Mc(ee,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var o=ye;ye=1;var l=Pl;Pl|=4,Cl.current=null,function(t,e){if(tr=Ue,pi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,p=null;e:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=o+r),d!==a||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===t)break e;if(p===n&&++u===r&&(l=o),p===a&&++h===i&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},Ue=!1,$o=e;null!==$o;)if(t=(e=$o).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$o=t;else for(;null!==$o;){e=$o;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?m:eo(e.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(x){kc(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,$o=t;break}$o=e.return}g=el,el=!1}(t,n),ml(n,t),fi(er),Ue=!!tr,er=tr=null,t.current=n,bl(n,t,r),Qt(),Pl=l,ye=o,Al.transition=a}else t.current=n;if(Xl&&(Xl=!1,Kl=t,Yl=r),a=t.pendingLanes,0===a&&(ql=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Jt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ul)throw Ul=!1,t=Gl,Gl=null,t;0!==(1&Yl)&&0!==t.tag&&wc(),a=t.pendingLanes,0!==(1&a)?t===Jl?Ql++:(Ql=0,Jl=t):Ql=0,Hr()}(t,e,n,i)}finally{Al.transition=r,ye=i}return null}function wc(){if(null!==Kl){var t=_e(Yl),e=Al.transition,n=ye;try{if(Al.transition=null,ye=16>t?16:t,null===Kl)var i=!1;else{if(t=Kl,Kl=null,Yl=0,0!==(6&Pl))throw Error(s(331));var r=Pl;for(Pl|=4,$o=t.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var h=$o;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,$o=d;else for(;null!==$o;){var p=(h=$o).sibling,f=h.return;if(sl(h),h===u){$o=null;break}if(null!==p){p.return=f,$o=p;break}$o=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else t:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,$o=b;break t}$o=a.return}}var y=t.current;for($o=y;null!==$o;){var _=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==_)_.return=o,$o=_;else t:for(o=y;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){$o=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,$o=x;break t}$o=l.return}}if(Pl=r,Hr(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(w){}i=!0}return i}finally{ye=n,Al.transition=e}}return!1}function Sc(t,e,n){t=zs(t,e=po(0,e=lo(n,e),1),1),e=tc(),null!==t&&(ve(t,1,e),ic(t,e))}function kc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){e=zs(e,t=fo(e,t=lo(n,t),1),1),t=tc(),null!==e&&(ve(e,1,t),ic(e,t));break}}e=e.return}}function Ec(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Ml===t&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Jt()-Wl?dc(t,0):jl|=n),ic(t,e)}function Cc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Ls(t,e))&&(ve(t,e,n),ic(t,n))}function Ac(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Cc(t,n)}function Pc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Cc(t,n)}function Mc(t,e){return Xt(t,e)}function Tc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(t,e,n,i){return new Tc(t,e,n,i)}function Fc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ic(t,e){var n=t.alternate;return null===n?((n=Rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,i,r,a){var o=2;if(i=t,"function"===typeof t)Fc(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case S:return Dc(n.children,r,a,e);case k:o=8,r|=8;break;case E:return(t=Rc(12,n,e,2|r)).elementType=E,t.lanes=a,t;case M:return(t=Rc(13,n,e,r)).elementType=M,t.lanes=a,t;case T:return(t=Rc(19,n,e,r)).elementType=T,t.lanes=a,t;case I:return Oc(n,r,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:o=10;break t;case A:o=9;break t;case P:o=11;break t;case R:o=14;break t;case F:o=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Rc(o,n,e,r)).elementType=t,e.type=i,e.lanes=a,e}function Dc(t,e,n,i){return(t=Rc(7,t,i,e)).lanes=n,t}function Oc(t,e,n,i){return(t=Rc(22,t,i,e)).elementType=I,t.lanes=n,t.stateNode={isHidden:!1},t}function Nc(t,e,n){return(t=Rc(6,t,null,e)).lanes=n,t}function jc(t,e,n){return(e=Rc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,i,r,s,a,o,l){return t=new zc(t,e,n,o,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Rc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),t}function Wc(t){if(!t)return Ar;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Fr(n))return Dr(t,n,e)}return e}function Hc(t,e,n,i,r,s,a,o,l){return(t=Bc(n,i,!0,t,0,s,0,o,l)).context=Wc(null),n=t.current,(s=js(i=tc(),r=ec(n))).callback=void 0!==e&&null!==e?e:null,zs(n,s,r),t.current.lanes=r,ve(t,r,i),ic(t,i),t}function Vc(t,e,n,i){var r=e.current,s=tc(),a=ec(r);return n=Wc(n),null===e.context?e.context=n:e.pendingContext=n,(e=js(s,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=zs(r,e,a))&&(nc(t,r,a,s),Bs(t,r,a)),a}function Uc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function qc(t,e){Gc(t,e),(t=t.alternate)&&Gc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mr.current)yo=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return yo=!1,function(t,e,n){switch(e.tag){case 3:Mo(e),ps();break;case 5:Js(e);break;case 1:Fr(e.type)&&Or(e);break;case 4:Ys(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Cr(ws,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Cr(Zs,1&Zs.current),e.flags|=128,null):0!==(n&e.child.childLanes)?No(t,e,n):(Cr(Zs,1&Zs.current),null!==(t=Uo(t,e,n))?t.sibling:null);Cr(Zs,1&Zs.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ho(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Zs,Zs.current),i)break;return null;case 22:case 23:return e.lanes=0,ko(t,e,n)}return Uo(t,e,n)}(t,e,n);yo=0!==(131072&t.flags)}else yo=!1,rs&&0!==(1048576&e.flags)&&Zr(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Vo(t,e),t=e.pendingProps;var r=Rr(e,Pr.current);Ms(e,n),r=ga(null,e,i,t,r,n);var a=ma();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(i)?(a=!0,Or(e)):a=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Os(e),r.updater=io,e.stateNode=r,r._reactInternals=e,oo(e,i,t,n),e=Po(null,e,i,!0,a,n)):(e.tag=0,rs&&a&&ts(e),_o(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Vo(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Fc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===P)return 11;if(t===R)return 14}return 2}(i),t=eo(i,t),r){case 0:e=Co(null,e,i,t,n);break t;case 1:e=Ao(null,e,i,t,n);break t;case 11:e=xo(null,e,i,t,n);break t;case 14:e=wo(null,e,i,eo(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Co(t,e,i,r=e.elementType===i?r:eo(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ao(t,e,i,r=e.elementType===i?r:eo(i,r),n);case 3:t:{if(Mo(e),null===t)throw Error(s(387));i=e.pendingProps,r=(a=e.memoizedState).element,Ns(t,e),Hs(e,i,null,n);var o=e.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=To(t,e,i,n,r=lo(Error(s(423)),e));break t}if(i!==r){e=To(t,e,i,n,r=lo(Error(s(424)),e));break t}for(is=cr(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=xs(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){e=Uo(t,e,n);break t}_o(t,e,i,n)}e=e.child}return e;case 5:return Js(e),null===t&&cs(e),i=e.type,r=e.pendingProps,a=null!==t?t.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==a&&nr(i,a)&&(e.flags|=32),Eo(t,e),_o(t,e,o,n),e.child;case 6:return null===t&&cs(e),null;case 13:return No(t,e,n);case 4:return Ys(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=_s(e,null,i,n):_o(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,xo(t,e,i,r=e.elementType===i?r:eo(i,r),n);case 7:return _o(t,e,e.pendingProps,n),e.child;case 8:case 12:return _o(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,Cr(ws,i._currentValue),i._currentValue=o,null!==a)if(oi(a.value,o)){if(a.children===r.children&&!Mr.current){e=Uo(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=js(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ps(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ps(o,n,e),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ms(e,n),i=i(r=Ts(r)),e.flags|=1,_o(t,e,i,n),e.child;case 14:return r=eo(i=e.type,e.pendingProps),wo(t,e,i,r=eo(i.type,r),n);case 15:return So(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:eo(i,r),Vo(t,e),e.tag=1,Fr(i)?(t=!0,Or(e)):t=!1,Ms(e,n),so(e,i,r),oo(e,i,r,n),Po(null,e,i,!0,t,n);case 19:return Ho(t,e,n);case 22:return ko(t,e,n)}throw Error(s(156,e.tag))};var Xc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $c(){}function Zc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof r){var o=r;r=function(){var t=Uc(a);o.call(t)}}Vc(e,a,t,r)}else a=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Uc(a);s.call(t)}}var a=Hc(e,i,t,0,null,!1,0,"",$c);return t._reactRootContainer=a,t[fr]=a.current,Hi(8===t.nodeType?t.parentNode:t),uc(),a}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var o=i;i=function(){var t=Uc(l);o.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",$c);return t._reactRootContainer=l,t[fr]=l.current,Hi(8===t.nodeType?t.parentNode:t),uc((function(){Vc(e,l,n,i)})),l}(n,e,t,r,i);return Uc(a)}Yc.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Vc(t,e,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Vc(null,t,null,null)})),e[fr]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ie.length&&0!==e&&e<Ie[n].priority;n++);Ie.splice(n,0,t),0===n&&Ne(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(be(e,1|n),ic(e,Jt()),0===(6&Pl)&&(Hl=Jt()+500,Hr()))}break;case 13:uc((function(){var e=Ls(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),qc(t,1)}},we=function(t){if(13===t.tag){var e=Ls(t,134217728);if(null!==e)nc(e,t,134217728,tc());qc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=Ls(t,e);if(null!==n)nc(n,t,e,tc());qc(t,e)}},ke=function(){return ye},Ee=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}},wt=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=xr(i);if(!r)throw Error(s(90));X(i),$(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Pt=cc,Mt=uc;var tu={usingClientEntryPoint:!1,Events:[yr,_r,xr,Ct,At,cc]},eu={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{re=iu.inject(nu),se=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Qc(t))throw Error(s(299));var n=!1,i="",r=Xc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,i,r),t[fr]=e.current,Hi(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(s(200));return Zc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,r,0,a,o),t[fr]=e.current,Hi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(s(200));return Zc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(s(40));return!!t._reactRootContainer&&(uc((function(){Zc(null,null,t,!1,(function(){t._reactRootContainer=null,t[fr]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return Zc(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},4391:(t,e,n)=>{"use strict";var i=n(7950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},7950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(2730)},2488:(t,e,n)=>{t.exports=n(5604)},2400:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5043);e.LeftArrow=function(t){var e=t.customLeftArrow,n=t.getState,r=t.previous,s=t.disabled,a=t.rtl;if(e)return i.cloneElement(e,{onClick:function(){return r()},carouselState:n(),disabled:s,rtl:a});var o=a?"rtl":"";return i.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+o,onClick:function(){return r()},type:"button",disabled:s})};e.RightArrow=function(t){var e=t.customRightArrow,n=t.getState,r=t.next,s=t.disabled,a=t.rtl;if(e)return i.cloneElement(e,{onClick:function(){return r()},carouselState:n(),disabled:s,rtl:a});var o=a?"rtl":"";return i.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+o,onClick:function(){return r()},type:"button",disabled:s})}},364:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5043),s=n(694),a=n(257),o=n(6406),l=n(2400),c=n(5834),u=n(7673),h=400,d="transform 400ms ease-in-out",p=function(t){function e(e){var n=t.call(this,e)||this;return n.containerRef=r.createRef(),n.listRef=r.createRef(),n.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:r.Children.count(e.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},n.onResize=n.onResize.bind(n),n.handleDown=n.handleDown.bind(n),n.handleMove=n.handleMove.bind(n),n.handleOut=n.handleOut.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.handleEnter=n.handleEnter.bind(n),n.setIsInThrottle=n.setIsInThrottle.bind(n),n.next=s.throttle(n.next.bind(n),e.transitionDuration||h,n.setIsInThrottle),n.previous=s.throttle(n.previous.bind(n),e.transitionDuration||h,n.setIsInThrottle),n.goToSlide=s.throttle(n.goToSlide.bind(n),e.transitionDuration||h,n.setIsInThrottle),n.onMove=!1,n.initialX=0,n.lastX=0,n.isAnimationAllowed=!1,n.direction="",n.initialY=0,n.isInThrottle=!1,n.transformPlaceHolder=0,n}return i(e,t),e.prototype.resetTotalItems=function(){var t=this,e=r.Children.count(this.props.children),n=s.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,e));this.setState({totalItems:e,currentSlide:n},(function(){t.setContainerAndItemWidth(t.state.slidesToShow,!0)}))},e.prototype.setIsInThrottle=function(t){void 0===t&&(t=!1),this.isInThrottle=t},e.prototype.setTransformDirectly=function(t,e){var n=this.props.additionalTransfrom;this.transformPlaceHolder=t;var i=u.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(e),this.listRef.current.style.transform="translate3d("+(i+n)+"px,0,0)")},e.prototype.setAnimationDirectly=function(t){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=t?this.props.customTransition||d:"none")},e.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},e.prototype.setClones=function(t,e,n,i){var a=this;void 0===i&&(i=!1),this.isAnimationAllowed=!1;var o=r.Children.toArray(this.props.children),l=s.getInitialSlideInInfiniteMode(t||this.state.slidesToShow,o),c=s.getClones(this.state.slidesToShow,o),u=o.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:c.length,currentSlide:n&&!i?u:l},(function(){a.correctItemsPosition(e||a.state.itemWidth)}))},e.prototype.setItemsToShow=function(t,e){var n=this,i=this.props.responsive;Object.keys(i).forEach((function(r){var s=i[r],a=s.breakpoint,o=s.items,l=a.max,c=a.min,u=[window.innerWidth];window.screen&&window.screen.width&&u.push(window.screen.width);var h=Math.min.apply(Math,u);c<=h&&h<=l&&(n.setState({slidesToShow:o,deviceType:r}),n.setContainerAndItemWidth(o,t,e))}))},e.prototype.setContainerAndItemWidth=function(t,e,n){var i=this;if(this.containerRef&&this.containerRef.current){var r=this.containerRef.current.offsetWidth,a=s.getItemClientSideWidth(this.props,t,r);this.setState({containerWidth:r,itemWidth:a},(function(){i.props.infinite&&i.setClones(t,a,e,n)})),e&&this.correctItemsPosition(a)}},e.prototype.correctItemsPosition=function(t,e,n){e&&(this.isAnimationAllowed=!0),!e&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var i=this.state.totalItems<this.state.slidesToShow?0:-t*this.state.currentSlide;n&&this.setTransformDirectly(i,!0),this.setState({transform:i})},e.prototype.onResize=function(t){var e;e=!!this.props.infinite&&("boolean"!=typeof t||!t),this.setItemsToShow(e)},e.prototype.componentDidUpdate=function(t,n){var i=this,r=t.keyBoardControl,a=t.autoPlay,o=t.children,l=n.containerWidth,c=n.domLoaded,u=n.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==l&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout((function(){i.setItemsToShow(!0)}),this.props.transitionDuration||h)),r&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!r&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),a&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),a||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),o.length!==this.props.children.length?e.clonesTimeout=setTimeout((function(){i.props.infinite?i.setClones(i.state.slidesToShow,i.state.itemWidth,!0,!0):i.resetTotalItems()}),this.props.transitionDuration||h):this.props.infinite&&this.state.currentSlide!==u&&this.correctClonesPosition({domLoaded:c}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&s.isInRightEnd(this.state)){var d=this.props.transitionDuration||h;e.isInThrottleTimeout=setTimeout((function(){i.setIsInThrottle(!1),i.resetAutoplayInterval(),i.goToSlide(0,void 0,!!i.props.rewindWithAnimation)}),d+this.props.autoPlaySpeed)}},e.prototype.correctClonesPosition=function(t){var n=this,i=t.domLoaded,a=r.Children.toArray(this.props.children),o=s.checkClonesPosition(this.state,a,this.props),l=o.isReachingTheEnd,c=o.isReachingTheStart,u=o.nextSlide,d=o.nextPosition;this.state.domLoaded&&i&&(l||c)&&(this.isAnimationAllowed=!1,e.transformTimeout=setTimeout((function(){n.setState({transform:d,currentSlide:u})}),this.props.transitionDuration||h))},e.prototype.next=function(t){var n=this;void 0===t&&(t=0);var i=this.props,r=i.afterChange,a=i.beforeChange;if(!s.notEnoughChildren(this.state)){var o=s.populateNextSlides(this.state,this.props,t),l=o.nextSlides,c=o.nextPosition,u=this.state.currentSlide;void 0!==l&&void 0!==c&&("function"==typeof a&&a(l,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:c,currentSlide:l},(function(){"function"==typeof r&&(e.afterChangeTimeout=setTimeout((function(){r(u,n.getState())}),n.props.transitionDuration||h))})))}},e.prototype.previous=function(t){var n=this;void 0===t&&(t=0);var i=this.props,r=i.afterChange,a=i.beforeChange;if(!s.notEnoughChildren(this.state)){var o=s.populatePreviousSlides(this.state,this.props,t),l=o.nextSlides,c=o.nextPosition;if(void 0!==l&&void 0!==c){var u=this.state.currentSlide;"function"==typeof a&&a(l,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:c,currentSlide:l},(function(){"function"==typeof r&&(e.afterChangeTimeout2=setTimeout((function(){r(u,n.getState())}),n.props.transitionDuration||h))}))}}},e.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),e.clonesTimeout&&clearTimeout(e.clonesTimeout),e.isInThrottleTimeout&&clearTimeout(e.isInThrottleTimeout),e.transformTimeout&&clearTimeout(e.transformTimeout),e.afterChangeTimeout&&clearTimeout(e.afterChangeTimeout),e.afterChangeTimeout2&&clearTimeout(e.afterChangeTimeout2),e.afterChangeTimeout3&&clearTimeout(e.afterChangeTimeout3)},e.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},e.prototype.getCords=function(t){var e=t.clientX,n=t.clientY;return{clientX:u.parsePosition(this.props,e),clientY:u.parsePosition(this.props,n)}},e.prototype.handleDown=function(t){if(!(!a.isMouseMoveEvent(t)&&!this.props.swipeable||a.isMouseMoveEvent(t)&&!this.props.draggable||this.isInThrottle)){var e=this.getCords(a.isMouseMoveEvent(t)?t:t.touches[0]),n=e.clientX,i=e.clientY;this.onMove=!0,this.initialX=n,this.initialY=i,this.lastX=n,this.isAnimationAllowed=!1}},e.prototype.handleMove=function(t){if(!(!a.isMouseMoveEvent(t)&&!this.props.swipeable||a.isMouseMoveEvent(t)&&!this.props.draggable||s.notEnoughChildren(this.state))){var e=this.getCords(a.isMouseMoveEvent(t)?t:t.touches[0]),n=e.clientX,i=e.clientY,r=this.initialX-n,o=this.initialY-i;if(this.onMove){if(!(Math.abs(r)>Math.abs(o)))return;var l=s.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,n,this.transformPlaceHolder),c=l.direction,u=l.nextPosition,h=l.canContinue;c&&(this.direction=c,h&&void 0!==u&&this.setTransformDirectly(u)),this.lastX=n}}},e.prototype.handleOut=function(t){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var e="touchend"===t.type&&!this.props.swipeable,n=("mouseleave"===t.type||"mouseup"===t.type)&&!this.props.draggable;if(!e&&!n&&this.onMove){if(this.setAnimationDirectly(!0),"right"===this.direction)if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var i=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(i)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);"left"===this.direction&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(i=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(i)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},e.prototype.isInViewport=function(t){var e=t.getBoundingClientRect(),n=e.top,i=void 0===n?0:n,r=e.left,s=void 0===r?0:r,a=e.bottom,o=void 0===a?0:a,l=e.right,c=void 0===l?0:l;return 0<=i&&0<=s&&o<=(window.innerHeight||document.documentElement.clientHeight)&&c<=(window.innerWidth||document.documentElement.clientWidth)},e.prototype.isChildOfCarousel=function(t){return!!(t instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(t)},e.prototype.onKeyUp=function(t){var e=t.target;switch(t.keyCode){case 37:if(this.isChildOfCarousel(e))return this.previous();break;case 39:if(this.isChildOfCarousel(e))return this.next();break;case 9:if(this.isChildOfCarousel(e)&&e instanceof HTMLInputElement&&this.isInViewport(e))return this.next()}},e.prototype.handleEnter=function(t){a.isMouseMoveEvent(t)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},e.prototype.goToSlide=function(t,n,i){var r=this;if(void 0===i&&(i=!0),!this.isInThrottle){var s=this.state.itemWidth,a=this.props,o=a.afterChange,l=a.beforeChange,c=this.state.currentSlide;"function"!=typeof l||n&&("object"!=typeof n||n.skipBeforeChange)||l(t,this.getState()),this.isAnimationAllowed=i,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:t,transform:-s*t},(function(){r.props.infinite&&r.correctClonesPosition({domLoaded:!0}),"function"!=typeof o||n&&("object"!=typeof n||n.skipAfterChange)||(e.afterChangeTimeout3=setTimeout((function(){o(c,r.getState())}),r.props.transitionDuration||h))}))}},e.prototype.getState=function(){return this.state},e.prototype.renderLeftArrow=function(t){var e=this,n=this.props,i=n.customLeftArrow,s=n.rtl;return r.createElement(l.LeftArrow,{customLeftArrow:i,getState:function(){return e.getState()},previous:this.previous,disabled:t,rtl:s})},e.prototype.renderRightArrow=function(t){var e=this,n=this.props,i=n.customRightArrow,s=n.rtl;return r.createElement(l.RightArrow,{customRightArrow:i,getState:function(){return e.getState()},next:this.next,disabled:t,rtl:s})},e.prototype.renderButtonGroups=function(){var t=this,e=this.props.customButtonGroup;return e?r.cloneElement(e,{previous:function(){return t.previous()},next:function(){return t.next()},goToSlide:function(e,n){return t.goToSlide(e,n)},carouselState:this.getState()}):null},e.prototype.renderDotsList=function(){var t=this;return r.createElement(o.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return t.getState()}})},e.prototype.renderCarouselItems=function(){var t=[];if(this.props.infinite){var e=r.Children.toArray(this.props.children);t=s.getClones(this.state.slidesToShow,e)}return r.createElement(c.default,{clones:t,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:s.notEnoughChildren(this.state),props:this.props})},e.prototype.render=function(){var t=this.props,e=t.deviceType,n=t.arrows,i=t.renderArrowsWhenDisabled,a=t.removeArrowOnDeviceType,o=t.infinite,l=t.containerClass,c=t.sliderClass,h=t.customTransition,p=t.additionalTransfrom,f=t.renderDotsOutside,g=t.renderButtonGroupOutside,m=t.className,v=t.rtl,b=s.getInitialState(this.state,this.props),y=b.shouldRenderOnSSR,_=b.shouldRenderAtAll,x=s.isInLeftEnd(this.state),w=s.isInRightEnd(this.state),S=n&&!(a&&(e&&-1<a.indexOf(e)||this.state.deviceType&&-1<a.indexOf(this.state.deviceType)))&&!s.notEnoughChildren(this.state)&&_,k=!o&&x,E=!o&&w,C=u.getTransform(this.state,this.props);return r.createElement(r.Fragment,null,r.createElement("div",{className:"react-multi-carousel-list "+l+" "+m,dir:v?"rtl":"ltr",ref:this.containerRef},r.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+c,style:{transition:this.isAnimationAllowed?h||d:"none",overflow:y?"hidden":"unset",transform:"translate3d("+(C+p)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),S&&(!k||i)&&this.renderLeftArrow(k),S&&(!E||i)&&this.renderRightArrow(E),_&&!g&&this.renderButtonGroups(),_&&!f&&this.renderDotsList()),_&&f&&this.renderDotsList(),_&&g&&this.renderButtonGroups())},e.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},e}(r.Component);e.default=p},5834:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5043),r=n(694);e.default=function(t){var e=t.props,n=t.state,s=t.goToSlide,a=t.clones,o=t.notEnoughChildren,l=n.itemWidth,c=e.children,u=e.infinite,h=e.itemClass,d=e.itemAriaLabel,p=e.partialVisbile,f=e.partialVisible,g=r.getInitialState(n,e),m=g.flexBisis,v=g.shouldRenderOnSSR,b=g.domFullyLoaded,y=g.partialVisibilityGutter;return g.shouldRenderAtAll?(p&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),i.createElement(i.Fragment,null,(u?a:i.Children.toArray(c)).map((function(t,a){return i.createElement("li",{key:a,"data-index":a,onClick:function(){e.focusOnSelect&&s(a)},"aria-hidden":r.getIfSlideIsVisbile(a,n)?"false":"true","aria-label":d||(t.props.ariaLabel?t.props.ariaLabel:null),style:{flex:v?"1 0 "+m+"%":"auto",position:"relative",width:b?((p||f)&&y&&!o?l-y:l)+"px":"auto"},className:"react-multi-carousel-item "+(r.getIfSlideIsVisbile(a,n)?"react-multi-carousel-item--active":"")+" "+h},t)})))):null}},6406:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5043),r=n(4526),s=n(2232),a=n(7673);e.default=function(t){var e=t.props,n=t.state,o=t.goToSlide,l=t.getState,c=e.showDots,u=e.customDot,h=e.dotListClass,d=e.infinite,p=e.children;if(!c||a.notEnoughChildren(n))return null;var f,g=n.currentSlide,m=n.slidesToShow,v=a.getSlidesToSlide(n,e),b=i.Children.toArray(p);f=d?Math.ceil(b.length/v):Math.ceil((b.length-m)/v)+1;var y=s.getLookupTableForNextSlides(f,n,e,b),_=r.getOriginalIndexLookupTableByClones(m,b),x=_[g];return i.createElement("ul",{className:"react-multi-carousel-dot-list "+h},Array(f).fill(0).map((function(t,e){var n,r;if(d){r=y[e];var s=_[r];n=x===s||s<=x&&x<s+v}else{var a=b.length-m,c=e*v;n=(r=a<c?a:c)===g||r<g&&g<r+v&&g<b.length-m}return u?i.cloneElement(u,{index:e,active:n,key:e,onClick:function(){return o(r)},carouselState:l()}):i.createElement("li",{"data-index":e,key:e,className:"react-multi-carousel-dot "+(n?"react-multi-carousel-dot--active":"")},i.createElement("button",{"aria-label":"Go to slide "+(e+1),onClick:function(){return o(r)}}))})))}},5604:(t,e,n)=>{"use strict";var i=n(364);e.default=i.default},257:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5043);e.isMouseMoveEvent=function(t){return"clientY"in t};var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Component);e.default=s},4526:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOriginalCounterPart=function(t,e,n){var i=e.slidesToShow,r=e.currentSlide;return n.length>2*i?t+2*i:r>=n.length?n.length+t:t},e.getOriginalIndexLookupTableByClones=function(t,e){if(e.length>2*t){for(var n={},i=e.length-2*t,r=e.length-i,s=i,a=0;a<r;a++)n[a]=s,s++;var o=e.length+r,l=o+e.slice(0,2*t).length,c=0;for(a=o;a<=l;a++)n[a]=c,c++;var u=o,h=0;for(a=r;a<u;a++)n[a]=h,h++;return n}n={};var d=3*e.length,p=0;for(a=0;a<d;a++)n[a]=p,++p===e.length&&(p=0);return n},e.getClones=function(t,e){return e.length<t?e:e.length>2*t?e.slice(e.length-2*t,e.length).concat(e,e.slice(0,2*t)):e.concat(e,e)},e.getInitialSlideInInfiniteMode=function(t,e){return e.length>2*t?2*t:e.length},e.checkClonesPosition=function(t,e,n){var i,r=t.currentSlide,s=t.slidesToShow,a=t.itemWidth,o=t.totalItems,l=0,c=0,u=0===r,h=e.length-(e.length-2*s);return e.length<s?(c=l=0,u=i=!1):e.length>2*s?((i=r>=h+e.length)&&(c=-a*(l=r-e.length)),u&&(c=-a*(l=h+(e.length-2*s)))):((i=r>=2*e.length)&&(c=-a*(l=r-e.length)),u&&(c=n.showDots?-a*(l=e.length):-a*(l=o/3))),{isReachingTheEnd:i,isReachingTheStart:u,nextSlide:l,nextPosition:c}}},7673:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2624);function r(t){var e=t.slidesToShow;return t.totalItems<e}function s(t,e,n){var i=n||t.transform;return!e.infinite&&0===t.currentSlide||r(t)?i:i+t.itemWidth/2}function a(t){var e=t.currentSlide,n=t.totalItems;return!(e+t.slidesToShow<n)}function o(t,e,n,i){void 0===e&&(e=0);var s=t.currentSlide,o=t.slidesToShow,l=a(t),c=!n.infinite&&l,u=i||t.transform;if(r(t))return u;var h=u+s*e;return c?h+(t.containerWidth-(t.itemWidth-e)*o):h}function l(t,e){return t.rtl?-1*e:e}e.notEnoughChildren=r,e.getInitialState=function(t,e){var n,r=t.domLoaded,s=t.slidesToShow,a=t.containerWidth,o=t.itemWidth,l=e.deviceType,c=e.responsive,u=e.ssr,h=e.partialVisbile,d=e.partialVisible,p=Boolean(r&&s&&a&&o);u&&l&&!p&&(n=i.getWidthFromDeviceType(l,c));var f=Boolean(u&&l&&!p&&n);return{shouldRenderOnSSR:f,flexBisis:n,domFullyLoaded:p,partialVisibilityGutter:i.getPartialVisibilityGutter(c,h||d,l,t.deviceType),shouldRenderAtAll:f||p}},e.getIfSlideIsVisbile=function(t,e){var n=e.currentSlide,i=e.slidesToShow;return n<=t&&t<n+i},e.getTransformForCenterMode=s,e.isInLeftEnd=function(t){return!(0<t.currentSlide)},e.isInRightEnd=a,e.getTransformForPartialVsibile=o,e.parsePosition=l,e.getTransform=function(t,e,n){var r=e.partialVisbile,a=e.partialVisible,c=e.responsive,u=e.deviceType,h=e.centerMode,d=n||t.transform,p=i.getPartialVisibilityGutter(c,r||a,u,t.deviceType);return l(e,a||r?o(t,p,e,n):h?s(t,e,n):d)},e.getSlidesToSlide=function(t,e){var n=t.domLoaded,i=t.slidesToShow,r=t.containerWidth,s=t.itemWidth,a=e.deviceType,o=e.responsive,l=e.slidesToSlide||1,c=Boolean(n&&i&&r&&s);return e.ssr&&e.deviceType&&!c&&Object.keys(o).forEach((function(t){var e=o[t].slidesToSlide;a===t&&e&&(l=e)})),c&&Object.keys(o).forEach((function(t){var e=o[t],n=e.breakpoint,i=e.slidesToSlide,r=n.max,s=n.min;i&&window.innerWidth>=s&&window.innerWidth<=r&&(l=i)})),l}},2232:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4526),r=n(7673);e.getLookupTableForNextSlides=function(t,e,n,s){var a={},o=r.getSlidesToSlide(e,n);return Array(t).fill(0).forEach((function(t,n){var r=i.getOriginalCounterPart(n,e,s);if(0===n)a[0]=r;else{var l=a[n-1]+o;a[n]=l}})),a}},2624:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getPartialVisibilityGutter=function(t,e,n,i){var r=0,s=i||n;return e&&s&&(r=t[s].partialVisibilityGutter||t[s].paritialVisibilityGutter),r},e.getWidthFromDeviceType=function(t,e){var n;return e[t]&&(n=(100/e[t].items).toFixed(1)),n},e.getItemClientSideWidth=function(t,e,n){return Math.round(n/(e+(t.centerMode?1:0)))}},694:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4526);e.getOriginalCounterPart=i.getOriginalCounterPart,e.getClones=i.getClones,e.checkClonesPosition=i.checkClonesPosition,e.getInitialSlideInInfiniteMode=i.getInitialSlideInInfiniteMode;var r=n(2624);e.getWidthFromDeviceType=r.getWidthFromDeviceType,e.getPartialVisibilityGutter=r.getPartialVisibilityGutter,e.getItemClientSideWidth=r.getItemClientSideWidth;var s=n(7673);e.getInitialState=s.getInitialState,e.getIfSlideIsVisbile=s.getIfSlideIsVisbile,e.getTransformForCenterMode=s.getTransformForCenterMode,e.getTransformForPartialVsibile=s.getTransformForPartialVsibile,e.isInLeftEnd=s.isInLeftEnd,e.isInRightEnd=s.isInRightEnd,e.notEnoughChildren=s.notEnoughChildren,e.getSlidesToSlide=s.getSlidesToSlide;var a=n(4548);e.throttle=a.default;var o=n(174);e.throwError=o.default;var l=n(2337);e.populateNextSlides=l.populateNextSlides;var c=n(1365);e.populatePreviousSlides=c.populatePreviousSlides;var u=n(528);e.populateSlidesOnMouseTouchMove=u.populateSlidesOnMouseTouchMove},528:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.populateSlidesOnMouseTouchMove=function(t,e,n,i,r,s){var a,o,l=t.itemWidth,c=t.slidesToShow,u=t.totalItems,h=t.currentSlide,d=e.infinite,p=!1,f=Math.round((n-i)/l),g=Math.round((i-n)/l),m=n<r;if(r<n&&f<=c){a="right";var v=Math.abs(-l*(u-c)),b=s-(i-r),y=h===u-c;(Math.abs(b)<=v||y&&d)&&(o=b,p=!0)}return m&&g<=c&&(a="left",((b=s+(r-i))<=0||0===h&&d)&&(p=!0,o=b)),{direction:a,nextPosition:o,canContinue:p}}},2337:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7673);e.populateNextSlides=function(t,e,n){void 0===n&&(n=0);var r,s,a=t.slidesToShow,o=t.currentSlide,l=t.itemWidth,c=t.totalItems,u=i.getSlidesToSlide(t,e),h=o+1+n+a+(0<n?0:u);return s=h<=c?-l*(r=o+n+(0<n?0:u)):c<h&&o!==c-a?-l*(r=c-a):r=void 0,{nextSlides:r,nextPosition:s}}},1365:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5043),r=n(7673),s=n(7673);e.populatePreviousSlides=function(t,e,n){void 0===n&&(n=0);var a,o,l=t.currentSlide,c=t.itemWidth,u=t.slidesToShow,h=e.children,d=e.showDots,p=e.infinite,f=r.getSlidesToSlide(t,e),g=l-n-(0<n?0:f),m=(i.Children.toArray(h).length-u)%f;return o=0<=g?(a=g,d&&!p&&0<m&&s.isInRightEnd(t)&&(a=l-m),-c*a):a=g<0&&0!==l?0:void 0,{nextSlides:a,nextPosition:o}}},4548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var i;return function(){var r=arguments;i||(t.apply(this,r),i=!0,"function"==typeof n&&n(!0),setTimeout((function(){i=!1,"function"==typeof n&&n(!1)}),e))}}},174:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.partialVisbile,i=e.partialVisible,r=e.centerMode,s=e.ssr,a=e.responsive;if((n||i)&&r)throw new Error("center mode can not be used at the same time with partialVisible");if(!a)throw s?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(a&&"object"!=typeof a)throw new Error("responsive prop must be an object")}},2501:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(n(5043)),r=o(n(5173)),s=o(n(381)),a=o(n(7324));function o(t){return t&&t.__esModule?t:{default:t}}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l.apply(this,arguments)}var c=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).isVisible=function(t,e,i){var r=t.top,s=t.left,a=t.bottom,o=t.right,l=t.width,c=t.height,u=n.props,h=u.offset,d=u.partialVisibility;if(r+o+a+s===0)return!1;var p=0-h,f=0-h,g=e+h,m=i+h;return d?r+c>=p&&s+l>=f&&a-c<=m&&o-l<=g:r>=p&&s>=f&&a<=m&&o<=g},n.isComponentVisible=function(){setTimeout((function(){if(n.nodeRef&&n.nodeRef.getBoundingClientRect){var t=document.documentElement,e=n.props.once,i=n.nodeRef.getBoundingClientRect(),r=window.innerWidth||t.clientWidth,s=window.innerHeight||t.clientHeight,a=n.isVisible(i,r,s);a&&e&&n.removeListener(),n.setState({isVisible:a})}}),0)},n.setNodeRef=function(t){return n.nodeRef=t},n.ownProps=Object.keys(r.propTypes),n.state={isVisible:!1},n.throttleCb=(0,s.default)(n.isComponentVisible,n.props.throttleInterval),e.nodeRef&&n.setNodeRef(e.nodeRef),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.attachListener(),this.isComponentVisible()},o.componentDidUpdate=function(t){(0,a.default)(this.getChildProps(this.props),this.getChildProps(t))||this.isComponentVisible()},o.componentWillUnmount=function(){this.removeListener()},o.attachListener=function(){window.addEventListener("scroll",this.throttleCb),window.addEventListener("resize",this.throttleCb)},o.removeListener=function(){window.removeEventListener("scroll",this.throttleCb),window.removeEventListener("resize",this.throttleCb)},o.getChildProps=function(t){var e=this;void 0===t&&(t=this.props);var n={};return Object.keys(t).forEach((function(i){-1===e.ownProps.indexOf(i)&&(n[i]=t[i])})),n},o.getChildren=function(){var t=this;return"function"===typeof this.props.children?this.props.children(l({},this.getChildProps(),{isVisible:this.state.isVisible})):i.default.Children.map(this.props.children,(function(e){return i.default.cloneElement(e,l({},t.getChildProps(),{isVisible:t.state.isVisible}))}))},o.render=function(){var t=this.props,e=t.className,n=t.style,r=t.nodeRef,s=t.tag,a=l({},e&&{className:e},n&&{style:n});return i.default.createElement(s,l({ref:!r&&this.setNodeRef},a),this.getChildren())},r}(i.PureComponent);e.default=c,c.propTypes={once:r.default.bool,throttleInterval:function(t,e,n){var i=t[e];return!Number.isInteger(i)||i<0?new Error("The "+e+" prop you provided to "+n+" is not a valid integer >= 0."):null},children:r.default.oneOfType([r.default.func,r.default.element,r.default.arrayOf(r.default.element)]),style:r.default.object,className:r.default.string,offset:r.default.number,partialVisibility:r.default.bool,nodeRef:r.default.object,tag:r.default.string},c.defaultProps={once:!1,throttleInterval:150,offset:0,partialVisibility:!1,tag:"div"}},6930:(t,e,n)=>{"use strict";var i;e.A=void 0;var r=((i=n(2501))&&i.__esModule?i:{default:i}).default;e.A=r},1153:(t,e,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:o.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},4202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function b(){}function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=v.prototype;var _=y.prototype=new b;_.constructor=y,g(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,s={},a=null,o=null;if(null!=e)for(r in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!k.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:a,ref:o,props:s,_owner:S.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var A=/\/+/g;function P(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,r,s,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=t),t=""===s?"."+P(l,0):s,x(a)?(r="",null!=t&&(r=t.replace(A,"$&/")+"/"),M(a,e,r,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+t)),e.push(a)),1;if(l=0,s=""===s?".":s+":",x(t))for(var c=0;c<t.length;c++){var u=s+P(o=t[c],c);l+=M(o,e,r,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=M(o=o.value,e,r,u=s+P(o,c++),a);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function T(t,e,n){if(null==t)return t;var i=[],r=0;return M(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var F={current:null},I={transition:null},L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:T,forEach:function(t,e,n){T(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.act=D,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,a=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,o=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:a,props:r,_owner:o}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=I.transition;I.transition={};try{t()}finally{I.transition=e}},e.unstable_act=D,e.useCallback=function(t,e){return F.current.useCallback(t,e)},e.useContext=function(t){return F.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return F.current.useDeferredValue(t)},e.useEffect=function(t,e){return F.current.useEffect(t,e)},e.useId=function(){return F.current.useId()},e.useImperativeHandle=function(t,e,n){return F.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return F.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return F.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return F.current.useMemo(t,e)},e.useReducer=function(t,e,n){return F.current.useReducer(t,e,n)},e.useRef=function(t){return F.current.useRef(t)},e.useState=function(t){return F.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return F.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return F.current.useTransition()},e.version="18.3.1"},5043:(t,e,n)=>{"use strict";t.exports=n(4202)},579:(t,e,n)=>{"use strict";t.exports=n(1153)},7234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=t[o],c=o+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function _(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function x(t){if(m=!1,_(t),!g)if(null!==i(c))g=!0,I(w);else{var e=i(u);null!==e&&L(x,e.startTime-t)}}function w(t,n){g=!1,m&&(m=!1,b(C),C=-1),f=!0;var s=p;try{for(_(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!M());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var o=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof o?d.callback=o:d===i(c)&&r(c),_(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&L(x,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,A=5,P=-1;function M(){return!(e.unstable_now()-P<A)}function T(){if(null!==E){var t=e.unstable_now();P=t;var n=!0;try{n=E(!0,t)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof y)S=function(){y(T)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,F=R.port2;R.port1.onmessage=T,S=function(){F.postMessage(null)}}else S=function(){v(T,0)};function I(t){E=t,k||(k=!0,S())}function L(t,n){C=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,I(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,r,s){var a=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(m?(b(C),C=-1):m=!0,L(x,s-a))):(t.sortIndex=o,n(c,t),g||f||(g=!0,I(w))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},8853:(t,e,n)=>{"use strict";t.exports=n(7234)},7324:t=>{t.exports=function(t,e,n,i){var r=n?n.call(i,t,e):void 0;if(void 0!==r)return!!r;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(e),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var u=t[c],h=e[c];if(!1===(r=n?n.call(i,u,h,c):void 0)||void 0===r&&u!==h)return!1}return!0}},7640:()=>{},5618:()=>{},7492:()=>{},1815:()=>{},6671:()=>{},2787:()=>{},1756:t=>{t.exports=function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")},t.exports.__esModule=!0,t.exports.default=t.exports},7101:t=>{t.exports=function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")},t.exports.__esModule=!0,t.exports.default=t.exports},6668:(t,e,n)=>{var i=n(1756);t.exports=function(t,e){return t.get(i(t,e))},t.exports.__esModule=!0,t.exports.default=t.exports},2459:(t,e,n)=>{var i=n(7101);t.exports=function(t,e,n){i(t,e),e.set(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports},7088:(t,e,n)=>{var i=n(1756);t.exports=function(t,e,n){return t.set(i(t,e),n),n},t.exports.__esModule=!0,t.exports.default=t.exports},3312:(t,e,n)=>{var i=n(7101);t.exports=function(t,e){i(t,e),e.add(t)},t.exports.__esModule=!0,t.exports.default=t.exports},3693:(t,e,n)=>{var i=n(7736);t.exports=function(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},9045:(t,e,n)=>{var i=n(3738).default;t.exports=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7736:(t,e,n)=>{var i=n(3738).default,r=n(9045);t.exports=function(t){var e=r(t,"string");return"symbol"==i(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},3738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},8139:(t,e)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,s(n)))}return t}function s(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return r.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)i.call(t,n)&&t[n]&&(e=a(e,n));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;__webpack_require__.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var r=Object.create(null);__webpack_require__.r(r);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,__webpack_require__.d(r,s),r}})(),__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,n)=>(__webpack_require__.f[n](t,e),e)),[])),__webpack_require__.u=t=>"static/js/"+t+".b03e3c98.chunk.js",__webpack_require__.miniCssF=t=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="website:";__webpack_require__.l=(n,i,r,s)=>{if(t[n])t[n].push(i);else{var a,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+r){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",e+r),a.src=n),t[n]=[i];var h=(e,i)=>{a.onerror=a.onload=null,clearTimeout(d);var r=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(i))),e)return e(i)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),o&&document.head.appendChild(a)}}})(),__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.p="/website/",(()=>{var t={792:0};__webpack_require__.f.j=(e,n)=>{var i=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=t[e]=[n,r]));n.push(i[2]=r);var s=__webpack_require__.p+__webpack_require__.u(e),a=new Error;__webpack_require__.l(s,(n=>{if(__webpack_require__.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,i[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var i,r,s=n[0],a=n[1],o=n[2],l=0;if(s.some((e=>0!==t[e]))){for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(o)o(__webpack_require__)}for(e&&e(n);l<s.length;l++)r=s[l],__webpack_require__.o(t,r)&&t[r]&&t[r][0](),t[r]=0},n=self.webpackChunkwebsite=self.webpackChunkwebsite||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var t,e=__webpack_require__(5043),n=__webpack_require__.t(e,2),i=__webpack_require__(4391);function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const s="popstate";function a(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function o(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function l(t,e){return{usr:t.state,key:t.key,idx:e}}function c(t,e,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?h(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function u(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function h(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function d(e,n,i,o){void 0===o&&(o={});let{window:h=document.defaultView,v5Compat:d=!1}=o,p=h.history,f=t.Pop,g=null,m=v();function v(){return(p.state||{idx:null}).idx}function b(){f=t.Pop;let e=v(),n=null==e?null:e-m;m=e,g&&g({action:f,location:_.location,delta:n})}function y(t){let e="null"!==h.location.origin?h.location.origin:h.location.href,n="string"===typeof t?t:u(t);return n=n.replace(/ $/,"%20"),a(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,p.replaceState(r({},p.state,{idx:m}),""));let _={get action(){return f},get location(){return e(h,p)},listen(t){if(g)throw new Error("A history only accepts one active listener");return h.addEventListener(s,b),g=t,()=>{h.removeEventListener(s,b),g=null}},createHref:t=>n(h,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){f=t.Push;let r=c(_.location,e,n);i&&i(r,e),m=v()+1;let s=l(r,m),a=_.createHref(r);try{p.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;h.location.assign(a)}d&&g&&g({action:f,location:_.location,delta:1})},replace:function(e,n){f=t.Replace;let r=c(_.location,e,n);i&&i(r,e),m=v();let s=l(r,m),a=_.createHref(r);p.replaceState(s,"",a),d&&g&&g({action:f,location:_.location,delta:0})},go:t=>p.go(t)};return _}var p;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(t,e,n){void 0===n&&(n="/");let i=P(("string"===typeof e?h(e):e).pathname||"/",n);if(null==i)return null;let r=g(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let t=A(i);s=E(r[a],t)}return s}function g(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(t,r,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let l=M([i,o.relativePath]),c=n.concat(o);t.children&&t.children.length>0&&(a(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(t.children,e,c,l)),(null!=t.path||t.index)&&e.push({path:l,score:k(l,t.index),routesMeta:c})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of m(t.path))r(t,e,i);else r(t,e)})),e}function m(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let a=m(i.join("/")),o=[];return o.push(...a.map((t=>""===t?s:[s,t].join("/")))),r&&o.push(...a),o.map((e=>t.startsWith("/")&&""===e?"/":e))}const v=/^:[\w-]+$/,b=3,y=2,_=1,x=10,w=-2,S=t=>"*"===t;function k(t,e){let n=t.split("/"),i=n.length;return n.some(S)&&(i+=w),e&&(i+=y),n.filter((t=>!S(t))).reduce(((t,e)=>t+(v.test(e)?b:""===e?_:x)),i)}function E(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let a=0;a<n.length;++a){let t=n[a],o=a===n.length-1,l="/"===r?e:e.slice(r.length)||"/",c=C({path:t.relativePath,caseSensitive:t.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let u=t.route;s.push({params:i,pathname:M([r,c.pathname]),pathnameBase:T(M([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=M([r,c.pathnameBase]))}return s}function C(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);o("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1),c=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=l[n]||"";a=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const o=l[n];return t[i]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),t}),{});return{params:c,pathname:s,pathnameBase:a,pattern:t}}function A(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return o(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function P(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}const M=t=>t.join("/").replace(/\/\/+/g,"/"),T=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function R(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const F=["post","put","patch","delete"],I=(new Set(F),["get",...F]);new Set(I),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L.apply(this,arguments)}const D=e.createContext(null);const O=e.createContext(null);const N=e.createContext(null);const j=e.createContext(null);const z=e.createContext({outlet:null,matches:[],isDataRoute:!1});const B=e.createContext(null);function W(){return null!=e.useContext(j)}function H(){return W()||a(!1),e.useContext(j).location}function V(n,i,r,s){W()||a(!1);let{navigator:o}=e.useContext(N),{matches:l}=e.useContext(z),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,g=H();if(i){var m;let t="string"===typeof i?h(i):i;"/"===d||(null==(m=t.pathname)?void 0:m.startsWith(d))||a(!1),p=t}else p=g;let v=p.pathname||"/",b=v;if("/"!==d){let t=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=f(n,{pathname:b});let _=K(y&&y.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:M([d,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?d:M([d,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),l,r,s);return i&&_?e.createElement(j.Provider,{value:{location:L({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},_):_}function U(){let t=function(){var t;let n=e.useContext(B),i=Q(Y.UseRouteError),r=J(Y.UseRouteError);if(void 0!==n)return n;return null==(t=i.errors)?void 0:t[r]}(),n=R(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:s},i):null,null)}const G=e.createElement(U,null);class q extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(z.Provider,{value:this.props.routeContext},e.createElement(B.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X(t){let{routeContext:n,match:i,children:r}=t,s=e.useContext(D);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(z.Provider,{value:n},r)}function K(t,n,i,r){var s;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==t){var o;if(null==(o=i)||!o.errors)return null;t=i.matches}let l=t,c=null==(s=i)?void 0:s.errors;if(null!=c){let t=l.findIndex((t=>t.route.id&&void 0!==(null==c?void 0:c[t.route.id])));t>=0||a(!1),l=l.slice(0,Math.min(l.length,t+1))}let u=!1,h=-1;if(i&&r&&r.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((t,r,s)=>{let a,o=!1,d=null,p=null;var f;i&&(a=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||G,u&&(h<0&&0===s?(f="route-fallback",!1||$[f]||($[f]=!0),o=!0,p=null):h===s&&(o=!0,p=r.route.hydrateFallbackElement||null)));let g=n.concat(l.slice(0,s+1)),m=()=>{let n;return n=a?d:o?p:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(X,{match:r,routeContext:{outlet:t,matches:g,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?e.createElement(q,{location:i.location,revalidation:i.revalidation,component:d,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var Y=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Y||{});function Q(t){let n=e.useContext(O);return n||a(!1),n}function J(t){let n=function(t){let n=e.useContext(z);return n||a(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||a(!1),i.route.id}const $={};n.startTransition;function Z(t){a(!1)}function tt(n){let{basename:i="/",children:r=null,location:s,navigationType:o=t.Pop,navigator:l,static:c=!1,future:u}=n;W()&&a(!1);let d=i.replace(/^\/*/,"/"),p=e.useMemo((()=>({basename:d,navigator:l,static:c,future:L({v7_relativeSplatPath:!1},u)})),[d,u,l,c]);"string"===typeof s&&(s=h(s));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:b="default"}=s,y=e.useMemo((()=>{let t=P(f,d);return null==t?null:{location:{pathname:t,search:g,hash:m,state:v,key:b},navigationType:o}}),[d,f,g,m,v,b,o]);return null==y?null:e.createElement(N.Provider,{value:p},e.createElement(j.Provider,{children:r,value:y}))}function et(t){let{children:e,location:n}=t;return V(nt(e),n)}new Promise((()=>{}));e.Component;function nt(t,n){void 0===n&&(n=[]);let i=[];return e.Children.forEach(t,((t,r)=>{if(!e.isValidElement(t))return;let s=[...n,r];if(t.type===e.Fragment)return void i.push.apply(i,nt(t.props.children,s));t.type!==Z&&a(!1),t.props.index&&t.props.children&&a(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=nt(t.props.children,s)),i.push(o)})),i}var it,rt,st,at,ot,lt,ct,ut,ht,dt,pt,ft,gt=__webpack_require__(3237),mt=__webpack_require__(4980);function vt(t,e,n){e||(e=[]);var i=e.length++;return Object.defineProperty({},"_",{set:function(r){e[i]=r,t.apply(n,e)}})}function bt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yt(t,e){bt(t,e),e.add(t)}function _t(t,e,n){bt(t,e),e.set(t,n)}function xt(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function wt(t,e,n){return n(xt(t,e))}function St(t,e){return t.get(xt(t,e))}function kt(t,e,n){return t.set(xt(t,e),n),n}function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Ct(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=Et(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:e+""}function At(t,e,n){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt={d:(t,e)=>{for(var n in e)Pt.o(e,n)&&!Pt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},Mt=globalThis.pdfjsLib={};Pt.d(Mt,{AbortException:()=>We,AnnotationEditorLayer:()=>zf,AnnotationEditorParamsType:()=>Vt,AnnotationEditorType:()=>Ht,AnnotationEditorUIManager:()=>Ir,AnnotationLayer:()=>Qu,AnnotationMode:()=>Wt,CMapCompressionType:()=>we,ColorPicker:()=>kd,DOMSVGFactory:()=>jn,DrawLayer:()=>Jf,FeatureTest:()=>Ge,GlobalWorkerOptions:()=>Ua,ImageKind:()=>Jt,InvalidPDFException:()=>Ne,MissingPDFException:()=>je,OPS:()=>Se,Outliner:()=>Eh,PDFDataRangeTransport:()=>Bl,PDFDateString:()=>Qn,PDFWorker:()=>$l,PasswordResponses:()=>ke,PermissionFlag:()=>Ut,PixelsPerInch:()=>mn,RenderingCancelledException:()=>Bn,TextLayer:()=>yl,UnexpectedResponseException:()=>ze,Util:()=>Xe,VerbosityLevel:()=>xe,XfaLayer:()=>Sc,build:()=>yc,createValidAbsoluteUrl:()=>Fe,fetchData:()=>Dn,getDocument:()=>Ol,getFilenameFromUrl:()=>Vn,getPdfFilenameFromUrl:()=>Un,getXfaPageViewport:()=>Jn,isDataScheme:()=>Wn,isPdfFile:()=>Hn,noContextMenu:()=>Xn,normalizeUnicode:()=>$e,renderTextLayer:()=>Pl,setLayerDimensions:()=>ei,shadow:()=>Ie,updateTextLayer:()=>Ml,version:()=>bc});const Tt="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Rt=[1,0,0,1,0,0],Ft=[.001,0,0,.001,0,0],It=1.35,Lt=1,Dt=2,Ot=4,Nt=16,jt=32,zt=64,Bt=256,Wt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ht={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Ut={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gt=0,qt=1,Xt=2,Kt=3,Yt=3,Qt=4,Jt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$t=1,Zt=2,te=3,ee=4,ne=5,ie=6,re=7,se=8,ae=9,oe=10,le=11,ce=12,ue=13,he=14,de=15,pe=16,fe=17,ge=20,me=1,ve=2,be=3,ye=4,_e=5,xe={ERRORS:0,WARNINGS:1,INFOS:5},we={NONE:0,BINARY:1},Se={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ke={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ee=xe.WARNINGS;function Ce(t){Number.isInteger(t)&&(Ee=t)}function Ae(){return Ee}function Pe(t){Ee>=xe.INFOS&&console.log("Info: ".concat(t))}function Me(t){Ee>=xe.WARNINGS&&console.log("Warning: ".concat(t))}function Te(t){throw new Error(t)}function Re(t,e){t||Te(e)}function Fe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch{}}const i=e?new URL(t,e):new URL(t);if(function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function Ie(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Le=function(){function t(e,n){this.constructor===t&&Te("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class De extends Le{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Oe extends Le{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Ne extends Le{constructor(t){super(t,"InvalidPDFException")}}class je extends Le{constructor(t){super(t,"MissingPDFException")}}class ze extends Le{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class Be extends Le{constructor(t){super(t,"FormatError")}}class We extends Le{constructor(t){super(t,"AbortException")}}function He(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||Te("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const s=Math.min(r+n,e),a=t.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Ve(t){"string"!==typeof t&&Te("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function Ue(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}class Ge{static get isLittleEndian(){return Ie(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Ie(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var t;return"undefined"!==typeof navigator&&"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.platform)?Ie(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ie(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Ie(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const qe=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class Xe{static makeHexColor(t,e,n){return"#".concat(qe[t]).concat(qe[e]).concat(qe[n])}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),s=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],r[0],s[0]),Math.min(n[1],i[1],r[1],s[1]),Math.max(n[0],i[0],r[0],s[0]),Math.max(n[1],i[1],r[1],s[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],s=t[2]*e[1]+t[3]*e[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-r*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>s?null:[n,r,i,s]}static bezierBoundingBox(t,e,n,i,r,s,a,o,l){return l?(l[0]=Math.min(l[0],t,a),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,a),l[3]=Math.max(l[3],e,o)):l=[Math.min(t,a),Math.min(e,o),Math.max(t,a),Math.max(e,o)],xt(Xe,this,Ye).call(this,t,n,r,a,e,i,s,o,3*(3*(n-r)-t+a),6*(t-2*n+r),3*(n-t),l),xt(Xe,this,Ye).call(this,t,n,r,a,e,i,s,o,3*(3*(i-s)-e+o),6*(e-2*i+s),3*(i-e),l),l}}function Ke(t,e,n,i,r,s,a,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,p=u*(u*(u*t+3*l*e)+3*h*n)+d*i,f=u*(u*(u*r+3*l*s)+3*h*a)+d*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}function Ye(t,e,n,i,r,s,a,o,l,c,u,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&xt(it,this,Ke).call(this,t,e,n,i,r,s,a,o,-u/c,h));const d=c**2-4*u*l;if(d<0)return;const p=Math.sqrt(d),f=2*l;xt(it,this,Ke).call(this,t,e,n,i,r,s,a,o,(-c+p)/f,h),xt(it,this,Ke).call(this,t,e,n,i,r,s,a,o,(-c-p)/f,h)}it=Xe;let Qe=null,Je=null;function $e(t){return Qe||(Qe=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Je=new Map([["\ufb05","\u017ft"]])),t.replaceAll(Qe,((t,e,n)=>e?e.normalize("NFKC"):Je.get(n)))}const Ze="pdfjs_internal_id_",tn=0,en=1,nn=2,rn=3,sn=4,an=5,on=6,ln=7,cn=8;class un{constructor(){this.constructor===un&&Te("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,r){return"none"}destroy(){}}class hn{constructor(){this.constructor===hn&&Te("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Te("Abstract method `_createCanvas` called.")}}class dn{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.constructor===dn&&Te("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?we.BINARY:we.NONE;return this._fetchData(n,i).catch((t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}_fetchData(t,e){Te("Abstract method `_fetchData` called.")}}class pn{constructor(t){let{baseUrl:e=null}=t;this.constructor===pn&&Te("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetchData(n).catch((t=>{throw new Error("Unable to load font data at: ".concat(n))}))}_fetchData(t){Te("Abstract method `_fetchData` called.")}}class fn{constructor(){this.constructor===fn&&Te("Cannot initialize BaseSVGFactory.")}create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Te("Abstract method `_createSVG` called.")}}const gn="http://www.w3.org/2000/svg";class mn{}rt=mn,At(mn,"CSS",96),At(mn,"PDF",72),At(mn,"PDF_TO_CSS_UNITS",rt.CSS/rt.PDF);var vn=new WeakMap,bn=new WeakMap,yn=new WeakMap,_n=new WeakMap,xn=new WeakMap,wn=new WeakMap,Sn=new WeakSet;function kn(t){return St(vn,t)||kt(vn,t,new Map)}function En(t){return St(xn,t)||kt(xn,t,new Map)}function Cn(t){if(!St(bn,t)){const e=St(_n,t).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=St(_n,t).createElementNS(gn,"svg");i.setAttribute("width",0),i.setAttribute("height",0),kt(bn,t,St(_n,t).createElementNS(gn,"defs")),e.append(i),i.append(St(bn,t)),St(_n,t).body.append(e)}return St(bn,t)}function An(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,r=new Array(256),s=new Array(256),a=new Array(256);for(let o=0;o<256;o++)r[o]=e[o]/255,s[o]=n[o]/255,a[o]=i[o]/255;return[r.join(","),s.join(","),a.join(",")]}function Pn(t){const e=St(_n,this).createElementNS(gn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function Mn(t){const e=St(_n,this).createElementNS(gn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Tn(t){const e=St(_n,this).createElementNS(gn,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),wt(Sn,this,Cn).append(e),e}function Rn(t,e,n){const i=St(_n,this).createElementNS(gn,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}function Fn(t,e,n,i){const r=St(_n,this).createElementNS(gn,"feComponentTransfer");i.append(r),xt(Sn,this,Rn).call(this,r,"feFuncR",t),xt(Sn,this,Rn).call(this,r,"feFuncG",e),xt(Sn,this,Rn).call(this,r,"feFuncB",n)}function In(t,e){const n=St(_n,this).createElementNS(gn,"feComponentTransfer");e.append(n),xt(Sn,this,Rn).call(this,n,"feFuncA",t)}function Ln(t){return wt(Sn,this,Cn).style.color=t,$n(getComputedStyle(wt(Sn,this,Cn)).getPropertyValue("color"))}async function Dn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(qn(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)}))}class On extends dn{_fetchData(t,e){return Dn(t,this.isCompressed?"arraybuffer":"text").then((t=>({cMapData:t instanceof ArrayBuffer?new Uint8Array(t):Ve(t),compressionType:e})))}}class Nn extends pn{_fetchData(t){return Dn(t,"arraybuffer").then((t=>new Uint8Array(t)))}}class jn extends fn{_createSVG(t){return document.createElementNS(gn,t)}}class zn{constructor(t){let{viewBox:e,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}=t;this.viewBox=e,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,d,p,f,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,d=-d),0===c?(p=Math.abs(l-e[1])*n+r,f=Math.abs(o-e[0])*n+s,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(p=Math.abs(o-e[0])*n+r,f=Math.abs(l-e[1])*n+s,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[c*n,u*n,h*n,d*n,p-c*n*o-h*n*l,f-u*n*o-d*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:t}=this;return Ie(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new zn({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){return Xe.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Xe.applyTransform([t[0],t[1]],this.transform),n=Xe.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return Xe.applyInverseTransform([t,e],this.transform)}}class Bn extends Le{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function Wn(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function Hn(t){return"string"===typeof t&&/\.pdf$/i.test(t)}function Vn(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Un(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(Wn(t))return Me('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||e}class Gn{constructor(){At(this,"started",Object.create(null)),At(this,"times",[])}time(t){t in this.started&&Me("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||Me("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:r}of this.times)t.push("".concat(n.padEnd(e)," ").concat(r-i,"ms\n"));return t.join("")}}function qn(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch{return!1}}function Xn(t){t.preventDefault()}function Kn(t){console.log("Deprecated API usage: "+t)}let Yn;class Qn{static toDateObject(t){if(!t||"string"!==typeof t)return null;Yn||(Yn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=Yn.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(e[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,i,r,s,a,o))}}function Jn(t,e){let{scale:n=1,rotation:i=0}=e;const{width:r,height:s}=t.attributes.style,a=[0,0,parseInt(r),parseInt(s)];return new zn({viewBox:a,scale:n,rotation:i})}function $n(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(Me('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function Zn(t){const{a:e,b:n,c:i,d:r,e:s,f:a}=t.getTransform();return[e,n,i,r,s,a]}function ti(t){const{a:e,b:n,c:i,d:r,e:s,f:a}=t.getTransform().invertSelf();return[e,n,i,r,s,a]}function ei(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof zn){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:s}=t,a=Ge.isCSSRoundSupported,o="var(--scale-factor) * ".concat(i,"px"),l="var(--scale-factor) * ".concat(r,"px"),c=a?"round(".concat(o,", 1px)"):"calc(".concat(o,")"),u=a?"round(".concat(l,", 1px)"):"calc(".concat(l,")");n&&e.rotation%180!==0?(s.width=u,s.height=c):(s.width=c,s.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}var ni=new WeakMap,ii=new WeakMap,ri=new WeakMap,si=new WeakMap,ai=new WeakSet;class oi{constructor(t){yt(this,ai),_t(this,ni,null),_t(this,ii,null),_t(this,ri,void 0),_t(this,si,null),kt(ri,this,t)}render(){const t=kt(ni,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Xn),t.addEventListener("pointerdown",li);const e=kt(si,this,document.createElement("div"));e.className="buttons",t.append(e);const n=St(ri,this).toolbarPosition;if(n){const{style:e}=t,i="ltr"===St(ri,this)._uiManager.direction?1-n[0]:n[0];e.insetInlineEnd="".concat(100*i,"%"),e.top="calc(".concat(100*n[1],"% + var(--editor-toolbar-vert-offset))")}return xt(ai,this,di).call(this),t}hide(){var t;St(ni,this).classList.add("hidden"),null===(t=St(ii,this))||void 0===t||t.hideDropdown()}show(){St(ni,this).classList.remove("hidden")}addAltTextButton(t){xt(ai,this,hi).call(this,t),St(si,this).prepend(t,wt(ai,this,pi))}addColorPicker(t){kt(ii,this,t);const e=t.renderButton();xt(ai,this,hi).call(this,e),St(si,this).prepend(e,wt(ai,this,pi))}remove(){var t;St(ni,this).remove(),null===(t=St(ii,this))||void 0===t||t.destroy(),kt(ii,this,null)}}function li(t){t.stopPropagation()}function ci(t){St(ri,this)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}function ui(t){St(ri,this)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}function hi(t){t.addEventListener("focusin",xt(ai,this,ci).bind(this),{capture:!0}),t.addEventListener("focusout",xt(ai,this,ui).bind(this),{capture:!0}),t.addEventListener("contextmenu",Xn)}function di(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-editor-remove-".concat(St(ri,this).editorType,"-button")),xt(ai,this,hi).call(this,t),t.addEventListener("click",(t=>{St(ri,this)._uiManager.delete()})),St(si,this).append(t)}function pi(t){const e=document.createElement("div");return e.className="divider",e}var fi=new WeakMap,gi=new WeakMap,mi=new WeakMap,vi=new WeakSet;class bi{constructor(t){yt(this,vi),_t(this,fi,null),_t(this,gi,null),_t(this,mi,void 0),kt(mi,this,t)}show(t,e,n){const[i,r]=xt(vi,this,_i).call(this,e,n),{style:s}=St(gi,this)||kt(gi,this,xt(vi,this,yi).call(this));t.append(St(gi,this)),s.insetInlineEnd="".concat(100*i,"%"),s.top="calc(".concat(100*r,"% + var(--editor-toolbar-vert-offset))")}hide(){St(gi,this).remove()}}function yi(){const t=kt(gi,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Xn);const e=kt(fi,this,document.createElement("div"));return e.className="buttons",t.append(e),xt(vi,this,xi).call(this),t}function _i(t,e){let n=0,i=0;for(const r of t){const t=r.y+r.height;if(t<n)continue;const s=r.x+(e?r.width:0);t>n?(i=s,n=t):e?s>i&&(i=s):s<i&&(i=s)}return[e?1-i:i,n]}function xi(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),t.addEventListener("contextmenu",Xn),t.addEventListener("click",(()=>{St(mi,this).highlightSelection("floating_button")})),St(fi,this).append(t)}function wi(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var Si=new WeakMap;class ki{constructor(){_t(this,Si,0)}get id(){var t,e;return"".concat("pdfjs_internal_editor_").concat((kt(Si,this,(t=St(Si,this),e=t++,t)),e))}}var Ei=new WeakMap,Ci=new WeakMap,Ai=new WeakMap,Pi=new WeakSet;class Mi{constructor(){yt(this,Pi),_t(this,Ei,function(){var t,e;if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.getRandomValues))crypto.getRandomValues(n);else for(let i=0;i<32;i++)n[i]=Math.floor(255*Math.random());return He(n)}()),_t(this,Ci,0),_t(this,Ai,null)}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d"),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Ie(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(t){const{lastModified:e,name:n,size:i,type:r}=t;return xt(Pi,this,Ti).call(this,"".concat(e,"_").concat(n,"_").concat(i,"_").concat(r),t)}async getFromUrl(t){return xt(Pi,this,Ti).call(this,t,t)}async getFromId(t){St(Ai,this)||kt(Ai,this,new Map);const e=St(Ai,this).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=St(Ai,this).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){St(Ai,this)||kt(Ai,this,new Map);const e=St(Ai,this).get(t);e&&(e.refCounter-=1,0===e.refCounter&&(e.bitmap=null))}isValidId(t){return t.startsWith("image_".concat(St(Ei,this),"_"))}}async function Ti(t,e){var n;St(Ai,this)||kt(Ai,this,new Map);let i=St(Ai,this).get(t);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var r,s;let t;if(i||(i={bitmap:null,id:"image_".concat(St(Ei,this),"_").concat((kt(Ci,this,(r=St(Ci,this),s=r++,r)),s)),refCounter:0,isSvg:!1}),"string"===typeof e?(i.url=e,t=await Dn(e,"blob")):t=i.file=e,"image/svg+xml"===t.type){const e=st._isSVGFittingCanvas,n=new FileReader,r=new Image,s=new Promise(((t,s)=>{r.onload=()=>{i.bitmap=r,i.isSvg=!0,t()},n.onload=async()=>{const t=i.svgUrl=n.result;r.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},r.onerror=n.onerror=s}));n.readAsDataURL(t),await s}else i.bitmap=await createImageBitmap(t);i.refCounter=1}catch(a){console.error(a),i=null}return St(Ai,this).set(t,i),i&&St(Ai,this).set(i.id,i),i}st=Mi;var Ri=new WeakMap,Fi=new WeakMap,Ii=new WeakMap,Li=new WeakMap;class Di{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_t(this,Ri,[]),_t(this,Fi,!1),_t(this,Ii,void 0),_t(this,Li,-1),kt(Ii,this,t)}add(t){let{cmd:e,undo:n,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=t;if(r&&e(),St(Fi,this))return;const l={cmd:e,undo:n,post:i,type:s};if(-1===St(Li,this))return St(Ri,this).length>0&&(St(Ri,this).length=0),kt(Li,this,0),void St(Ri,this).push(l);if(a&&St(Ri,this)[St(Li,this)].type===s)return o&&(l.undo=St(Ri,this)[St(Li,this)].undo),void(St(Ri,this)[St(Li,this)]=l);const c=St(Li,this)+1;c===St(Ii,this)?St(Ri,this).splice(0,1):(kt(Li,this,c),c<St(Ri,this).length&&St(Ri,this).splice(c)),St(Ri,this).push(l)}undo(){if(-1===St(Li,this))return;kt(Fi,this,!0);const{undo:t,post:e}=St(Ri,this)[St(Li,this)];t(),null===e||void 0===e||e(),kt(Fi,this,!1),kt(Li,this,St(Li,this)-1)}redo(){if(St(Li,this)<St(Ri,this).length-1){kt(Li,this,St(Li,this)+1),kt(Fi,this,!0);const{cmd:t,post:e}=St(Ri,this)[St(Li,this)];t(),null===e||void 0===e||e(),kt(Fi,this,!1)}}hasSomethingToUndo(){return-1!==St(Li,this)}hasSomethingToRedo(){return St(Li,this)<St(Ri,this).length-1}destroy(){kt(Ri,this,null)}}var Oi=new WeakSet;class Ni{constructor(t){yt(this,Oi),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ge.platform;for(const[n,i,r={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:r}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:r}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(xt(Oi,this,ji).call(this,e));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:s=[],checker:a=null}}=n;a&&!a(t,e)||(i.bind(t,...s,e)(),r||(e.stopPropagation(),e.preventDefault()))}}function ji(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class zi{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,$n(i))}e.remove()}(t),Ie(this,"_colors",t)}convert(t){const e=$n(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return zi._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Xe.makeHexColor(...e):t}}At(zi,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Bi=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,Ui=new WeakMap,Gi=new WeakMap,qi=new WeakMap,Xi=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,Qi=new WeakMap,Ji=new WeakMap,$i=new WeakMap,Zi=new WeakMap,tr=new WeakMap,er=new WeakMap,nr=new WeakMap,ir=new WeakMap,rr=new WeakMap,sr=new WeakMap,ar=new WeakMap,or=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,hr=new WeakMap,dr=new WeakMap,pr=new WeakMap,fr=new WeakMap,gr=new WeakMap,mr=new WeakMap,vr=new WeakMap,br=new WeakMap,yr=new WeakMap,_r=new WeakMap,xr=new WeakMap,wr=new WeakMap,Sr=new WeakMap,kr=new WeakMap,Er=new WeakMap,Cr=new WeakMap,Ar=new WeakMap,Pr=new WeakMap,Mr=new WeakMap,Tr=new WeakMap,Rr=new WeakMap,Fr=new WeakSet;class Ir{static get _keyboardManager(){const t=Ir.prototype,e=t=>St(Tr,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Ni([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&St(Tr,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&St(Tr,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}constructor(t,e,n,i,r,s,a,o,l){yt(this,Fr),_t(this,Bi,null),_t(this,Wi,new Map),_t(this,Hi,new Map),_t(this,Vi,null),_t(this,Ui,null),_t(this,Gi,null),_t(this,qi,new Di),_t(this,Xi,0),_t(this,Ki,new Set),_t(this,Yi,null),_t(this,Qi,null),_t(this,Ji,new Set),_t(this,$i,!1),_t(this,Zi,null),_t(this,tr,null),_t(this,er,null),_t(this,nr,!1),_t(this,ir,null),_t(this,rr,new ki),_t(this,sr,!1),_t(this,ar,!1),_t(this,or,null),_t(this,lr,null),_t(this,cr,null),_t(this,ur,Ht.NONE),_t(this,hr,new Set),_t(this,dr,null),_t(this,pr,null),_t(this,fr,null),_t(this,gr,this.blur.bind(this)),_t(this,mr,this.focus.bind(this)),_t(this,vr,this.copy.bind(this)),_t(this,br,this.cut.bind(this)),_t(this,yr,this.paste.bind(this)),_t(this,_r,this.keydown.bind(this)),_t(this,xr,this.keyup.bind(this)),_t(this,wr,this.onEditingAction.bind(this)),_t(this,Sr,this.onPageChanging.bind(this)),_t(this,kr,this.onScaleChanging.bind(this)),_t(this,Er,xt(Fr,this,Or).bind(this)),_t(this,Cr,this.onRotationChanging.bind(this)),_t(this,Ar,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),_t(this,Pr,[0,0]),_t(this,Mr,null),_t(this,Tr,null),_t(this,Rr,null),kt(Tr,this,t),kt(Rr,this,e),kt(Vi,this,n),this._eventBus=i,this._eventBus._on("editingaction",St(wr,this)),this._eventBus._on("pagechanging",St(Sr,this)),this._eventBus._on("scalechanging",St(kr,this)),this._eventBus._on("rotationchanging",St(Cr,this)),xt(Fr,this,jr).call(this),xt(Fr,this,Hr).call(this),kt(Ui,this,r.annotationStorage),kt(Zi,this,r.filterFactory),kt(pr,this,s),kt(er,this,a||null),kt($i,this,o),kt(cr,this,l||null),this.viewParameters={realScale:mn.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var t,e;xt(Fr,this,Vr).call(this),xt(Fr,this,Wr).call(this),this._eventBus._off("editingaction",St(wr,this)),this._eventBus._off("pagechanging",St(Sr,this)),this._eventBus._off("scalechanging",St(kr,this)),this._eventBus._off("rotationchanging",St(Cr,this));for(const n of St(Hi,this).values())n.destroy();St(Hi,this).clear(),St(Wi,this).clear(),St(Ji,this).clear(),kt(Bi,this,null),St(hr,this).clear(),St(qi,this).destroy(),null===(t=St(Vi,this))||void 0===t||t.destroy(),null===(e=St(ir,this))||void 0===e||e.hide(),kt(ir,this,null),St(tr,this)&&(clearTimeout(St(tr,this)),kt(tr,this,null)),St(Mr,this)&&(clearTimeout(St(Mr,this)),kt(Mr,this,null)),xt(Fr,this,zr).call(this)}async mlGuess(t){var e;return(null===(e=St(cr,this))||void 0===e?void 0:e.guess(t))||null}get hasMLManager(){return!!St(cr,this)}get hcmFilter(){return Ie(this,"hcmFilter",St(pr,this)?St(Zi,this).addHCMFilter(St(pr,this).foreground,St(pr,this).background):"none")}get direction(){return Ie(this,"direction",getComputedStyle(St(Tr,this)).direction)}get highlightColors(){return Ie(this,"highlightColors",St(er,this)?new Map(St(er,this).split(",").map((t=>t.split("=").map((t=>t.trim()))))):null)}get highlightColorNames(){return Ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}setMainHighlightColorPicker(t){kt(lr,this,t)}editAltText(t){var e;null===(e=St(Vi,this))||void 0===e||e.editAltText(this,t)}onPageChanging(t){let{pageNumber:e}=t;kt(Xi,this,e-1)}focusMainContainer(){St(Tr,this).focus()}findParent(t,e){for(const n of St(Hi,this).values()){const{x:i,y:r,width:s,height:a}=n.div.getBoundingClientRect();if(t>=i&&t<=i+s&&e>=r&&e<=r+a)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];St(Rr,this).classList.toggle("noUserSelect",t)}addShouldRescale(t){St(Ji,this).add(t)}removeShouldRescale(t){St(Ji,this).delete(t)}onScaleChanging(t){let{scale:e}=t;this.commitOrRemove(),this.viewParameters.realScale=e*mn.PDF_TO_CSS_UNITS;for(const n of St(Ji,this))n.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=e,a=e.toString(),o=xt(Fr,this,Lr).call(this,e).closest(".textLayer"),l=this.getSelectionBoxes(o);if(l){e.empty(),St(ur,this)===Ht.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ht.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const e of St(Hi,this).values())if(e.hasTextLayer(o)){e.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:l,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s,text:a});break}}}addToAnnotationStorage(t){t.isEmpty()||!St(Ui,this)||St(Ui,this).has(t.id)||St(Ui,this).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,St(nr,this)&&(kt(nr,this,!1),xt(Fr,this,Nr).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of St(hr,this))if(e.div.contains(t)){kt(or,this,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!St(or,this))return;const[t,e]=St(or,this);kt(or,this,null),e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0}),e.focus()}addEditListeners(){xt(Fr,this,Hr).call(this),xt(Fr,this,Ur).call(this)}removeEditListeners(){xt(Fr,this,Vr).call(this),xt(Fr,this,Gr).call(this)}copy(t){var e;if(t.preventDefault(),null===(e=St(Bi,this))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of St(hr,this)){const t=i.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const t of St(Qi,this))if(t.isHandlingMimeForPasting(s.type))return void t.paste(s,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){return void Me('paste: "'.concat(r.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const s of n){const e=i.deserialize(s);if(!e)return;t.push(e)}const e=()=>{for(const e of t)xt(Fr,this,Qr).call(this,e);xt(Fr,this,Zr).call(this,t)},r=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:r,mustExec:!0})}catch(r){Me('paste: "'.concat(r.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),St(ur,this)===Ht.NONE||this.isEditorHandlingKeyboard||Ir._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,St(nr,this)&&(kt(nr,this,!1),xt(Fr,this,Nr).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(t){t?(xt(Fr,this,Br).call(this),xt(Fr,this,Ur).call(this),xt(Fr,this,qr).call(this,{isEditing:St(ur,this)!==Ht.NONE,isEmpty:xt(Fr,this,$r).call(this),hasSomethingToUndo:St(qi,this).hasSomethingToUndo(),hasSomethingToRedo:St(qi,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(xt(Fr,this,Wr).call(this),xt(Fr,this,Gr).call(this),xt(Fr,this,qr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!St(Qi,this)){kt(Qi,this,t);for(const t of St(Qi,this))xt(Fr,this,Xr).call(this,t.defaultPropertiesToUpdate)}}getId(){return St(rr,this).id}get currentLayer(){return St(Hi,this).get(St(Xi,this))}getLayer(t){return St(Hi,this).get(t)}get currentPageIndex(){return St(Xi,this)}addLayer(t){St(Hi,this).set(t.pageIndex,t),St(sr,this)?t.enable():t.disable()}removeLayer(t){St(Hi,this).delete(t.pageIndex)}updateMode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(St(ur,this)!==t){if(kt(ur,this,t),t===Ht.NONE)return this.setEditingState(!1),void xt(Fr,this,Yr).call(this);this.setEditingState(!0),xt(Fr,this,Kr).call(this),this.unselectAll();for(const e of St(Hi,this).values())e.updateMode(t);if(e||!n){if(e)for(const t of St(Wi,this).values())if(t.annotationElementId===e){this.setSelected(t),t.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==St(ur,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(St(Qi,this)){switch(t){case Vt.CREATE:return void this.currentLayer.addNewEditor();case Vt.HIGHLIGHT_DEFAULT_COLOR:null===(n=St(lr,this))||void 0===n||n.updateColor(e);break;case Vt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(St(fr,this)||kt(fr,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}for(const n of St(hr,this))n.updateParams(t,e);for(const n of St(Qi,this))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,i;for(const r of St(Wi,this).values())r.editorType===t&&r.show(e);(null===(n=null===(i=St(fr,this))||void 0===i?void 0:i.get(Vt.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&xt(Fr,this,Xr).call(this,[[Vt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(St(ar,this)!==t){kt(ar,this,t);for(const e of St(Hi,this).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of St(Wi,this).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return St(Wi,this).get(t)}addEditor(t){St(Wi,this).set(t.id,t)}removeEditor(t){var e;(t.div.contains(document.activeElement)&&(St(tr,this)&&clearTimeout(St(tr,this)),kt(tr,this,setTimeout((()=>{this.focusMainContainer(),kt(tr,this,null)}),0))),St(Wi,this).delete(t.id),this.unselect(t),t.annotationElementId&&St(Ki,this).has(t.annotationElementId))||(null===(e=St(Ui,this))||void 0===e||e.remove(t.id))}addDeletedAnnotationElement(t){St(Ki,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return St(Ki,this).has(t)}removeDeletedAnnotationElement(t){St(Ki,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){St(Bi,this)!==t&&(kt(Bi,this,t),t&&xt(Fr,this,Xr).call(this,t.propertiesToUpdate))}updateUI(t){wt(Fr,this,Jr)===t&&xt(Fr,this,Xr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(St(hr,this).has(t))return St(hr,this).delete(t),t.unselect(),void xt(Fr,this,qr).call(this,{hasSelectedEditor:this.hasSelection});St(hr,this).add(t),t.select(),xt(Fr,this,Xr).call(this,t.propertiesToUpdate),xt(Fr,this,qr).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of St(hr,this))e!==t&&e.unselect();St(hr,this).clear(),St(hr,this).add(t),t.select(),xt(Fr,this,Xr).call(this,t.propertiesToUpdate),xt(Fr,this,qr).call(this,{hasSelectedEditor:!0})}isSelected(t){return St(hr,this).has(t)}get firstSelectedEditor(){return St(hr,this).values().next().value}unselect(t){t.unselect(),St(hr,this).delete(t),xt(Fr,this,qr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==St(hr,this).size}get isEnterHandled(){return 1===St(hr,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){St(qi,this).undo(),xt(Fr,this,qr).call(this,{hasSomethingToUndo:St(qi,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:xt(Fr,this,$r).call(this)})}redo(){St(qi,this).redo(),xt(Fr,this,qr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:St(qi,this).hasSomethingToRedo(),isEmpty:xt(Fr,this,$r).call(this)})}addCommands(t){St(qi,this).add(t),xt(Fr,this,qr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:xt(Fr,this,$r).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...St(hr,this)];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)xt(Fr,this,Qr).call(this,e)},mustExec:!0})}commitOrRemove(){var t;null===(t=St(Bi,this))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return St(Bi,this)||this.hasSelection}selectAll(){for(const t of St(hr,this))t.commit();xt(Fr,this,Zr).call(this,St(Wi,this).values())}unselectAll(){if((!St(Bi,this)||(St(Bi,this).commitOrRemove(),St(ur,this)===Ht.NONE))&&this.hasSelection){for(const t of St(hr,this))t.unselect();St(hr,this).clear(),xt(Fr,this,qr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;St(Pr,this)[0]+=t,St(Pr,this)[1]+=e;const[n,i]=St(Pr,this),r=[...St(hr,this)];St(Mr,this)&&clearTimeout(St(Mr,this)),kt(Mr,this,setTimeout((()=>{kt(Mr,this,null),St(Pr,this)[0]=St(Pr,this)[1]=0,this.addCommands({cmd:()=>{for(const t of r)St(Wi,this).has(t.id)&&t.translateInPage(n,i)},undo:()=>{for(const t of r)St(Wi,this).has(t.id)&&t.translateInPage(-n,-i)},mustExec:!1})}),1e3));for(const s of r)s.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),kt(Yi,this,new Map);for(const t of St(hr,this))St(Yi,this).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!St(Yi,this))return!1;this.disableUserSelect(!1);const t=St(Yi,this);kt(Yi,this,null);let e=!1;for(const[{x:i,y:r,pageIndex:s},a]of t)a.newX=i,a.newY=r,a.newPageIndex=s,e||(e=i!==a.savedX||r!==a.savedY||s!==a.savedPageIndex);if(!e)return!1;const n=(t,e,n,i)=>{if(St(Wi,this).has(t.id)){const r=St(Hi,this).get(i);r?t._setParentAndPosition(r,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:r,newPageIndex:s}]of t)n(e,i,r,s)},undo:()=>{for(const[e,{savedX:i,savedY:r,savedPageIndex:s}]of t)n(e,i,r,s)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(St(Yi,this))for(const n of St(Yi,this).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===St(hr,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return St(Bi,this)===t}getActive(){return St(Bi,this)}getMode(){return St(ur,this)}get imageManager(){return Ie(this,"imageManager",new Mi)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:s}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(t,e,a,o)=>({x:(e-i)/s,y:1-(t+a-n)/r,width:o/s,height:a/r});break;case"180":a=(t,e,a,o)=>({x:1-(t+a-n)/r,y:1-(e+o-i)/s,width:a/r,height:o/s});break;case"270":a=(t,e,a,o)=>({x:1-(e+o-i)/s,y:(t-n)/r,width:o/s,height:a/r});break;default:a=(t,e,a,o)=>({x:(t-n)/r,y:(e-i)/s,width:a/r,height:o/s})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:r}of t.getClientRects())0!==i&&0!==r&&o.push(a(e,n,i,r))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(St(Gi,this)||kt(Gi,this,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=St(Gi,this))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=St(Gi,this))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const i=St(Ui,this).getRawValue(n);i&&(St(ur,this)!==Ht.NONE||i.hasBeenModified)&&i.renderAnnotationElement(t)}}function Lr(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Dr(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=xt(Fr,this,Lr).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(St(ir,this)||kt(ir,this,new bi(this)),St(ir,this).show(e,n,"ltr"===this.direction))}function Or(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if(St(dr,this))null===(n=St(ir,this))||void 0===n||n.hide(),kt(dr,this,null),xt(Fr,this,qr).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=e;if(i===St(dr,this))return;var r;if(xt(Fr,this,Lr).call(this,e).closest(".textLayer")){if(null===(t=St(ir,this))||void 0===t||t.hide(),kt(dr,this,i),xt(Fr,this,qr).call(this,{hasSelectedText:!0}),(St(ur,this)===Ht.HIGHLIGHT||St(ur,this)===Ht.NONE)&&(St(ur,this)===Ht.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),kt(nr,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&xt(Fr,this,Nr).call(this,"main_toolbar"))};window.addEventListener("pointerup",t),window.addEventListener("blur",t)}}else St(dr,this)&&(null===(r=St(ir,this))||void 0===r||r.hide(),kt(dr,this,null),xt(Fr,this,qr).call(this,{hasSelectedText:!1}))}function Nr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";St(ur,this)===Ht.HIGHLIGHT?this.highlightSelection(t):St($i,this)&&xt(Fr,this,Dr).call(this)}function jr(){document.addEventListener("selectionchange",St(Er,this))}function zr(){document.removeEventListener("selectionchange",St(Er,this))}function Br(){window.addEventListener("focus",St(mr,this)),window.addEventListener("blur",St(gr,this))}function Wr(){window.removeEventListener("focus",St(mr,this)),window.removeEventListener("blur",St(gr,this))}function Hr(){window.addEventListener("keydown",St(_r,this)),window.addEventListener("keyup",St(xr,this))}function Vr(){window.removeEventListener("keydown",St(_r,this)),window.removeEventListener("keyup",St(xr,this))}function Ur(){document.addEventListener("copy",St(vr,this)),document.addEventListener("cut",St(br,this)),document.addEventListener("paste",St(yr,this))}function Gr(){document.removeEventListener("copy",St(vr,this)),document.removeEventListener("cut",St(br,this)),document.removeEventListener("paste",St(yr,this))}function qr(t){Object.entries(t).some((t=>{let[e,n]=t;return St(Ar,this)[e]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(St(Ar,this),t)}),St(ur,this)===Ht.HIGHLIGHT&&!1===t.hasSelectedEditor&&xt(Fr,this,Xr).call(this,[[Vt.HIGHLIGHT_FREE,!0]]))}function Xr(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}function Kr(){if(!St(sr,this)){kt(sr,this,!0);for(const t of St(Hi,this).values())t.enable();for(const t of St(Wi,this).values())t.enable()}}function Yr(){if(this.unselectAll(),St(sr,this)){kt(sr,this,!1);for(const t of St(Hi,this).values())t.disable();for(const t of St(Wi,this).values())t.disable()}}function Qr(t){const e=St(Hi,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function Jr(t){let e=null;for(e of St(hr,t));return e}function $r(){if(0===St(Wi,this).size)return!0;if(1===St(Wi,this).size)for(const t of St(Wi,this).values())return t.isEmpty();return!1}function Zr(t){for(const e of St(hr,this))e.unselect();St(hr,this).clear();for(const e of t)e.isEmpty()||(St(hr,this).add(e),e.select());xt(Fr,this,qr).call(this,{hasSelectedEditor:this.hasSelection})}At(Ir,"TRANSLATE_SMALL",1),At(Ir,"TRANSLATE_BIG",10);var ts=new WeakMap,es=new WeakMap,ns=new WeakMap,is=new WeakMap,rs=new WeakMap,ss=new WeakMap,as=new WeakMap,os=new WeakSet;class ls{constructor(t){yt(this,os),_t(this,ts,""),_t(this,es,!1),_t(this,ns,null),_t(this,is,null),_t(this,rs,null),_t(this,ss,!1),_t(this,as,null),kt(as,this,t)}static initialize(t){ls._l10nPromise||(ls._l10nPromise=t)}async render(){const t=kt(ns,this,document.createElement("button"));t.className="altText";const e=await ls._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",t.addEventListener("contextmenu",Xn),t.addEventListener("pointerdown",(t=>t.stopPropagation()));const n=t=>{t.preventDefault(),St(as,this)._uiManager.editAltText(St(as,this))};return t.addEventListener("click",n,{capture:!0}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(kt(ss,this,!0),n(e))})),await xt(os,this,cs).call(this),t}finish(){St(ns,this)&&(St(ns,this).focus({focusVisible:St(ss,this)}),kt(ss,this,!1))}isEmpty(){return!St(ts,this)&&!St(es,this)}get data(){return{altText:St(ts,this),decorative:St(es,this)}}set data(t){let{altText:e,decorative:n}=t;St(ts,this)===e&&St(es,this)===n||(kt(ts,this,e),kt(es,this,n),xt(os,this,cs).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];St(ns,this)&&(!t&&St(rs,this)&&(clearTimeout(St(rs,this)),kt(rs,this,null)),St(ns,this).disabled=!t)}destroy(){var t;null===(t=St(ns,this))||void 0===t||t.remove(),kt(ns,this,null),kt(is,this,null)}}async function cs(){const t=St(ns,this);if(!t)return;var e;if(!St(ts,this)&&!St(es,this))return t.classList.remove("done"),void(null===(e=St(is,this))||void 0===e||e.remove());t.classList.add("done"),at._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((e=>{t.setAttribute("aria-label",e)}));let n=St(is,this);if(!n){kt(is,this,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const e=n.id="alt-text-tooltip-".concat(St(as,this).id);t.setAttribute("aria-describedby",e);const i=100;t.addEventListener("mouseenter",(()=>{kt(rs,this,setTimeout((()=>{kt(rs,this,null),St(is,this).classList.add("show"),St(as,this)._reportTelemetry({action:"alt_text_tooltip"})}),i))})),t.addEventListener("mouseleave",(()=>{var t;St(rs,this)&&(clearTimeout(St(rs,this)),kt(rs,this,null)),null===(t=St(is,this))||void 0===t||t.classList.remove("show")}))}n.innerText=St(es,this)?await at._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):St(ts,this),n.parentNode||t.append(n);const i=St(as,this).getImageForAltText();null===i||void 0===i||i.setAttribute("aria-describedby",n.id)}at=ls,At(ls,"_l10nPromise",null);var us=new WeakMap,hs=new WeakMap,ds=new WeakMap,ps=new WeakMap,fs=new WeakMap,gs=new WeakMap,ms=new WeakMap,vs=new WeakMap,bs=new WeakMap,ys=new WeakMap,_s=new WeakMap,xs=new WeakMap,ws=new WeakMap,Ss=new WeakMap,ks=new WeakMap,Es=new WeakMap,Cs=new WeakMap,As=new WeakMap,Ps=new WeakMap,Ms=new WeakMap,Ts=new WeakMap,Rs=new WeakSet;class Fs{static get _resizerKeyboardManager(){const t=Fs.prototype._resizeWithKeyboard,e=Ir.TRANSLATE_SMALL,n=Ir.TRANSLATE_BIG;return Ie(this,"_resizerKeyboardManager",new Ni([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Fs.prototype._stopResizingWithKeyboard]]))}constructor(t){yt(this,Rs),_t(this,us,null),_t(this,hs,null),_t(this,ds,!1),_t(this,ps,!1),_t(this,fs,null),_t(this,gs,null),_t(this,ms,this.focusin.bind(this)),_t(this,vs,this.focusout.bind(this)),_t(this,bs,null),_t(this,ys,""),_t(this,_s,!1),_t(this,xs,null),_t(this,ws,!1),_t(this,Ss,!1),_t(this,ks,!1),_t(this,Es,null),_t(this,Cs,0),_t(this,As,0),_t(this,Ps,null),At(this,"_initialOptions",Object.create(null)),At(this,"_isVisible",!0),At(this,"_uiManager",null),At(this,"_focusEventsAllowed",!0),At(this,"_l10nPromise",null),_t(this,Ms,!1),_t(this,Ts,Fs._zIndex++),this.constructor===Fs&&Te("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,s];const[a,o]=this.parentDimensions;this.x=t.x/a,this.y=t.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Xs({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if(Fs._l10nPromise||(Fs._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((e=>[e,t.get(e.replaceAll(/([A-Z])/g,(t=>"-".concat(t.toLowerCase()))))])))),null!==n&&void 0!==n&&n.strings)for(const r of n.strings)Fs._l10nPromise.set(r,t.get(r));if(-1!==Fs._borderLineWidth)return;const i=getComputedStyle(document.documentElement);Fs._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Te("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return St(Ms,this)}set _isDraggable(t){var e;kt(Ms,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=St(Ts,this)}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):xt(Rs,this,qs).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(St(_s,this)?kt(_s,this,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[r,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/s,this.fixAndSetPosition()}translate(t,e){xt(Rs,this,Is).call(this,this.parentDimensions,t,e)}translateInPage(t,e){St(xs,this)||kt(xs,this,[this.x,this.y]),xt(Rs,this,Is).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){St(xs,this)||kt(xs,this,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=t/n,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:s}=this;const[a,o]=this.getBaseTranslation();r+=a,s+=o,this.div.style.left="".concat((100*r).toFixed(2),"%"),this.div.style.top="".concat((100*s).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!St(xs,this)&&(St(xs,this)[0]!==this.x||St(xs,this)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Fs,i=n/t,r=n/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[e,n]=this.pageDimensions;let{x:i,y:r,width:s,height:a}=this;if(s*=e,a*=n,i*=e,r*=n,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(e-s,i)),r=Math.max(0,Math.min(n-a,r));break;case 90:i=Math.max(0,Math.min(e-a,i)),r=Math.min(n,Math.max(s,r));break;case 180:i=Math.min(e,Math.max(s,i)),r=Math.min(n,Math.max(a,r));break;case 270:i=Math.min(e,Math.max(a,i)),r=Math.max(0,Math.min(n-s,r))}this.x=i/=e,this.y=r/=n;const[o,l]=this.getBaseTranslation();i+=o,r+=l;const{style:c}=this.div;c.left="".concat((100*i).toFixed(2),"%"),c.top="".concat((100*r).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return Ls.call(Fs,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Ls.call(Fs,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,i=e*t,r=n*t;return Ge.isCSSRoundSupported?[Math.round(i),Math.round(r)]:[i,r]}setDims(t,e){const[n,i]=this.parentDimensions;this.div.style.width="".concat((100*t/n).toFixed(2),"%"),St(ps,this)||(this.div.style.height="".concat((100*e/i).toFixed(2),"%"))}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),r=!St(ps,this)&&e.endsWith("%");if(i&&r)return;const[s,a]=this.parentDimensions;i||(t.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),St(ps,this)||r||(t.height="".concat((100*parseFloat(e)/a).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var t;null===(t=St(hs,this))||void 0===t||t.finish()}async addEditToolbar(){return St(bs,this)||St(Ss,this)||(kt(bs,this,new oi(this)),this.div.append(St(bs,this).render()),St(hs,this)&&St(bs,this).addAltTextButton(await St(hs,this).render())),St(bs,this)}removeEditToolbar(){var t;St(bs,this)&&(St(bs,this).remove(),kt(bs,this,null),null===(t=St(hs,this))||void 0===t||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){St(hs,this)||(ls.initialize(Fs._l10nPromise),kt(hs,this,new ls(this)),await this.addEditToolbar())}get altTextData(){var t;return null===(t=St(hs,this))||void 0===t?void 0:t.data}set altTextData(t){St(hs,this)&&(St(hs,this).data=t)}hasAltText(){var t;return!(null!==(t=St(hs,this))&&void 0!==t&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=St(ds,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",St(ms,this)),this.div.addEventListener("focusout",St(vs,this));const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*e/t).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*t/e).toFixed(2),"%"));const[n,i]=this.getInitialTranslation();return this.translate(n,i),wi(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Ge.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(kt(_s,this,!0),this._isDraggable?xt(Rs,this,Ws).call(this,t):xt(Rs,this,Bs).call(this,t))}moveInDOM(){St(Es,this)&&clearTimeout(St(Es,this)),kt(Es,this,setTimeout((()=>{var t;kt(Es,this,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)}),0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[r,s]=this.pageDimensions,[a,o]=this.pageTranslation,l=t/i,c=e/i,u=this.x*r,h=this.y*s,d=this.width*r,p=this.height*s;switch(n){case 0:return[u+l+a,s-h-c-p+o,u+l+d+a,s-h-c+o];case 90:return[u+c+a,s-h+l+o,u+c+p+a,s-h+l+d+o];case 180:return[u-l-d+a,s-h+c+o,u-l+a,s-h+c+p+o];case 270:return[u-c-p+a,s-h-l-d+o,u-c+a,s-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,s]=t,a=r-n,o=s-i;switch(this.rotation){case 0:return[n,e-s,a,o];case 90:return[n,e-i,o,a];case 180:return[r,e-i,a,o];case 270:return[r,e-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){kt(Ss,this,!0)}disableEditMode(){kt(Ss,this,!1)}isInEditMode(){return St(Ss,this)}shouldGetKeyboardEvents(){return St(ks,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,e;null===(t=this.div)||void 0===t||t.addEventListener("focusin",St(ms,this)),null===(e=this.div)||void 0===e||e.addEventListener("focusout",St(vs,this))}rotate(t){}serialize(){Te("An editor must be serializable")}static deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});i.rotation=t.rotation;const[r,s]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(t.rect,s);return i.x=a/r,i.y=o/s,i.width=l/r,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",St(ms,this)),this.div.removeEventListener("focusout",St(vs,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),St(Es,this)&&(clearTimeout(St(Es,this)),kt(Es,this,null)),xt(Rs,this,qs).call(this),this.removeEditToolbar(),St(Ps,this)){for(const t of St(Ps,this).values())clearTimeout(t);kt(Ps,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(xt(Rs,this,Os).call(this),St(fs,this).classList.remove("hidden"),wi(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),kt(gs,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=St(fs,this).children;if(!St(us,this)){kt(us,this,Array.from(e));const t=xt(Rs,this,Hs).bind(this),n=xt(Rs,this,Vs).bind(this);for(const e of St(us,this)){const i=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t),e.addEventListener("blur",n),e.addEventListener("focus",xt(Rs,this,Us).bind(this,i)),Fs._l10nPromise.get("pdfjs-editor-resizer-label-".concat(i)).then((t=>e.setAttribute("aria-label",t)))}}const n=St(us,this)[0];let i=0;for(const s of e){if(s===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(St(us,this).length/4);if(r!==i){if(r<i)for(let e=0;e<i-r;e++)St(fs,this).append(St(fs,this).firstChild);else if(r>i)for(let e=0;e<r-i;e++)St(fs,this).firstChild.before(St(fs,this).lastChild);let t=0;for(const n of e){const e=St(us,this)[t++].getAttribute("data-resizer-name");Fs._l10nPromise.get("pdfjs-editor-resizer-label-".concat(e)).then((t=>n.setAttribute("aria-label",t)))}}xt(Rs,this,Gs).call(this,0),kt(ks,this,!0),St(fs,this).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){St(ks,this)&&xt(Rs,this,zs).call(this,St(ys,this),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){xt(Rs,this,qs).call(this),this.div.focus()}select(){var t,e;this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),St(bs,this)?null===(e=St(bs,this))||void 0===e||e.show():this.addEditToolbar().then((()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=St(bs,this))||void 0===e||e.show())}))}unselect(){var t,e,n,i;null===(t=St(fs,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=St(bs,this))||void 0===i||i.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return St(ws,this)}set isEditing(t){kt(ws,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){kt(ps,this,!0);const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){St(Ps,this)||kt(Ps,this,new Map);const{action:e}=t;let n=St(Ps,this).get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),St(Ps,this).delete(e),0===St(Ps,this).size&&kt(Ps,this,null)}),Fs._telemetryTimeout),void St(Ps,this).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),kt(ds,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),kt(ds,this,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}function Is(t,e,n){let[i,r]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/r,this.fixAndSetPosition()}function Ls(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function Ds(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function Os(){if(St(fs,this))return;kt(fs,this,document.createElement("div")),St(fs,this).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const e of t){const t=document.createElement("div");St(fs,this).append(t),t.classList.add("resizer",e),t.setAttribute("data-resizer-name",e),t.addEventListener("pointerdown",xt(Rs,this,Ns).bind(this,e)),t.addEventListener("contextmenu",Xn),t.tabIndex=-1}this.div.prepend(St(fs,this))}function Ns(t,e){var n;e.preventDefault();const{isMac:i}=Ge.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(n=St(hs,this))||void 0===n||n.toggle(!1);const r=xt(Rs,this,zs).bind(this,t),s=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a),window.addEventListener("contextmenu",Xn);const o=this.x,l=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var t;this.parent.togglePointerEvents(!0),null===(t=St(hs,this))||void 0===t||t.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,a),window.removeEventListener("contextmenu",Xn),this.parent.div.style.cursor=h,this.div.style.cursor=d,xt(Rs,this,js).call(this,o,l,c,u)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}function js(t,e,n,i){const r=this.x,s=this.y,a=this.width,o=this.height;r===t&&s===e&&a===n&&o===i||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=r,this.y=s;const[t,e]=this.parentDimensions;this.setDims(t*a,e*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=t,this.y=e;const[r,s]=this.parentDimensions;this.setDims(r*n,s*i),this.fixAndSetPosition()},mustExec:!0})}function zs(t,e){const[n,i]=this.parentDimensions,r=this.x,s=this.y,a=this.width,o=this.height,l=ot.MIN_SIZE/n,c=ot.MIN_SIZE/i,u=t=>Math.round(1e4*t)/1e4,h=xt(Rs,this,Ds).call(this,this.rotation),d=(t,e)=>[h[0]*t+h[2]*e,h[1]*t+h[3]*e],p=xt(Rs,this,Ds).call(this,360-this.rotation);let f,g,m=!1,v=!1;switch(t){case"topLeft":m=!0,f=(t,e)=>[0,0],g=(t,e)=>[t,e];break;case"topMiddle":f=(t,e)=>[t/2,0],g=(t,e)=>[t/2,e];break;case"topRight":m=!0,f=(t,e)=>[t,0],g=(t,e)=>[0,e];break;case"middleRight":v=!0,f=(t,e)=>[t,e/2],g=(t,e)=>[0,e/2];break;case"bottomRight":m=!0,f=(t,e)=>[t,e],g=(t,e)=>[0,0];break;case"bottomMiddle":f=(t,e)=>[t/2,e],g=(t,e)=>[t/2,0];break;case"bottomLeft":m=!0,f=(t,e)=>[0,e],g=(t,e)=>[t,0];break;case"middleLeft":v=!0,f=(t,e)=>[0,e/2],g=(t,e)=>[t,e/2]}const b=f(a,o),y=g(a,o);let _=d(...y);const x=u(r+_[0]),w=u(s+_[1]);let S=1,k=1,[E,C]=this.screenToPageTranslation(e.movementX,e.movementY);var A,P;if([E,C]=(A=E/n,P=C/i,[p[0]*A+p[2]*P,p[1]*A+p[3]*P]),m){const t=Math.hypot(a,o);S=k=Math.max(Math.min(Math.hypot(y[0]-b[0]-E,y[1]-b[1]-C)/t,1/a,1/o),l/a,c/o)}else v?S=Math.max(l,Math.min(1,Math.abs(y[0]-b[0]-E)))/a:k=Math.max(c,Math.min(1,Math.abs(y[1]-b[1]-C)))/o;const M=u(a*S),T=u(o*k);_=d(...g(M,T));const R=x-_[0],F=w-_[1];this.width=M,this.height=T,this.x=R,this.y=F,this.setDims(n*M,i*T),this.fixAndSetPosition()}function Bs(t){const{isMac:e}=Ge.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Ws(t){const e=this._uiManager.isSelected(this);let n,i;this._uiManager.setUpDragSession(),e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0},kt(Cs,this,t.clientX),kt(As,this,t.clientY),i=t=>{const{clientX:e,clientY:n}=t,[i,r]=this.screenToPageTranslation(e-St(Cs,this),n-St(As,this));kt(Cs,this,e),kt(As,this,n),this._uiManager.dragSelectedEditors(i,r)},window.addEventListener("pointermove",i,n));const r=()=>{window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),kt(_s,this,!1),this._uiManager.endDragSession()||xt(Rs,this,Bs).call(this,t)};window.addEventListener("pointerup",r),window.addEventListener("blur",r)}function Hs(t){ot._resizerKeyboardManager.exec(this,t)}function Vs(t){var e;St(ks,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==St(fs,this)&&xt(Rs,this,qs).call(this)}function Us(t){kt(ys,this,St(ks,this)?t:"")}function Gs(t){if(St(us,this))for(const e of St(us,this))e.tabIndex=t}function qs(){if(kt(ks,this,!1),xt(Rs,this,Gs).call(this,-1),St(gs,this)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=St(gs,this);xt(Rs,this,js).call(this,t,e,n,i),kt(gs,this,null)}}ot=Fs,At(Fs,"_borderLineWidth",-1),At(Fs,"_colorManager",new zi),At(Fs,"_zIndex",1),At(Fs,"_telemetryTimeout",1e3);class Xs extends Fs{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Ks=3285377520,Ys=4294901760,Qs=65535;class Js{constructor(t){this.h1=t?4294967295&t:Ks,this.h2=t?4294967295&t:Ks}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,r=t.length;i<r;i++){const r=t.charCodeAt(i);r<=255?e[n++]=r:(e[n++]=r>>>8,e[n++]=255&r)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,r=n-4*i,s=new Uint32Array(e.buffer,0,i);let a=0,o=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,d=11601,p=13715;for(let f=0;f<i;f++)1&f?(a=s[f],a=a*u&Ys|a*d&Qs,a=a<<15|a>>>17,a=a*h&Ys|a*p&Qs,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=s[f],o=o*u&Ys|o*d&Qs,o=o<<15|o>>>17,o=o*h&Ys|o*p&Qs,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,r){case 3:a^=e[4*i+2]<<16;case 2:a^=e[4*i+1]<<8;case 1:a^=e[4*i],a=a*u&Ys|a*d&Qs,a=a<<15|a>>>17,a=a*h&Ys|a*p&Qs,1&i?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&Ys|36045*t&Qs,e=4283543511*e&Ys|(2950163797*(e<<16|t>>>16)&Ys)>>>16,t^=e>>>1,t=444984403*t&Ys|60499*t&Qs,e=3301882366*e&Ys|(3120437893*(e<<16|t>>>16)&Ys)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const $s=Object.freeze({map:null,hash:"",transfer:void 0});var Zs=new WeakMap,ta=new WeakMap,ea=new WeakSet;class na{constructor(){yt(this,ea),_t(this,Zs,!1),_t(this,ta,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=St(ta,this).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return St(ta,this).get(t)}remove(t){if(St(ta,this).delete(t),0===St(ta,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of St(ta,this).values())if(t instanceof Fs)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=St(ta,this).get(t);let i=!1;if(void 0!==n)for(const[r,s]of Object.entries(e))n[r]!==s&&(i=!0,n[r]=s);else i=!0,St(ta,this).set(t,e);i&&xt(ea,this,ia).call(this),e instanceof Fs&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return St(ta,this).has(t)}getAll(){return St(ta,this).size>0?Ue(St(ta,this)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return St(ta,this).size}resetModified(){St(Zs,this)&&(kt(Zs,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new sa(this)}get serializable(){if(0===St(ta,this).size)return $s;const t=new Map,e=new Js,n=[],i=Object.create(null);let r=!1;for(const[s,a]of St(ta,this)){const n=a instanceof Fs?a.serialize(!1,i):a;n&&(t.set(s,n),e.update("".concat(s,":").concat(JSON.stringify(n))),r||(r=!!n.bitmap))}if(r)for(const s of t.values())s.bitmap&&n.push(s.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:$s}get editorStats(){let t=null;const e=new Map;for(const r of St(ta,this).values()){var n;if(!(r instanceof Fs))continue;const s=r.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const o=(n=t)[a]||(n[a]=new Map);for(const[t,e]of Object.entries(s)){var i;if("type"===t)continue;let n=o.get(t);n||(n=new Map,o.set(t,n));const r=null!==(i=n.get(e))&&void 0!==i?i:0;n.set(e,r+1)}}for(const[r,s]of e)t[r]=s.computeTelemetryFinalData(t[r]);return t}}function ia(){St(Zs,this)||(kt(Zs,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var ra=new WeakMap;class sa extends na{constructor(t){super(),_t(this,ra,void 0);const{map:e,hash:n,transfer:i}=t.serializable,r=structuredClone(e,i?{transfer:i}:null);kt(ra,this,{map:r,hash:n,transfer:i})}get print(){Te("Should not call PrintAnnotationStorage.print")}get serializable(){return St(ra,this)}}var aa=new WeakMap;class oa{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;_t(this,aa,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),St(aa,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,_inspectFont:n}=t;if(e&&!St(aa,this).has(e.loadedName))if(Re(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:i,style:r}=e,s=new FontFace(t,i,r);this.addNativeFontFace(s);try{await s.load(),St(aa,this).add(t),null===n||void 0===n||n(e)}catch{Me("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}}else Te("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Me("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){var t;return Ie(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){var t;let e=!1;return(Tt||"undefined"!==typeof navigator&&"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ie(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(Re(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Ie(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let r,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=i(u,976,c.length,c);const h=1482184792;let d=n(u,16);for(r=0,s=c.length-3;r<s;r+=4)d=d-h+n(c,r)|0;var p;r<c.length&&(d=d-h+n(c+"XXX",r)|0),u=i(u,16,4,(p=d,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f="url(data:font/opentype;base64,".concat(btoa(u),");"),g='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const v of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=v,m.append(t)}this._document.body.append(m),function t(e,n){if(++l>30)return Me("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{m.remove(),e.complete()}))}}class la{constructor(t,e){let{disableFontFace:n=!1,inspectFont:i=null}=e;this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=!0===n,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e=He(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");");let i;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),i='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(n,"}")}else i='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,n),i}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){Me('getPathGenerator - ignoring character: "'.concat(r,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[e]=function(t,e){};const i=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case tn:{const[t,e,r,a,o,l]=n.slice(s,s+6);i.push((n=>n.bezierCurveTo(t,e,r,a,o,l))),s+=6}break;case en:{const[t,e]=n.slice(s,s+2);i.push((n=>n.moveTo(t,e))),s+=2}break;case nn:{const[t,e]=n.slice(s,s+2);i.push((n=>n.lineTo(t,e))),s+=2}break;case rn:{const[t,e,r,a]=n.slice(s,s+4);i.push((n=>n.quadraticCurveTo(t,e,r,a))),s+=4}break;case sn:i.push((t=>t.restore()));break;case an:i.push((t=>t.save()));break;case on:Re(2===i.length,"Scale command is only valid at the third position.");break;case ln:{const[t,e,r,a,o,l]=n.slice(s,s+6);i.push((n=>n.transform(t,e,r,a,o,l))),s+=6}break;case cn:{const[t,e]=n.slice(s,s+2);i.push((n=>n.translate(t,e))),s+=2}}return this.compiledGlyphs[e]=function(t,e){i[0](t),i[1](t),t.scale(e,-e);for(let n=2,r=i.length;n<r;n++)i[n](t)}}}if(Tt){var ca=Promise.withResolvers(),ua=null;(async()=>{const t=await import("fs"),e=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:t,http:e,https:n,url:i,canvas:undefined,path2d:undefined}))})().then((t=>{ua=t,ca.resolve()}),(t=>{Me("loadPackages: ".concat(t)),ua=new Map,ca.resolve()}))}class ha{static get promise(){return ca.promise}static get(t){var e;return null===(e=ua)||void 0===e?void 0:e.get(t)}}const da=function(t){return ha.get("fs").promises.readFile(t).then((t=>new Uint8Array(t)))};const pa="Fill",fa="Stroke",ga="Shading";function ma(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class va{constructor(){this.constructor===va&&Te("Cannot initialize BaseShadingPattern.")}getPattern(){Te("Abstract method `getPattern` called.")}}class ba extends va{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let r;if(i===fa||i===pa){const s=e.current.getClippedPathBoundingBox(i,Zn(t))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,o=Math.ceil(s[3]-s[1])||1,l=e.cachedCanvases.getCanvas("pattern",a,o,!0),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=Xe.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),ma(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=t.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else ma(t,this._bbox),r=this._createGradient(t);return r}}function ya(t,e,n,i,r,s,a,o){const l=e.coords,c=e.colors,u=t.data,h=4*t.width;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=s,s=a,a=d),l[i+1]>l[r+1]&&(d=i,i=r,r=d,d=a,a=o,o=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=s,s=a,a=d);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY;if(f>=b)return;const y=c[s],_=c[s+1],x=c[s+2],w=c[a],S=c[a+1],k=c[a+2],E=c[o],C=c[o+1],A=c[o+2],P=Math.round(f),M=Math.round(b);let T,R,F,I,L,D,O,N;for(let j=P;j<=M;j++){if(j<m){const t=j<f?0:(f-j)/(f-m);T=p-(p-g)*t,R=y-(y-w)*t,F=_-(_-S)*t,I=x-(x-k)*t}else{let t;t=j>b?1:m===b?0:(m-j)/(m-b),T=g-(g-v)*t,R=w-(w-E)*t,F=S-(S-C)*t,I=k-(k-A)*t}let t;t=j<f?0:j>b?1:(f-j)/(f-b),L=p-(p-v)*t,D=y-(y-E)*t,O=_-(_-C)*t,N=x-(x-A)*t;const e=Math.round(Math.min(T,L)),n=Math.round(Math.max(T,L));let i=h*j+4*e;for(let r=e;r<=n;r++)t=(T-r)/(T-L),t<0?t=0:t>1&&(t=1),u[i++]=R-(R-D)*t|0,u[i++]=F-(F-O)*t|0,u[i++]=I-(I-N)*t|0,u[i++]=255}}function _a(t,e,n){const i=e.coords,r=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(s=0;s<l;s++){let e=s*o;for(let s=0;s<c;s++,e++)ya(t,n,i[e],i[e+1],i[e+o],r[e],r[e+1],r[e+o]),ya(t,n,i[e+o+1],i[e+1],i[e+o],r[e+o+1],r[e+1],r[e+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)ya(t,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class xa extends va{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(s*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),c=s/o,u=a/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/u},d=o+4,p=l+4,f=n.getCanvas("mesh",d,p,!1),g=f.context,m=g.createImageData(o,l);if(e){const t=m.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)_a(m,v,h);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:r-2*u,scaleX:c,scaleY:u}}getPattern(t,e,n,i){let r;if(ma(t,this._bbox),i===ga)r=Xe.singularValueDecompose2dScale(Zn(t));else if(r=Xe.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=Xe.singularValueDecompose2dScale(this.matrix);r=[r[0]*t[0],r[1]*t[1]]}const s=this._createMeshCanvas(r,i===ga?null:this._background,e.cachedCanvases);return i!==ga&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}class wa extends va{getPattern(){return"hotpink"}}const Sa=1,ka=2;class Ea{constructor(t,e,n,i,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,i=this.xstep,r=this.ystep,s=this.paintType,a=this.tilingType,o=this.color,l=this.canvasGraphicsFactory;Pe("TilingType: "+a);const c=n[0],u=n[1],h=n[2],d=n[3],p=Xe.singularValueDecompose2dScale(this.matrix),f=Xe.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*f[0],p[1]*f[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(r,this.ctx.canvas.height,g[1]),b=t.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),y=b.context,_=l.createCanvasGraphics(y);_.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(_,s,o);let x=c,w=u,S=h,k=d;return c<0&&(x=0,S+=Math.abs(c)),u<0&&(w=0,k+=Math.abs(u)),y.translate(-m.scale*x,-v.scale*w),_.transform(m.scale,0,0,v.scale,0,0),y.save(),this.clipBbox(_,x,w,S,k),_.baseTransform=Zn(_.ctx),_.executeOperatorList(e),_.endDrawing(),{canvas:b.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:x,offsetY:w}}getSizeAndScale(t,e,n){t=Math.abs(t);const i=Math.max(Ea.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,r){const s=i-e,a=r-n;t.ctx.rect(e,n,s,a),t.current.updateRectMinMax(Zn(t.ctx),[e,n,i,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case Sa:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,r.fillColor=t.fillStyle,r.strokeColor=t.strokeStyle;break;case ka:const s=Xe.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,r.fillColor=s,r.strokeColor=s;break;default:throw new Be("Unsupported paint type: ".concat(e))}}getPattern(t,e,n,i){let r=n;i!==ga&&(r=Xe.transform(r,e.baseTransform),this.matrix&&(r=Xe.transform(r,this.matrix)));const s=this.createPatternCanvas(e);let a=new DOMMatrix(r);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const o=t.createPattern(s.canvas,"repeat");return o.setTransform(a),o}}function Ca(t){let{src:e,srcPos:n=0,dest:i,width:r,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}=t;const l=Ge.isLittleEndian?4278190080:255,[c,u]=o?[a,l]:[l,a],h=r>>3,d=7&r,p=e.length;i=new Uint32Array(i.buffer);let f=0;for(let g=0;g<s;g++){for(const r=n+h;n<r;n++){const t=n<p?e[n]:255;i[f++]=128&t?u:c,i[f++]=64&t?u:c,i[f++]=32&t?u:c,i[f++]=16&t?u:c,i[f++]=8&t?u:c,i[f++]=4&t?u:c,i[f++]=2&t?u:c,i[f++]=1&t?u:c}if(0===d)continue;const t=n<p?e[n++]:255;for(let e=0;e<d;e++)i[f++]=t&1<<7-e?u:c}return{srcPos:n,destPos:f}}At(Ea,"MAX_PATTERN_SIZE",3e3);const Aa=16;class Pa{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ma(t,e,n,i,r,s,a,o,l,c){const[u,h,d,p,f,g]=Zn(t);if(0===h&&0===d){const m=a*u+f,v=Math.round(m),b=o*p+g,y=Math.round(b),_=(a+l)*u+f,x=Math.abs(Math.round(_)-v)||1,w=(o+c)*p+g,S=Math.abs(Math.round(w)-y)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),v,y),t.drawImage(e,n,i,r,s,0,0,x,S),t.setTransform(u,h,d,p,f,g),[x,S]}if(0===u&&0===p){const m=o*d+f,v=Math.round(m),b=a*h+g,y=Math.round(b),_=(o+c)*d+f,x=Math.abs(Math.round(_)-v)||1,w=(a+l)*h+g,S=Math.abs(Math.round(w)-y)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,v,y),t.drawImage(e,n,i,r,s,0,0,S,x),t.setTransform(u,h,d,p,f,g),[S,x]}t.drawImage(e,n,i,r,s,a,o,l,c);return[Math.hypot(u,h)*l,Math.hypot(d,p)*c]}class Ta{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Rt,this.textMatrixScale=1,this.fontMatrix=Ft,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Gt,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=Xe.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=Xe.applyTransform(e,t),i=Xe.applyTransform(e.slice(2),t),r=Xe.applyTransform([e[0],e[3]],t),s=Xe.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],i[0],r[0],s[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],s[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],s[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],s[1])}updateScalingPathMinMax(t,e){Xe.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,r,s,a,o,l,c){const u=Xe.bezierBoundingBox(e,n,i,r,s,a,o,l,c);c||this.updateRectMinMax(t,u)}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===fa){e||Te("Stroke bounding box must include transform.");const t=Xe.singularValueDecompose2dScale(e),i=t[0]*this.lineWidth/2,r=t[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const t=Xe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Xe.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Ra(t,e){if("undefined"!==typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,r=n%Aa,s=(n-r)/Aa,a=0===r?s:s+1,o=t.createImageData(i,Aa);let l,c=0;const u=e.data,h=o.data;let d,p,f,g;if(e.kind===Jt.GRAYSCALE_1BPP){const e=u.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,b=Ge.isLittleEndian?4278190080:255;for(d=0;d<a;d++){for(f=d<s?Aa:r,l=0,p=0;p<f;p++){const t=e-c;let r=0;const s=t>m?i:8*t-7,a=-8&s;let o=0,h=0;for(;r<a;r+=8)h=u[c++],n[l++]=128&h?v:b,n[l++]=64&h?v:b,n[l++]=32&h?v:b,n[l++]=16&h?v:b,n[l++]=8&h?v:b,n[l++]=4&h?v:b,n[l++]=2&h?v:b,n[l++]=1&h?v:b;for(;r<s;r++)0===o&&(h=u[c++],o=128),n[l++]=h&o?v:b,o>>=1}for(;l<g;)n[l++]=0;t.putImageData(o,0,d*Aa)}}else if(e.kind===Jt.RGBA_32BPP){for(p=0,g=i*Aa*4,d=0;d<s;d++)h.set(u.subarray(c,c+g)),c+=g,t.putImageData(o,0,p),p+=Aa;d<a&&(g=i*r*4,h.set(u.subarray(c,c+g)),t.putImageData(o,0,p))}else{if(e.kind!==Jt.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(f=Aa,g=i*f,d=0;d<a;d++){for(d>=s&&(f=r,g=i*f),l=0,p=g;p--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;t.putImageData(o,0,d*Aa)}}}function Fa(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,r=n%Aa,s=(n-r)/Aa,a=0===r?s:s+1,o=t.createImageData(i,Aa);let l=0;const c=e.data,u=o.data;for(let h=0;h<a;h++){const e=h<s?Aa:r;({srcPos:l}=Ca({src:c,srcPos:l,dest:u,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,h*Aa)}}function Ia(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function La(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!Tt){const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}}function Da(t,e){if(e)return!0;const n=Xe.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*mn.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const Oa=["butt","round","square"],Na=["miter","round","bevel"],ja={},za={};var Ba=new WeakSet;class Wa{constructor(t,e,n,i,r,s,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=s;yt(this,Ba),this.ctx=t,this.current=new Ta(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Pa(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:r=null}=t;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...Zn(this.compositeCtx))}this.ctx.save(),La(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Zn(this.ctx)}executeOperatorList(t,e,n,i){const r=t.argsArray,s=t.fnArray;let a=e||0;const o=r.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const h=this.commonObjs,d=this.objs;let p;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(p=s[a],p!==Se.dependency)this[p].apply(this,r[a]);else for(const t of r[a]){const e=t.startsWith("g_")?h:d;if(!e.has(t))return e.get(t,n),a}if(a++,a===o)return a;if(l&&++u>10){if(Date.now()>c)return n(),a;u=0}}}endDrawing(){xt(Ba,this,Ha).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),xt(Ba,this,Va).call(this)}_scaleImage(t,e){const n=t.width,i=t.height;let r,s,a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),l=n,c=i,u="prescale1";for(;a>2&&l>1||o>2&&c>1;){let e=l,n=c;a>2&&l>1&&(e=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/e),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),r=this.cachedCanvases.getCanvas(u,e,n),s=r.context,s.clearRect(0,0,e,n),s.drawImage(t,0,0,l,c,0,0,e,n),t=r.canvas,l=e,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:i}=t,r=this.current.fillColor,s=this.current.patternFill,a=Zn(e);let o,l,c,u;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer;l=JSON.stringify(s?a:[a.slice(0,4),r]),o=this._cachedBitmapsMap.get(e),o||(o=new Map,this._cachedBitmapsMap.set(e,o));const n=o.get(l);if(n&&!s){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),Fa(u.context,t));let h=Xe.transform(a,[1/n,0,0,-1/i,0,0]);h=Xe.transform(h,[1,0,0,1,0,-i]);const[d,p,f,g]=Xe.getAxialAlignedBoundingBox([0,0,n,i],h),m=Math.round(f-d)||1,v=Math.round(g-p)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,v),y=b.context,_=d,x=p;y.translate(-_,-x),y.transform(...h),c||(c=this._scaleImage(u.canvas,ti(y)),c=c.img,o&&s&&o.set(l,c)),y.imageSmoothingEnabled=Da(Zn(y),t.interpolate),Ma(y,c,0,0,c.width,c.height,0,0,n,i),y.globalCompositeOperation="source-in";const w=Xe.transform(ti(y),[1,0,0,1,-_,-x]);return y.fillStyle=s?r.getPattern(e,this,w,pa):r,y.fillRect(0,0,n,i),o&&!s&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(_),offsetY:Math.round(x)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Oa[t]}setLineJoin(t){this.ctx.lineJoin=Na[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Zn(this.suspendedCtx)),Ia(this.suspendedCtx,r),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,r,s,a){e.transform(t,n,i,r,s,a),this.__originalTransform(t,n,i,r,s,a)},t.setTransform=function(t,n,i,r,s,a){e.setTransform(t,n,i,r,s,a),this.__originalSetTransform(t,n,i,r,s,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,r,s,a){e.bezierCurveTo(t,n,i,r,s,a),this.__originalBezierCurveTo(t,n,i,r,s,a)},t.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ia(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const r=i[0],s=i[1],a=i[2]-r,o=i[3]-s;0!==a&&0!==o&&(this.genericComposeSMask(e.context,n,a,o,e.subtype,e.backdrop,e.transferMap,r,s,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,r,s,a,o,l,c,u){let h=t.canvas,d=o-c,p=l-u;if(s)if(d<0||p<0||d+n>h.width||p+i>h.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(h,-d,-p),s.some((t=>0!==t))&&(e.globalCompositeOperation="destination-atop",e.fillStyle=Xe.makeHexColor(...s),e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over"),h=t.canvas,d=p=0}else if(s.some((t=>0!==t))){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(d,p,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=Xe.makeHexColor(...s),t.fillRect(d,p,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===r&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===r&&(e.filter=this.filterFactory.addLuminosityFilter(a));const f=new Path2D;f.rect(o,l,n,i),e.clip(f),e.globalCompositeOperation="destination-in",e.drawImage(h,d,p,n,i,o,l,n,i),e.restore()}save(){this.inSMaskMode?(Ia(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ia(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,i,r,s){this.ctx.transform(t,e,n,i,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const i=this.ctx,r=this.current;let s,a,o=r.x,l=r.y;const c=Zn(i),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],h=u?n.slice(0):null;for(let d=0,p=0,f=t.length;d<f;d++)switch(0|t[d]){case Se.rectangle:o=e[p++],l=e[p++];const t=e[p++],n=e[p++],d=o+t,f=l+n;i.moveTo(o,l),0===t||0===n?i.lineTo(d,f):(i.lineTo(d,l),i.lineTo(d,f),i.lineTo(o,f)),u||r.updateRectMinMax(c,[o,l,d,f]),i.closePath();break;case Se.moveTo:o=e[p++],l=e[p++],i.moveTo(o,l),u||r.updatePathMinMax(c,o,l);break;case Se.lineTo:o=e[p++],l=e[p++],i.lineTo(o,l),u||r.updatePathMinMax(c,o,l);break;case Se.curveTo:s=o,a=l,o=e[p+4],l=e[p+5],i.bezierCurveTo(e[p],e[p+1],e[p+2],e[p+3],o,l),r.updateCurvePathMinMax(c,s,a,e[p],e[p+1],e[p+2],e[p+3],o,l,h),p+=6;break;case Se.curveTo2:s=o,a=l,i.bezierCurveTo(o,l,e[p],e[p+1],e[p+2],e[p+3]),r.updateCurvePathMinMax(c,s,a,o,l,e[p],e[p+1],e[p+2],e[p+3],h),o=e[p+2],l=e[p+3],p+=4;break;case Se.curveTo3:s=o,a=l,o=e[p+2],l=e[p+3],i.bezierCurveTo(e[p],e[p+1],o,l,o,l),r.updateCurvePathMinMax(c,s,a,e[p],e[p+1],o,l,o,l,h),p+=4;break;case Se.closePath:i.closePath()}u&&r.updateScalingPathMinMax(c,h),r.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,ti(e),fa),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,ti(e),pa),i=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),i&&e.restore(),t&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ja}eoClip(){this.pendingClip=za}beginText(){this.current.textMatrix=Rt,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var n;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error("Can't find font for ".concat(t));if(r.fontMatrix=i.fontMatrix||Ft,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||Me("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=(null===(n=i.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(s,'", ').concat(i.fallbackName);let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(a)}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,i,r,s){this.current.textMatrix=[t,e,n,i,r,s],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,i){const r=this.ctx,s=this.current,a=s.font,o=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,c=o&Yt,u=!!(o&Qt),h=s.patternFill&&!a.missingFile;let d;if((a.disableFontFace||u||h)&&(d=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||h?(r.save(),r.translate(e,n),r.beginPath(),d(r,l),i&&r.setTransform(...i),c!==Gt&&c!==Xt||r.fill(),c!==qt&&c!==Xt||r.stroke(),r.restore()):(c!==Gt&&c!==Xt||r.fillText(t,e,n),c!==qt&&c!==Xt||r.strokeText(t,e,n)),u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Zn(r),x:e,y:n,fontSize:l,addToPath:d})}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return Ie(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(0===i)return;const r=this.ctx,s=e.fontSizeScale,a=e.charSpacing,o=e.wordSpacing,l=e.fontDirection,c=e.textHScale*l,u=t.length,h=n.vertical,d=h?1:-1,p=n.defaultVMetrics,f=i*e.fontMatrix[0],g=e.textRenderingMode===Gt&&!n.disableFontFace&&!e.patternFill;let m;if(r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),l>0?r.scale(c,-1):r.scale(c,1),e.patternFill){r.save();const t=e.fillColor.getPattern(r,this,ti(r),pa);m=Zn(r),r.restore(),r.fillStyle=t}let v=e.lineWidth;const b=e.textMatrixScale;if(0===b||0===v){const t=e.textRenderingMode&Yt;t!==qt&&t!==Xt||(v=this.getSinglePixelWidth())}else v/=b;if(1!==s&&(r.scale(s,s),v/=s),r.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let i=0;for(const e of t)n.push(e.unicode),i+=e.width;return r.fillText(n.join(""),0,0),e.x+=i*f*c,r.restore(),void this.compose()}let y,_=0;for(y=0;y<u;++y){const e=t[y];if("number"===typeof e){_+=d*e*i/1e3;continue}let c=!1;const u=(e.isSpace?o:0)+a,v=e.fontChar,b=e.accent;let x,w,S=e.width;if(h){const t=e.vmetric||p,n=-(e.vmetric?t[1]:.5*S)*f,i=t[2]*f;S=t?-t[0]:S,x=n/s,w=(_+i)/s}else x=_/s,w=0;if(n.remeasure&&S>0){const t=1e3*r.measureText(v).width/i*s;if(S<t&&this.isFontSubpixelAAEnabled){const e=S/t;c=!0,r.save(),r.scale(e,1),x/=e}else S!==t&&(x+=(S-t)/2e3*i/s)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(g&&!b)r.fillText(v,x,w);else if(this.paintChar(v,x,w,m),b){const t=x+i*b.offset.x/s,e=w-i*b.offset.y/s;this.paintChar(b.fontChar,t,e,m)}_+=h?S*f-u*l:S*f+u*l,c&&r.restore()}h?e.y-=_:e.x+=_*c,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,r=n.fontSize,s=n.fontDirection,a=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*s,u=n.fontMatrix||Ft,h=t.length;let d,p,f,g;if(!(n.textRenderingMode===Kt)&&0!==r){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(c,s),d=0;d<h;++d){if(p=t[d],"number"===typeof p){g=a*p*r/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const s=(p.isSpace?l:0)+o,h=i.charProcOperatorList[p.operatorListId];if(!h){Me('Type3 character "'.concat(p.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=p,this.save(),e.scale(r,r),e.transform(...u),this.executeOperatorList(h),this.restore());f=Xe.applyTransform([p.width,0],u)[0]*r+s,e.translate(f,0),n.x+=f*c}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,i,r,s){this.ctx.rect(n,i,r-n,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],i=this.baseTransform||Zn(this.ctx),r={createCanvasGraphics:t=>new Wa(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ea(t,n,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const i=Xe.makeHexColor(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(t,e,n){const i=Xe.makeHexColor(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=function(t){switch(t[0]){case"RadialAxial":return new ba(t);case"Mesh":return new xa(t);case"Dummy":return new wa}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ti(e),ga);const i=ti(e);if(i){const{width:t,height:n}=e.canvas,[r,s,a,o]=Xe.getAxialAlignedBoundingBox([0,0,t,n],i);this.ctx.fillRect(r,s,a-r,o-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Te("Should not call beginInlineImage")}beginImageData(){Te("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Zn(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax(Zn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Pe("TODO: Support non-isolated groups."),t.knockout&&Me("Knockout groups not supported.");const n=Zn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=Xe.getAxialAlignedBoundingBox(t.bbox,Zn(e));const r=[0,0,e.canvas.width,e.canvas.height];i=Xe.intersect(i,r)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-s,1),l=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;t.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),h=u.context;h.translate(-s,-a),h.transform(...n),t.smask?this.smaskStack.push({canvas:u.canvas,context:h,offsetX:s,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.save()),Ia(e,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=Zn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=Xe.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,r){if(xt(Ba,this,Ha).call(this),La(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const i=e[2]-e[0],s=e[3]-e[1];if(r&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=i,e[3]=s;const[r,a]=Xe.singularValueDecompose2dScale(Zn(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(s*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(t,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(r,0,0,-a,0,s*a),La(this.ctx)}else La(this.ctx),this.ctx.rect(e[0],e[1],i,s),this.ctx.clip(),this.endPath()}this.current=new Ta(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),xt(Ba,this,Va).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(t){const{width:e,height:n}=t;if(e>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let s,a,o,l=new Uint8Array(r*(n+1));const c=e+7&-8;let u=new Uint8Array(c*n),h=0;for(const g of t.data){let t=128;for(;t>0;)u[h++]=g&t?0:255,t>>=1}let d=0;for(h=0,0!==u[h]&&(l[0]=1,++d),a=1;a<e;a++)u[h]!==u[h+1]&&(l[a]=u[h]?2:1,++d),h++;for(0!==u[h]&&(l[a]=2,++d),s=1;s<n;s++){h=s*c,o=s*r,u[h-c]!==u[h]&&(l[o]=u[h]?1:8,++d);let t=(u[h]?4:0)+(u[h-c]?8:0);for(a=1;a<e;a++)t=(t>>2)+(u[h+1]?4:0)+(u[h-c+1]?8:0),i[t]&&(l[o+a]=i[t],++d),h++;if(u[h-c]!==u[h]&&(l[o+a]=u[h]?2:4,++d),d>1e3)return null}for(h=c*(n-1),o=s*r,0!==u[h]&&(l[o]=8,++d),a=1;a<e;a++)u[h]!==u[h+1]&&(l[o+a]=u[h]?4:8,++d),h++;if(0!==u[h]&&(l[o+a]=4,++d),d>1e3)return null;const p=new Int32Array([0,r,-1,0,-r,0,0,0,1]),f=new Path2D;for(s=0;d&&s<=n;s++){let t=s*r;const n=t+e;for(;t<n&&!l[t];)t++;if(t===n)continue;f.moveTo(t%r,s);const i=t;let a=l[t];do{const e=p[a];do{t+=e}while(!l[t]);const n=l[t];5!==n&&10!==n?(a=n,l[t]=0):(a=n&51*a>>4,l[t]&=a>>2|a<<2),f.lineTo(t%r,t/r|0),l[t]||--d}while(i!==t);--s}return u=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(f),t.beginPath(),t.restore()}}(t)),i.compiled))return void i.compiled(n);const r=this._createMaskCanvas(t),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const o=Zn(a);a.transform(e,n,i,r,0,0);const l=this._createMaskCanvas(t);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,u=s.length;c<u;c+=2){const t=Xe.transform(o,[e,n,i,r,s[c],s[c+1]]),[u,h]=Xe.applyTransform([0,0],t);a.drawImage(l.canvas,u,h)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of t){const{data:t,width:s,height:a,transform:o}=r,l=this.cachedCanvases.getCanvas("maskCanvas",s,a),c=l.context;c.save();Fa(c,this.getObject(t,r)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,ti(e),pa):n,c.fillRect(0,0,s,a),c.restore(),e.save(),e.transform(...o),e.scale(1,-1),Ma(e,l.canvas,0,0,s,a,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):Me("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const r=this.getObject(t);if(!r)return void Me("Dependent image isn't ready yet");const s=r.width,a=r.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[e,0,0,n,i[l],i[l+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(r,o)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,i),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(e,0,0),s.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,i=this.ctx;if(this.save(),!Tt){const{filter:t}=i;"none"!==t&&""!==t&&(i.filter="none")}let r;if(i.scale(1/e,-1/n),t.bitmap)r=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)r=t;else{const i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;Ra(i,t),r=this.applyTransferMapsToCanvas(i)}const s=this._scaleImage(r,ti(i));i.imageSmoothingEnabled=Da(Zn(i),t.interpolate),Ma(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const e=t.width,n=t.height,r=this.cachedCanvases.getCanvas("inlineImage",e,n).context;Ra(r,t),i=this.applyTransferMapsToCanvas(r)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),Ma(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===za?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Zn(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:r}=this.ctx.getTransform();let s,a;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(r);if(n===i)if(0===t)s=a=1/n;else{const e=n*t;s=a=e<1?1/e:1}else if(0===t)s=1/n,a=1/i;else{const e=n*t,r=i*t;s=e<1?1/e:1,a=r<1?1/r:1}}else{const o=Math.abs(e*r-n*i),l=Math.hypot(e,n),c=Math.hypot(i,r);if(0===t)s=c/o,a=l/o;else{const e=t*o;s=c>e?c/e:1,a=l>e?l/e:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(e.lineWidth=n||1,1===i&&1===r)return void e.stroke();const s=e.getLineDash();if(t&&e.save(),e.scale(i,r),s.length>0){const t=Math.max(i,r);e.setLineDash(s.map((e=>e/t))),e.lineDashOffset/=t}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function Ha(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Va(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}for(const kI in Se)void 0!==Wa.prototype[kI]&&(Wa.prototype[Se[kI]]=Wa.prototype[kI]);class Ua{static get workerPort(){return xt(Ua,this,Ga)._}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");Ga._=xt(Ua,this,t)}static get workerSrc(){return xt(Ua,this,qa)._}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");qa._=xt(Ua,this,t)}}var Ga={_:null},qa={_:""};const Xa=1,Ka=2,Ya=1,Qa=2,Ja=3,$a=4,Za=5,to=6,eo=7,no=8;function io(t){switch(t instanceof Error||"object"===typeof t&&null!==t||Te('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new We(t.message);case"MissingPDFException":return new je(t.message);case"PasswordException":return new De(t.message,t.code);case"UnexpectedResponseException":return new ze(t.message,t.status);case"UnknownErrorException":return new Oe(t.message,t.details);default:return new Oe(t.message,t.toString())}}var ro=new WeakSet;class so{constructor(t,e,n){yt(this,ro),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void xt(ro,this,oo).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===Xa)n.resolve(e.data);else{if(e.callback!==Ka)throw new Error("Unexpected callback case");n.reject(io(e.reason))}return}const i=this.actionHandler[e.action];if(!i)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,r=e.sourceName;new Promise((function(t){t(i(e.data))})).then((function(i){n.postMessage({sourceName:t,targetName:r,callback:Xa,callbackId:e.callbackId,data:i})}),(function(i){n.postMessage({sourceName:t,targetName:r,callback:Ka,callbackId:e.callbackId,reason:io(i)})}))}else e.streamId?xt(ro,this,ao).call(this,e):i(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,s=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:a,action:t,streamId:r,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[r].pullCall=e,o.postMessage({sourceName:s,targetName:a,stream:to,streamId:r,desiredSize:t.desiredSize}),e.promise},cancel:t=>{Re(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[r].cancelCall=e,this.streamControllers[r].isClosed=!0,o.postMessage({sourceName:s,targetName:a,stream:Ya,streamId:r,reason:io(t)}),e.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}function ao(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,s=this,a=this.actionHandler[t.action],o={enqueue(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:$a,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Ja,streamId:e}),delete s.streamSinks[e])},error(t){Re(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Za,streamId:e,reason:io(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,new Promise((function(e){e(a(t.data,o))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:no,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:no,streamId:e,reason:io(t)})}))}function oo(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,s=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case no:t.success?s.startCall.resolve():s.startCall.reject(io(t.reason));break;case eo:t.success?s.pullCall.resolve():s.pullCall.reject(io(t.reason));break;case to:if(!a){r.postMessage({sourceName:n,targetName:i,stream:eo,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise((function(t){var e;t(null===(e=a.onPull)||void 0===e?void 0:e.call(a))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:eo,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:eo,streamId:e,reason:io(t)})}));break;case $a:if(Re(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case Ja:if(Re(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),xt(ro,this,lo).call(this,s,e);break;case Za:Re(s,"error should have stream controller"),s.controller.error(io(t.reason)),xt(ro,this,lo).call(this,s,e);break;case Qa:t.success?s.cancelCall.resolve():s.cancelCall.reject(io(t.reason)),xt(ro,this,lo).call(this,s,e);break;case Ya:if(!a)break;new Promise((function(e){var n;e(null===(n=a.onCancel)||void 0===n?void 0:n.call(a,io(t.reason)))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:Qa,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:Qa,streamId:e,reason:io(t)})})),a.sinkCapability.reject(io(t.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function lo(t,e){var n,i,r;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(r=t.cancelCall)||void 0===r?void 0:r.promise]),delete this.streamControllers[e]}var co=new WeakMap,uo=new WeakMap;class ho{constructor(t){let{parsedData:e,rawData:n}=t;_t(this,co,void 0),_t(this,uo,void 0),kt(co,this,e),kt(uo,this,n)}getRaw(){return St(uo,this)}get(t){var e;return null!==(e=St(co,this).get(t))&&void 0!==e?e:null}getAll(){return Ue(St(co,this))}has(t){return St(co,this).has(t)}}const po=Symbol("INTERNAL");var fo=new WeakMap,go=new WeakMap,mo=new WeakMap,vo=new WeakMap;class bo{constructor(t,e){let{name:n,intent:i,usage:r}=e;_t(this,fo,!1),_t(this,go,!1),_t(this,mo,!1),_t(this,vo,!0),kt(fo,this,!!(t&Dt)),kt(go,this,!!(t&Ot)),this.name=n,this.intent=i,this.usage=r}get visible(){if(St(mo,this))return St(vo,this);if(!St(vo,this))return!1;const{print:t,view:e}=this.usage;return St(fo,this)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!St(go,this)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==po&&Te("Internal method `_setVisible` called."),kt(mo,this,n),kt(vo,this,e)}}var yo=new WeakMap,_o=new WeakMap,xo=new WeakMap,wo=new WeakMap,So=new WeakSet;class ko{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;if(yt(this,So),_t(this,yo,null),_t(this,_o,new Map),_t(this,xo,null),_t(this,wo,null),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,kt(wo,this,t.order);for(const n of t.groups)St(_o,this).set(n.id,new bo(e,n));if("OFF"===t.baseState)for(const t of St(_o,this).values())t._setVisible(po,!1);for(const e of t.on)St(_o,this).get(e)._setVisible(po,!0);for(const e of t.off)St(_o,this).get(e)._setVisible(po,!1);kt(xo,this,this.getHash())}}isVisible(t){if(0===St(_o,this).size)return!0;if(!t)return Pe("Optional content group not defined."),!0;if("OCG"===t.type)return St(_o,this).has(t.id)?St(_o,this).get(t.id).visible:(Me("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return xt(So,this,Eo).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!St(_o,this).has(e))return Me("Optional content group not found: ".concat(e)),!0;if(St(_o,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!St(_o,this).has(e))return Me("Optional content group not found: ".concat(e)),!0;if(!St(_o,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!St(_o,this).has(e))return Me("Optional content group not found: ".concat(e)),!0;if(!St(_o,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!St(_o,this).has(e))return Me("Optional content group not found: ".concat(e)),!0;if(St(_o,this).get(e).visible)return!1}return!0}return Me("Unknown optional content policy ".concat(t.policy,".")),!0}return Me("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=St(_o,this).get(t);n?(n._setVisible(po,!!e,!0),kt(yo,this,null)):Me("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const r of n){switch(r){case"ON":case"OFF":case"Toggle":e=r;continue}const t=St(_o,this).get(r);if(t)switch(e){case"ON":t._setVisible(po,!0);break;case"OFF":t._setVisible(po,!1);break;case"Toggle":t._setVisible(po,!t.visible)}}kt(yo,this,null)}get hasInitialVisibility(){return null===St(xo,this)||this.getHash()===St(xo,this)}getOrder(){return St(_o,this).size?St(wo,this)?St(wo,this).slice():[...St(_o,this).keys()]:null}getGroups(){return St(_o,this).size>0?Ue(St(_o,this)):null}getGroup(t){return St(_o,this).get(t)||null}getHash(){if(null!==St(yo,this))return St(yo,this);const t=new Js;for(const[e,n]of St(_o,this))t.update("".concat(e,":").concat(n.visible));return kt(yo,this,t.hexdigest())}}function Eo(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let r;if(Array.isArray(e))r=xt(So,this,Eo).call(this,e);else{if(!St(_o,this).has(e))return Me("Optional content group not found: ".concat(e)),!0;r=St(_o,this).get(e).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}class Co{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;Re(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(null===s||void 0===s?void 0:s.length)>0){const t=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{Re(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,i,r;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(r=i.onProgress)||void 0===r||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Re(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Ao(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Po(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class Ao{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=Hn(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Po{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Mo(t){let{getResponseHeader:e,isHttp:n,rangeChunkSize:i,disableRange:r}=t;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);if(!Number.isInteger(a))return s;if(s.suggestedLength=a,a<=2*i)return s;if(r||!n)return s;if("bytes"!==e("Accept-Ranges"))return s;return"identity"!==(e("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function To(t){const e=t("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=a(n);return t=unescape(t),t=o(t),t=l(t),s(t)}if(n=function(t){const e=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(t));){let[,t,i,r]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,r]}const s=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=a(n),t&&(n=unescape(n),0===i&&(n=o(n))),s.push(n)}return s.join("")}(t),n)return s(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=a(n);return t=l(t),s(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function r(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),r=Ve(n);n=i.decode(r),e=!1}catch{}}return n}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=r("utf-8",t),e&&(t=r("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:r(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})),r(e,i);try{i=atob(i)}catch{}return r(e,i)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Hn(t))return t}return null}function Ro(t,e){return 404===t||0===t&&e.startsWith("file:")?new je('Missing PDF "'+e+'".'):new ze("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)}function Fo(t){return 200===t||206===t}function Io(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Lo(t){const e=new Headers;for(const n in t){const i=t[n];void 0!==i&&e.append(n,i)}return e}function Do(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Me("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class Oo{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Re(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new No(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new jo(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class No{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=Lo(this._stream.httpHeaders);const n=e.url;fetch(n,Io(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!Fo(t.status))throw Ro(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:i,suggestedLength:r}=Mo({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=To(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new We("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Do(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class jo{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Lo(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(e,"-").concat(n-1));const r=i.url;fetch(r,Io(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!Fo(t.status))throw Ro(t.status,r);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:Do(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class zo{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const t=this.httpHeaders[r];void 0!==t&&e.setRequestHeader(r,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;var r;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void(null===(r=n.onError)||void 0===r||r.call(n,i.status));const s=i.status||200;var a;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void(null===(a=n.onError)||void 0===a||a.call(n,i.status));const o=function(t){const e=t.response;return"string"!==typeof e?e:Ve(e).buffer}(i);if(206===s){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else if(o)n.onDone({begin:0,chunk:o});else{var l;null===(l=n.onError)||void 0===l||l.call(n,i.status)}}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Bo{constructor(t){this._source=t,this._manager=new zo(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Re(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Wo(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Ho(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Wo{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:i,suggestedLength:r}=Mo({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=To(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ro(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ho{constructor(t,e,n){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ro(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Vo=/^file:\/\/\/[a-zA-Z]:\//;class Uo{constructor(t){this.source=t,this.url=function(t){const e=ha.get("url"),n=e.parse(t);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse("file:///".concat(t)):(n.host||(n.protocol="file:"),n)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Re(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Qo(this):new Ko(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Jo(this,t,e):new Yo(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Go{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new We("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class qo{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function Xo(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class Ko extends Go{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new je('Missing PDF "'.concat(this._url,'".'));return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:i,suggestedLength:r}=Mo({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=To(n)};if(this._request=null,"http:"===this._url.protocol){const n=ha.get("http");this._request=n.request(Xo(this._url,t.httpHeaders),e)}else{const n=ha.get("https");this._request=n.request(Xo(this._url,t.httpHeaders),e)}this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class Yo extends qo{constructor(t,e,n){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const e=t.httpHeaders[r];void 0!==e&&(this._httpHeaders[r]=e)}this._httpHeaders.Range="bytes=".concat(e,"-").concat(n-1);const i=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new je('Missing PDF "'.concat(this._url,'".'));this._storedError=t}};if(this._request=null,"http:"===this._url.protocol){const t=ha.get("http");this._request=t.request(Xo(this._url,this._httpHeaders),i)}else{const t=ha.get("https");this._request=t.request(Xo(this._url,this._httpHeaders),i)}this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class Qo extends Go{constructor(t){super(t);let e=decodeURIComponent(this._url.path);Vo.test(this._url.href)&&(e=e.replace(/^\//,""));const n=ha.get("fs");n.promises.lstat(e).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=new je('Missing PDF "'.concat(e,'".'))),this._storedError=t,this._headersCapability.reject(t)}))}}class Jo extends qo{constructor(t,e,n){super(t);let i=decodeURIComponent(this._url.path);Vo.test(this._url.href)&&(i=i.replace(/^\//,""));const r=ha.get("fs");this._setReadableStream(r.createReadStream(i,{start:e,end:n-1}))}}const $o=30,Zo=.8;var tl=new WeakMap,el=new WeakMap,nl=new WeakMap,il=new WeakMap,rl=new WeakMap,sl=new WeakMap,al=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,hl=new WeakMap,dl=new WeakMap,pl=new WeakMap,fl=new WeakMap,gl=new WeakMap,ml=new WeakMap,vl=new WeakMap,bl=new WeakSet;class yl{constructor(t){var e;let{textContentSource:n,container:i,viewport:r}=t;if(yt(this,bl),_t(this,tl,Promise.withResolvers()),_t(this,el,null),_t(this,nl,!1),_t(this,il,!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)),_t(this,rl,null),_t(this,sl,null),_t(this,al,0),_t(this,ol,0),_t(this,ll,null),_t(this,cl,null),_t(this,ul,0),_t(this,hl,0),_t(this,dl,Object.create(null)),_t(this,pl,[]),_t(this,fl,null),_t(this,gl,[]),_t(this,ml,new WeakMap),_t(this,vl,null),n instanceof ReadableStream)kt(fl,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');kt(fl,this,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}kt(el,this,kt(cl,this,i)),kt(hl,this,r.scale*(globalThis.devicePixelRatio||1)),kt(ul,this,r.rotation),kt(sl,this,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:o,pageY:l}=r.rawDims;kt(vl,this,[1,0,0,-1,-o,l+a]),kt(ol,this,s),kt(al,this,a),ei(i,r),St(tl,this).promise.catch((()=>{})).then((()=>{Al._.delete(this),kt(sl,this,null),kt(dl,this,null)}))}render(){const t=()=>{St(ll,this).read().then((e=>{var n;let{value:i,done:r}=e;r?St(tl,this).resolve():(null!==(n=St(rl,this))&&void 0!==n||kt(rl,this,i.lang),Object.assign(St(dl,this),i.styles),xt(bl,this,_l).call(this,i.items),t())}),St(tl,this).reject)};return kt(ll,this,St(fl,this).getReader()),Al._.add(this),t(),St(tl,this).promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==St(ul,this)&&(null===n||void 0===n||n(),kt(ul,this,r),ei(St(cl,this),{rotation:r})),i!==St(hl,this)){null===n||void 0===n||n(),kt(hl,this,i);const t={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Sl.call(yl,St(rl,this))};for(const e of St(gl,this))t.properties=St(ml,this).get(e),t.div=e,xt(bl,this,wl).call(this,t)}}cancel(){var t;const e=new We("TextLayer task cancelled.");null===(t=St(ll,this))||void 0===t||t.cancel(e).catch((()=>{})),kt(ll,this,null),St(tl,this).reject(e)}get textDivs(){return St(gl,this)}get textContentItemsStr(){return St(pl,this)}static cleanup(){if(!(xt(yl,this,Al)._.size>0)){xt(yl,this,El)._.clear();for(const{canvas:t}of xt(yl,this,Cl)._.values())t.remove();xt(yl,this,Cl)._.clear()}}}function _l(t){var e;if(St(nl,this))return;(e=St(sl,this)).ctx||(e.ctx=Sl.call(lt,St(rl,this)));const n=St(gl,this),i=St(pl,this);for(const r of t){if(n.length>1e5)return Me("Ignoring additional textDivs for performance reasons."),void kt(nl,this,!0);if(void 0!==r.str)i.push(r.str),xt(bl,this,xl).call(this,r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const t=St(el,this);kt(el,this,document.createElement("span")),St(el,this).classList.add("markedContent"),null!==r.id&&St(el,this).setAttribute("id","".concat(r.id)),t.append(St(el,this))}else"endMarkedContent"===r.type&&kt(el,this,St(el,this).parentNode)}}function xl(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};St(gl,this).push(e);const i=Xe.transform(St(vl,this),t.transform);let r=Math.atan2(i[1],i[0]);const s=St(dl,this)[t.fontName];s.vertical&&(r+=Math.PI/2);const a=St(il,this)&&s.fontSubstitution||s.fontFamily,o=Math.hypot(i[2],i[3]),l=o*kl.call(lt,a,St(rl,this));let c,u;0===r?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(r),u=i[5]-l*Math.cos(r));const h="calc(var(--scale-factor)*",d=e.style;St(el,this)===St(cl,this)?(d.left="".concat((100*c/St(ol,this)).toFixed(2),"%"),d.top="".concat((100*u/St(al,this)).toFixed(2),"%")):(d.left="".concat(h).concat(c.toFixed(2),"px)"),d.top="".concat(h).concat(u.toFixed(2),"px)")),d.fontSize="".concat(h).concat(o.toFixed(2),"px)"),d.fontFamily=a,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,St(il,this)&&(e.dataset.fontName=s.fontSubstitutionLoadedName||t.fontName),0!==r&&(n.angle=r*(180/Math.PI));let p=!1;if(t.str.length>1)p=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?t.height:t.width),St(ml,this).set(e,n),St(sl,this).div=e,St(sl,this).properties=n,xt(bl,this,wl).call(this,St(sl,this)),n.hasText&&St(el,this).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),St(el,this).append(t)}}function wl(t){const{div:e,properties:n,ctx:i,prevFontSize:r,prevFontFamily:s}=t,{style:a}=e;let o="";if(0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=n;r===u&&s===l||(i.font="".concat(u*St(hl,this),"px ").concat(l),t.prevFontSize=u,t.prevFontFamily=l);const{width:h}=i.measureText(e.textContent);h>0&&(o="scaleX(".concat(c*St(hl,this)/h,")"))}0!==n.angle&&(o="rotate(".concat(n.angle,"deg) ").concat(o)),o.length>0&&(a.transform=o)}function Sl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=xt(lt,this,Cl)._.get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1}),xt(lt,this,Cl)._.set(t,e)}return e}function kl(t,e){const n=xt(lt,this,El)._.get(t);if(n)return n;const i=xt(lt,this,Sl).call(this,e),r=i.font;i.canvas.width=i.canvas.height=$o,i.font="".concat($o,"px ").concat(t);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const e=a/(a+o);return xt(lt,this,El)._.set(t,e),i.canvas.width=i.canvas.height=0,i.font=r,e}i.strokeStyle="red",i.clearRect(0,0,$o,$o),i.strokeText("g",0,0);let l=i.getImageData(0,0,$o,$o).data;o=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){o=Math.ceil(u/4/$o);break}i.clearRect(0,0,$o,$o),i.strokeText("A",0,$o),l=i.getImageData(0,0,$o,$o).data,a=0;for(let u=0,h=l.length;u<h;u+=4)if(l[u]>0){a=$o-Math.floor(u/4/$o);break}i.canvas.width=i.canvas.height=0,i.font=r;const c=a?a/(a+o):Zo;return xt(lt,this,El)._.set(t,c),c}lt=yl;var El={_:new Map},Cl={_:new Map},Al={_:new Set};function Pl(){Kn("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...i}=arguments[0],r=Object.keys(i);r.length>0&&Me("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new yl({textContentSource:t,container:e,viewport:n}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function Ml(){Kn("`updateTextLayer`, please use `TextLayer` instead.")}class Tl{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var i;if(!n)return;let r=null;const s=n.name;if("#text"===s)r=n.value;else{if(!Tl.shouldBuildText(s))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&e.push({str:r}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}const Rl=65536,Fl=Tt?class extends hn{_createCanvas(t,e){return ha.get("canvas").createCanvas(t,e)}}:class extends hn{constructor(){let{ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}},Il=Tt?class extends dn{_fetchData(t,e){return da(t).then((t=>({cMapData:t,compressionType:e})))}}:On,Ll=Tt?class extends un{}:class extends un{constructor(){let{docId:t,ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),yt(this,Sn),_t(this,vn,void 0),_t(this,bn,void 0),_t(this,yn,void 0),_t(this,_n,void 0),_t(this,xn,void 0),_t(this,wn,0),kt(yn,this,t),kt(_n,this,e)}addFilter(t){var e,n;if(!t)return"none";let i=wt(Sn,this,kn).get(t);if(i)return i;const[r,s,a]=xt(Sn,this,An).call(this,t),o=1===t.length?r:"".concat(r).concat(s).concat(a);if(i=wt(Sn,this,kn).get(o),i)return wt(Sn,this,kn).set(t,i),i;const l="g_".concat(St(yn,this),"_transfer_map_").concat((kt(wn,this,(e=St(wn,this),n=e++,e)),n)),c="url(#".concat(l,")");wt(Sn,this,kn).set(t,c),wt(Sn,this,kn).set(o,c);const u=xt(Sn,this,Tn).call(this,l);return xt(Sn,this,Fn).call(this,r,s,a,u),c}addHCMFilter(t,e){var n;const i="".concat(t,"-").concat(e),r="base";let s=wt(Sn,this,En).get(r);if((null===(n=s)||void 0===n?void 0:n.key)===i)return s.url;var a;s?(null===(a=s.filter)||void 0===a||a.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},wt(Sn,this,En).set(r,s));if(!t||!e)return s.url;const o=xt(Sn,this,Ln).call(this,t);t=Xe.makeHexColor(...o);const l=xt(Sn,this,Ln).call(this,e);if(e=Xe.makeHexColor(...l),wt(Sn,this,Cn).style.color="","#000000"===t&&"#ffffff"===e||t===e)return s.url;const c=new Array(256);for(let f=0;f<=255;f++){const t=f/255;c[f]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const u=c.join(","),h="g_".concat(St(yn,this),"_hcm_filter"),d=s.filter=xt(Sn,this,Tn).call(this,h);xt(Sn,this,Fn).call(this,u,u,u,d),xt(Sn,this,Mn).call(this,d);const p=(t,e)=>{const n=o[t]/255,i=l[t]/255,r=new Array(e+1);for(let s=0;s<=e;s++)r[s]=n+s/e*(i-n);return r.join(",")};return xt(Sn,this,Fn).call(this,p(0,5),p(1,5),p(2,5),d),s.url="url(#".concat(h,")"),s.url}addAlphaFilter(t){var e,n;let i=wt(Sn,this,kn).get(t);if(i)return i;const[r]=xt(Sn,this,An).call(this,[t]),s="alpha_".concat(r);if(i=wt(Sn,this,kn).get(s),i)return wt(Sn,this,kn).set(t,i),i;const a="g_".concat(St(yn,this),"_alpha_map_").concat((kt(wn,this,(e=St(wn,this),n=e++,e)),n)),o="url(#".concat(a,")");wt(Sn,this,kn).set(t,o),wt(Sn,this,kn).set(s,o);const l=xt(Sn,this,Tn).call(this,a);return xt(Sn,this,In).call(this,r,l),o}addLuminosityFilter(t){var e,n;let i,r,s=wt(Sn,this,kn).get(t||"luminosity");if(s)return s;if(t?([i]=xt(Sn,this,An).call(this,[t]),r="luminosity_".concat(i)):r="luminosity",s=wt(Sn,this,kn).get(r),s)return wt(Sn,this,kn).set(t,s),s;const a="g_".concat(St(yn,this),"_luminosity_map_").concat((kt(wn,this,(e=St(wn,this),n=e++,e)),n)),o="url(#".concat(a,")");wt(Sn,this,kn).set(t,o),wt(Sn,this,kn).set(r,o);const l=xt(Sn,this,Tn).call(this,a);return xt(Sn,this,Pn).call(this,l),t&&xt(Sn,this,In).call(this,i,l),o}addHighlightHCMFilter(t,e,n,i,r){var s;const a="".concat(e,"-").concat(n,"-").concat(i,"-").concat(r);let o=wt(Sn,this,En).get(t);if((null===(s=o)||void 0===s?void 0:s.key)===a)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},wt(Sn,this,En).set(t,o));if(!e||!n)return o.url;const[c,u]=[e,n].map(xt(Sn,this,Ln).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,f]=[i,r].map(xt(Sn,this,Ln).bind(this));d<h&&([h,d,p,f]=[d,h,f,p]),wt(Sn,this,Cn).style.color="";const g=(t,e,n)=>{const i=new Array(256),r=(d-h)/n,s=t/255,a=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(h+l*r),e=s+l*a;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},m="g_".concat(St(yn,this),"_hcm_").concat(t,"_filter"),v=o.filter=xt(Sn,this,Tn).call(this,m);return xt(Sn,this,Mn).call(this,v),xt(Sn,this,Fn).call(this,g(p[0],f[0],5),g(p[1],f[1],5),g(p[2],f[2],5),v),o.url="url(#".concat(m,")"),o.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==wt(Sn,this,En).size||(St(bn,this)&&(St(bn,this).parentNode.parentNode.remove(),kt(bn,this,null)),St(vn,this)&&(St(vn,this).clear(),kt(vn,this,null)),kt(wn,this,0))}},Dl=Tt?class extends pn{_fetchData(t){return da(t)}}:Nn;function Ol(t){var e,n;if("string"===typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t}),"object"!==typeof t)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const i=new jl,{docId:r}=i,s=t.url?function(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Tt&&"string"===typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(t.url):null,a=t.data?function(t){if(Tt&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return Ve(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(t.data):null,o=t.httpHeaders||null,l=!0===t.withCredentials,c=null!==(e=t.password)&&void 0!==e?e:null,u=t.range instanceof Bl?t.range:null,h=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:Rl;let d=t.worker instanceof $l?t.worker:null;const p=t.verbosity,f="string"!==typeof t.docBaseUrl||Wn(t.docBaseUrl)?null:t.docBaseUrl,g="string"===typeof t.cMapUrl?t.cMapUrl:null,m=!1!==t.cMapPacked,v=t.CMapReaderFactory||Il,b="string"===typeof t.standardFontDataUrl?t.standardFontDataUrl:null,y=t.StandardFontDataFactory||Dl,_=!0!==t.stopAtErrors,x=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,w=!1!==t.isEvalSupported,S="boolean"===typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!Tt,k=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,E="boolean"===typeof t.disableFontFace?t.disableFontFace:Tt,C=!0===t.fontExtraProperties,A=!0===t.enableXfa,P=t.ownerDocument||globalThis.document,M=!0===t.disableRange,T=!0===t.disableStream,R=!0===t.disableAutoFetch,F=!0===t.pdfBug,I=u?u.length:null!==(n=t.length)&&void 0!==n?n:NaN,L="boolean"===typeof t.useSystemFonts?t.useSystemFonts:!Tt&&!E,D="boolean"===typeof t.useWorkerFetch?t.useWorkerFetch:v===On&&y===Nn&&g&&b&&qn(g,document.baseURI)&&qn(b,document.baseURI),O=t.canvasFactory||new Fl({ownerDocument:P}),N=t.filterFactory||new Ll({docId:r,ownerDocument:P});Ce(p);const j={canvasFactory:O,filterFactory:N};if(D||(j.cMapReaderFactory=new v({baseUrl:g,isCompressed:m}),j.standardFontDataFactory=new y({baseUrl:b})),!d){const t={verbosity:p,port:Ua.workerPort};d=t.port?$l.fromPort(t):new $l(t),i._worker=d}const z={docId:r,apiVersion:"4.3.136",data:a,password:c,disableAutoFetch:R,rangeChunkSize:h,length:I,docBaseUrl:f,enableXfa:A,evaluatorOptions:{maxImageSize:x,disableFontFace:E,ignoreErrors:_,isEvalSupported:w,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:k,fontExtraProperties:C,useSystemFonts:L,cMapUrl:D?g:null,standardFontDataUrl:D?b:null}},B={disableFontFace:E,fontExtraProperties:C,ownerDocument:P,pdfBug:F,styleElement:null,loadingParams:{disableAutoFetch:R,enableXfa:A}};return d.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const t=d.messageHandler.sendWithPromise("GetDocRequest",z,a?[a.buffer]:null);let e;if(u)e=new Co(u,{disableRange:M,disableStream:T});else if(!a){e=(t=>{if(Tt){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&qn(t.url)?new Oo(t):new Uo(t)}return qn(t.url)?new Oo(t):new Bo(t)})({url:s,length:I,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:M,disableStream:T})}return t.then((t=>{if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const n=new so(r,t,d.port),s=new oc(n,i,e,B,j);i._transport=s,n.send("Ready",null)}))})).catch(i._capability.reject),i}function Nl(t){return"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0}class jl{constructor(){var t,e;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((zl._=(t=zl._,e=t++,t),e)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var t,e;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(e=this._transport)||void 0===e?void 0:e.destroy())}catch(i){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var zl={_:0};class Bl{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Te("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Wl{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Hl=new WeakMap,Vl=new WeakMap,Ul=new WeakSet;class Gl{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];yt(this,Ul),_t(this,Hl,null),_t(this,Vl,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new Gn:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new dc,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new zn({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n;let{canvasContext:i,viewport:r,intent:s="display",annotationMode:a=Wt.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:d=null}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const p=this._transport.getRenderingIntent(s,a,d),{renderingIntent:f,cacheKey:g}=p;kt(Vl,this,!1),xt(Ul,this,Xl).call(this),c||(c=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=!!(f&Ot);var b;m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(b=this._stats)||void 0===b||b.time("Page Request"),this._pumpOperatorList(p));const y=t=>{var e;(m.renderTasks.delete(_),(this._maybeCleanupAfterRender||v)&&kt(Vl,this,!0),xt(Ul,this,ql).call(this,!v),t?(_.capability.reject(t),this._abortOperatorList({intentState:m,reason:t instanceof Error?t:new Error(t)})):_.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(e=globalThis.Stats)&&void 0!==e&&e.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new mc({callback:y,params:{canvasContext:i,viewport:r,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:h});((n=m).renderTasks||(n.renderTasks=new Set)).add(_);const x=_.task;return Promise.all([m.displayReadyCapability.promise,c]).then((t=>{var e;let[n,i]=t;if(this.destroyed)y();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(i.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:n,optionalContentConfig:i}),_.operatorListChanged()}})).catch(y),x}getOperatorList(){let{intent:t="display",annotationMode:e=Wt.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(t,e,n,!0);let r,s=this._intentStates.get(i.cacheKey);var a,o;(s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability)||(r=Object.create(null),r.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(r))},s.opListReadCapability=Promise.withResolvers(),((a=s).renderTasks||(a.renderTasks=new Set)).add(r),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(o=this._stats)||void 0===o||o.time("Page Request"),this._pumpOperatorList(i));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>Tl.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),r={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then((function(n){var i;let{value:s,done:a}=n;a?t(r):(null!==(i=r.lang)&&void 0!==i||(r.lang=s.lang),Object.assign(r.styles,s.styles),r.items.push(...s.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),kt(Vl,this,!1),xt(Ul,this,Xl).call(this),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];kt(Vl,this,!0);const e=xt(Ul,this,ql).call(this,!1);return t&&e&&this._stats&&(this._stats=new Gn),e}_startRenderPage(t,e){var n,i;const r=this._intentStates.get(e);r&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=r.displayReadyCapability)||void 0===i||i.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&xt(Ul,this,ql).call(this,!0)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i}=t;const{map:r,transfer:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r},s).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((t=>{let{value:e,done:n}=t;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),l())}),(t=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const t of o.renderTasks)t.operatorListChanged();xt(Ul,this,ql).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(t);else{if(!o.opListReadCapability)throw t;o.opListReadCapability.reject(t)}}}))};l()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof Bn){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new We(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function ql(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(xt(Ul,this,Xl).call(this),!St(Vl,this)||this.destroyed)return!1;if(t)return kt(Hl,this,setTimeout((()=>{kt(Hl,this,null),xt(Ul,this,ql).call(this,!1)}),5e3)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),kt(Vl,this,!1),!0}function Xl(){St(Hl,this)&&(clearTimeout(St(Hl,this)),kt(Hl,this,null))}var Kl=new WeakMap,Yl=new WeakMap;class Ql{constructor(){_t(this,Kl,new Set),_t(this,Yl,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};St(Yl,this).then((()=>{for(const t of St(Kl,this))t.call(this,n)}))}addEventListener(t,e){St(Kl,this).add(e)}removeEventListener(t,e){St(Kl,this).delete(e)}terminate(){St(Kl,this).clear()}}const Jl={isWorkerDisabled:!1,fakeWorkerId:0};Tt&&(Jl.isWorkerDisabled=!0,Ua.workerSrc||(Ua.workerSrc="./pdf.worker.mjs")),Jl.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},Jl.createCDNWrapper=function(t){const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};class $l{constructor(){let{name:t=null,port:e=null,verbosity:n=Ae()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){var i;if(null!==(i=tc._)&&void 0!==i&&i.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(tc._||(tc._=new WeakMap)).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return Tt?Promise.all([ha.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new so("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Jl.isWorkerDisabled&&!Zl($l)){let{workerSrc:t}=$l;try{Jl.isSameOrigin(window.location.href,t)||(t=Jl.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new so("main","worker",e),i=()=>{e.removeEventListener("error",r),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};e.addEventListener("error",r),n.on("test",(t=>{e.removeEventListener("error",r),this.destroyed?i():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",r),this.destroyed)i();else try{s()}catch{this._setupFakeWorker()}}));const s=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void s()}catch{Pe("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Jl.isWorkerDisabled||(Me("Setting up fake worker."),Jl.isWorkerDisabled=!0),$l._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new Ql;this._port=e;const n="fake".concat(Jl.fakeWorkerId++),i=new so(n+"_worker",n,e);t.setup(i,e);const r=new so(n,n+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})})).catch((t=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(t=tc._)||void 0===t||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var e;if(null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(e=xt($l,this,tc)._)||void 0===e?void 0:e.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new $l(t)}static get workerSrc(){if(Ua.workerSrc)return Ua.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ie(this,"_setupFakeWorkerGlobal",(async()=>{if(wt($l,this,Zl))return wt($l,this,Zl);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Zl(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch{return null}}var tc={_:void 0},ec=new WeakMap,nc=new WeakMap,ic=new WeakMap,rc=new WeakMap,sc=new WeakMap,ac=new WeakSet;class oc{constructor(t,e,n,i,r){yt(this,ac),_t(this,ec,new Map),_t(this,nc,new Map),_t(this,ic,new Map),_t(this,rc,new Map),_t(this,sc,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new dc,this.fontLoader=new oa({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ie(this,"annotationStorage",new na)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Dt,s=$s;switch(t){case"any":r=Lt;break;case"display":break;case"print":r=Ot;break;default:Me("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case Wt.DISABLE:r+=zt;break;case Wt.ENABLE:break;case Wt.ENABLE_FORMS:r+=Nt;break;case Wt.ENABLE_STORAGE:r+=jt;s=(r&Ot&&n instanceof sa?n:this.annotationStorage).serializable;break;default:Me("getRenderingIntent - invalid annotationMode: ".concat(e))}return i&&(r+=Bt),{renderingIntent:r,cacheKey:"".concat(r,"_").concat(s.hash),annotationStorageSerializable:s}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=St(sc,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of St(nc,this).values())e.push(i._destroy());St(nc,this).clear(),St(ic,this).clear(),St(rc,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((()=>{var t;this.commonObjs.clear(),this.fontLoader.clear(),St(ec,this).clear(),this.filterFactory.destroy(),yl.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new We("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{Re(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Re(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const n=Promise.withResolvers(),i=this._fullReader;return i.headersReady.then((()=>{if(!i.isStreamingSupported||!i.isRangeSupported){var t;if(this._lastProgress)null===(t=e.onProgress)||void 0===t||t.call(e,this._lastProgress);i.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",((t,e)=>{Re(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Re(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Wl(n,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new De(t.message,t.code);break;case"InvalidPDFException":n=new Ne(t.message);break;case"MissingPDFException":n=new je(t.message);break;case"UnexpectedResponseException":n=new ze(t.message,t.status);break;case"UnknownErrorException":n=new Oe(t.message,t.details);break;default:Te("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(kt(sc,this,Promise.withResolvers()),e.onPassword){const i=t=>{t instanceof Error?St(sc,this).reject(t):St(sc,this).resolve({password:t})};try{e.onPassword(i,t.code)}catch(n){St(sc,this).reject(n)}}else St(sc,this).reject(new De(t.message,t.code));return St(sc,this).promise})),t.on("DataLoaded",(t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;St(nc,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{var n;let[i,r,s]=e;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:e,fontExtraProperties:a,pdfBug:o}=this._params;if("error"in s){const t=s.error;Me("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}const l=o&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,c=new la(s,{disableFontFace:e,inspectFont:l});this.fontLoader.bind(c).catch((()=>t.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!a&&c.data&&(c.data=null),this.commonObjs.resolve(i,c)}));break;case"CopyLocalImage":const{imageRef:u}=s;Re(u,"The imageRef must be defined.");for(const t of St(nc,this).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===u)return e.dataLen?(this.commonObjs.resolve(i,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(r))}return null})),t.on("obj",(t=>{let[e,n,i,r]=t;if(this.destroyed)return;const s=St(nc,this).get(n);var a;if(!s.objs.has(e))if(0!==s._intentStates.size)switch(i){case"Image":s.objs.resolve(e,r),(null===r||void 0===r?void 0:r.dataLen)>1e7&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(e,r);break;default:throw new Error("Got unknown object type ".concat(i))}else null===r||void 0===r||null===(a=r.bitmap)||void 0===a||a.close()})),t.on("DocProgress",(t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&Me("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},i).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=St(ic,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&St(rc,this).set(n.refStr,t);const i=new Gl(e,n,this,this._params.pdfBug);return St(nc,this).set(e,i),i}));return St(ic,this).set(e,i),i}getPageIndex(t){return Nl(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return xt(ac,this,lc).call(this,"GetFieldObjects")}hasJSActions(){return xt(ac,this,lc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return xt(ac,this,lc).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return xt(ac,this,lc).call(this,"GetOptionalContentConfig").then((e=>new ko(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=St(ec,this).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>{var e,n,i,r;return{info:t[0],metadata:t[1]?new ho(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(r=this._fullReader)||void 0===r?void 0:r.contentLength)&&void 0!==i?i:null}}));return St(ec,this).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of St(nc,this).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),St(ec,this).clear(),this.filterFactory.destroy(!0),yl.cleanup()}}cachedPageNumber(t){var e;if(!Nl(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=St(rc,this).get(n))&&void 0!==e?e:null}}function lc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=St(ec,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return St(ec,this).set(t,i),i}const cc=Symbol("INITIAL_DATA");var uc=new WeakMap,hc=new WeakSet;class dc{constructor(){yt(this,hc),_t(this,uc,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=xt(hc,this,pc).call(this,t);return n.promise.then((()=>e(n.data))),null}const n=St(uc,this)[t];if(!n||n.data===cc)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=St(uc,this)[t];return!!e&&e.data!==cc}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=xt(hc,this,pc).call(this,t);n.data=e,n.resolve()}clear(){for(const e in St(uc,this)){var t;const{data:n}=St(uc,this)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}kt(uc,this,Object.create(null))}*[Symbol.iterator](){for(const t in St(uc,this)){const{data:e}=St(uc,this)[t];e!==cc&&(yield[t,e])}}}function pc(t){var e;return(e=St(uc,this))[t]||(e[t]={...Promise.withResolvers(),data:cc})}var fc=new WeakMap;class gc{constructor(t){_t(this,fc,null),kt(fc,this,t),this.onContinue=null}get promise(){return St(fc,this).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;St(fc,this).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=St(fc,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=St(fc,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}class mc{constructor(t){let{callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}=t;this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gc(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){var e,n;let{transparency:i=!1,optionalContentConfig:r}=t;if(this.cancelled)return;if(this._canvas){if(vc._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");vc._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:l}=this.params;this.gfx=new Wa(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:i,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),vc._.delete(this._canvas),this.callback(e||new Bn("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var t;this.graphicsReady?(null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),vc._.delete(this._canvas),this.callback())))}}var vc={_:new WeakSet};const bc="4.3.136",yc="0cec64437";function _c(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function xc(t){return Math.max(0,Math.min(255,255*t))}class wc{static CMYK_G(t){let[e,n,i,r]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=xc(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=_c(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(xc)}static RGB_HTML(t){return"#".concat(t.map(_c).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,r]=t;return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb(t){let[e,n,i,r]=t;return[xc(1-Math.min(1,e+r)),xc(1-Math.min(1,i+r)),xc(1-Math.min(1,n+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const r=1-e,s=1-n,a=1-i;return["CMYK",r,s,a,Math.min(r,s,a)]}}class Sc{static setupStorage(t,e,n,i,r){const s=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(t.textContent=s.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?t.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===r)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&t.setAttribute("value",s.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==s.value){t.setAttribute("value",s.value);for(const t of n.children)t.attributes.value===s.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:r})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:r,linkService:s}=t;const{attributes:a}=n,o=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(r));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:r,linkService:n});const a="richText"!==r,o=t.div;if(o.append(s),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);s.append(t),a&&Tl.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,s]];for(;c.length>0;){var u,h;const[t,i,s]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const t=document.createTextNode(o.value);l.push(t),s.append(t);continue}const p=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(s.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:e,intent:r,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,p]);else if(o.value){const t=document.createTextNode(o.value);a&&Tl.shouldBuildText(d)&&l.push(t),p.append(t)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const kc=1e3,Ec=new WeakSet;function Cc(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class Ac{static create(t){switch(t.data.annotationType){case Zt:return new Dc(t);case $t:return new zc(t);case ge:switch(t.data.fieldType){case"Tx":return new Wc(t);case"Btn":return t.data.radioButton?new Uc(t):t.data.checkBox?new Vc(t):new Gc(t);case"Ch":return new qc(t);case"Sig":return new Hc(t)}return new Bc(t);case pe:return new Xc(t);case te:return new ku(t);case ee:return new Cu(t);case ne:return new Pu(t);case ie:return new Tu(t);case se:return new Fu(t);case he:return new Lu(t);case de:return new Ou(t);case re:return new Iu(t);case ae:return new Nu(t);case oe:return new ju(t);case le:return new zu(t);case ce:return new Bu(t);case ue:return new Wu(t);case fe:return new Uu(t);default:return new Fc(t)}}}var Pc=new WeakMap,Mc=new WeakMap,Tc=new WeakMap,Rc=new WeakSet;class Fc{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yt(this,Rc),_t(this,Pc,null),_t(this,Mc,!1),_t(this,Tc,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{titleObj:e,contentsObj:n,richText:i}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str||null!==i&&void 0!==i&&i.str)}get hasPopupData(){return Fc._hasPopupData(this.data)}updateEdited(t){var e;if(!this.container)return;St(Pc,this)||kt(Pc,this,{rect:this.data.rect.slice(0)});const{rect:n}=t;n&&xt(Rc,this,Ic).call(this,n),null===(e=St(Tc,this))||void 0===e||e.popup.updateEdited(t)}resetEdited(){var t;St(Pc,this)&&(xt(Rc,this,Ic).call(this,St(Pc,this).rect),null===(t=St(Tc,this))||void 0===t||t.popup.resetEdited(),kt(Pc,this,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof Bc||(r.tabIndex=kc);const{style:s}=r;if(s.zIndex=this.parent.zIndex++,e.popupRef&&r.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof Xc){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,r),r}const{width:a,height:o}=Cc(e.rect);if(!t&&e.borderStyle.width>0){s.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");s.borderRadius=e}else if(this instanceof Uc){const t="calc(".concat(a,"px * var(--scale-factor)) / calc(").concat(o,"px * var(--scale-factor))");s.borderRadius=t}switch(e.borderStyle.style){case me:s.borderStyle="solid";break;case ve:s.borderStyle="dashed";break;case be:Me("Unimplemented border style: beveled");break;case ye:Me("Unimplemented border style: inset");break;case _e:s.borderBottomStyle="solid"}const i=e.borderColor||null;i?(kt(Mc,this,!0),s.borderColor=Xe.makeHexColor(0|i[0],0|i[1],0|i[2])):s.borderWidth=0}const l=Xe.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:d}=i.rawDims;s.left="".concat(100*(l[0]-h)/c,"%"),s.top="".concat(100*(l[1]-d)/u,"%");const{rotation:p}=e;return e.hasOwnCanvas||0===p?(s.width="".concat(100*a/c,"%"),s.height="".concat(100*o/u,"%")):this.setRotation(p,r),r}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:s}=Cc(this.data.rect);let a,o;t%180===0?(a=100*r/n,o=100*s/i):(a=100*s/n,o=100*r/i),e.style.width="".concat(a,"%"),e.style.height="".concat(o,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],r=i[0],s=i.slice(1);n.target.style[e]=wc["".concat(r,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[e]:wc["".concat(r,"_rgb")](s)})};return Ie(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];null===r||void 0===r||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const s=n[i];if(s){s({detail:{[i]:r},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,r]=this.data.rect;if(1===t.length){const[,{x:s,y:a},{x:o,y:l}]=t[0];if(i===s&&r===a&&e===o&&n===l)return}const{style:s}=this.container;let a;if(St(Mc,this)){const{borderColor:t,borderWidth:e}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const o=i-e,l=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const h=c.createElement("defs");u.append(h);const d=c.createElement("clipPath"),p="clippath_".concat(this.data.id);d.setAttribute("id",p),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(const[,{x:g,y:m},{x:v,y:b}]of t){var f;const t=c.createElement("rect"),n=(v-e)/o,i=(r-m)/l,s=(g-v)/o,u=(m-b)/l;t.setAttribute("x",n),t.setAttribute("y",i),t.setAttribute("width",s),t.setAttribute("height",u),d.append(t),null===(f=a)||void 0===f||f.push('<rect vector-effect="non-scaling-stroke" x="'.concat(n,'" y="').concat(i,'" width="').concat(s,'" height="').concat(u,'"/>'))}St(Mc,this)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=kt(Tc,this,new Xc({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Te("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:r,exportValues:s}of i){if(-1===t)continue;if(r===e)continue;const i="string"===typeof s?s:null,a=document.querySelector('[data-element-id="'.concat(r,'"]'));!a||Ec.has(a)?n.push({id:r,exportValue:i,domElement:a}):Me("_getElementsByName - element not allowed: ".concat(r))}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,r=i.getAttribute("data-element-id");r!==e&&(Ec.has(i)&&n.push({id:r,exportValue:t,domElement:i}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})}))}}function Ic(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...t);const{width:l,height:c}=Cc(t);e.left="".concat(100*(t[0]-a)/r,"%"),e.top="".concat(100*(s-t[3]+o)/s,"%"),0===i?(e.width="".concat(100*l/r,"%"),e.height="".concat(100*c/s,"%")):this.setRotation(i)}var Lc=new WeakSet;class Dc extends Fc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),yt(this,Lc),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action),i=!0):t.attachment?(xt(Lc,this,Nc).call(this,n,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(xt(Lc,this,jc).call(this,n,t.setOCGState),i=!0):t.dest?(this._bindLink(n,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&xt(Lc,this,Oc).call(this)}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),xt(Lc,this,Oc).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const r=n.get(i);r&&(t[r]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),xt(Lc,this,Oc).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),xt(Lc,this,Oc).call(this),!this._fieldObjects)return Me('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:i,include:r}=e,s=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===r&&s.push(n)}else for(const e of Object.values(this._fieldObjects))s.push(...e);const a=this.annotationStorage,o=[];for(const e of s){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(Ec.has(n)?n.dispatchEvent(new Event("resetform")):Me("_bindResetFormAction - element not allowed: ".concat(t)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function Oc(){this.container.setAttribute("data-internal-link","")}function Nc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,n),!1},xt(Lc,this,Oc).call(this)}function jc(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),xt(Lc,this,Oc).call(this)}class zc extends Fc{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Bc extends Fc{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ge.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,r){n.includes("mouse")?t.addEventListener(n,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{var s;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}r&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(t)}}))}))}_setEventListeners(t,e,n,i){for(const[o,l]of n){var r,s,a;if("Action"===l||null!==(r=this.data.actions)&&void 0!==r&&r[l])"Focus"!==l&&"Blur"!==l||e||(e={focused:!1}),this._setEventListener(t,e,o,l,i),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":Xe.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=t.style;let s;const a=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(It*i))||1);s=Math.min(i,a(e/It))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,a(t/It))}r.fontSize="calc(".concat(s,"px * var(--scale-factor))"),r.color=Xe.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Wc extends Bc{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[e]=n),r.setValue(s.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const o=t.getValue(e,{value:this.data.fieldValue});let l=o.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};var r,s;if(this.data.multiLine)n=document.createElement("textarea"),n.textContent=null!==(r=u)&&void 0!==r?r:l,this.data.doNotScroll&&(n.style.overflowY="hidden");else n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==(s=u)&&void 0!==s?s:l),this.data.doNotScroll&&(n.style.overflowX="hidden");this.data.hasOwnCanvas&&(n.hidden=!0),Ec.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=kc,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),h.formattedValue=null})),n.addEventListener("resetform",(t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=h.userValue=i,h.formattedValue=null}));let d=t=>{const{formattedValue:e}=h;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",(t=>{var e;if(h.focused)return;const{target:n}=t;h.userValue&&(n.value=h.userValue),h.lastCommittedValue=n.value,h.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(h.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;h.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",t.setValue(e,{value:h.userValue.toString()}),n.target.value=h.userValue},formattedValue(n){const{formattedValue:i}=n.detail;h.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),t.setValue(e,{formattedValue:i})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:r}=n.detail,{target:s}=n;if(0===r)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",r);let a=h.userValue;!a||a.length<=r||(a=a.slice(0,r),s.value=h.userValue=a,t.setValue(e,{value:a}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{var n;h.commitKey=1;let i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(h.commitKey=3):i=2,-1===i)return;const{value:r}=t.target;h.lastCommittedValue!==r&&(h.lastCommittedValue=r,h.userValue=r,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=d;d=null,n.addEventListener("blur",(t=>{var n;if(!h.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(h.focused=!1);const{value:r}=t.target;var s;(h.userValue=r,h.lastCommittedValue!==r)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:h.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));i(t)})),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",(t=>{var n;h.lastCommittedValue=null;const{data:i,target:r}=t,{value:s,selectionStart:a,selectionEnd:o}=r;let l=a,c=o;switch(t.inputType){case"deleteWordBackward":{const t=s.substring(0,a).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=s.substring(a).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(d&&n.addEventListener("blur",d),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Hc extends Bc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Vc extends Bc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Ec.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=kc,r.addEventListener("change",(i=>{const{name:r,checked:s}=i.target;for(const a of this._getElementsByName(r,n)){const n=s&&a.exportValue===e.exportValue;a.domElement&&(a.domElement.checked=n),t.setValue(a.id,{value:n})}t.setValue(n,{value:s})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Uc extends Bc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const s of this._getElementsByName(e.fieldName,n))t.setValue(s.id,{value:!1});const r=document.createElement("input");if(Ec.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=kc,r.addEventListener("change",(e=>{const{name:i,checked:r}=e.target;for(const s of this._getElementsByName(i,n))t.setValue(s.id,{value:!1});t.setValue(n,{value:r})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;r.addEventListener("updatefromsandbox",(e=>{const r={value:e=>{const r=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=r&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Gc extends Dc{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class qc extends Bc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Ec.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=kc;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),r=!1),i.append(t)}let s=null;if(r){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),s=()=>{t.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=t=>{const e=t?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=a(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){var r;null===(r=s)||void 0===r||r();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const t of i.options)t.selected=c.has(t.value);t.setValue(e,{value:a(!0)}),o=a(!1)},multipleSelection(t){i.multiple=!0},remove(n){const r=i.options,s=n.detail.remove;if(r[s].selected=!1,i.remove(s),r.length>0){-1===Array.prototype.findIndex.call(r,(t=>t.selected))&&(r[0].selected=!0)}t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=a(!1)},insert(n){const{index:r,displayValue:s,exportValue:c}=n.detail.insert,u=i.children[r],h=document.createElement("option");h.textContent=s,h.value=c,u?u.before(h):i.append(h),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of r){const{displayValue:e,exportValue:n}=t,r=document.createElement("option");r.textContent=e,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:a(!0)}),o=a(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{var i;const r=a(!0),s=a(!1);t.setValue(e,{value:r}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:s,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Xc extends Fc{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Fc._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new fu({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map((t=>"".concat(Ze).concat(t))).join(",")),this.container}}var Kc=new WeakMap,Yc=new WeakMap,Qc=new WeakMap,Jc=new WeakMap,$c=new WeakMap,Zc=new WeakMap,tu=new WeakMap,eu=new WeakMap,nu=new WeakMap,iu=new WeakMap,ru=new WeakMap,su=new WeakMap,au=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,hu=new WeakMap,du=new WeakMap,pu=new WeakSet;class fu{constructor(t){let{container:e,color:n,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:h}=t;yt(this,pu),_t(this,Kc,xt(pu,this,yu).bind(this)),_t(this,Yc,xt(pu,this,Su).bind(this)),_t(this,Qc,xt(pu,this,wu).bind(this)),_t(this,Jc,xt(pu,this,xu).bind(this)),_t(this,$c,null),_t(this,Zc,null),_t(this,tu,null),_t(this,eu,null),_t(this,nu,null),_t(this,iu,null),_t(this,ru,null),_t(this,su,!1),_t(this,au,null),_t(this,ou,null),_t(this,lu,null),_t(this,cu,null),_t(this,uu,null),_t(this,hu,null),_t(this,du,!1),kt(Zc,this,e),kt(uu,this,r),kt(tu,this,a),kt(cu,this,o),kt(iu,this,l),kt($c,this,n),kt(lu,this,c),kt(ru,this,u),kt(nu,this,i),kt(eu,this,Qn.toDateObject(s)),this.trigger=i.flatMap((t=>t.getElementsToTriggerPopup()));for(const p of this.trigger)p.addEventListener("click",St(Jc,this)),p.addEventListener("mouseenter",St(Qc,this)),p.addEventListener("mouseleave",St(Yc,this)),p.classList.add("popupTriggerArea");for(const p of i){var d;null===(d=p.container)||void 0===d||d.addEventListener("keydown",St(Kc,this))}St(Zc,this).hidden=!0,h&&xt(pu,this,xu).call(this)}render(){if(St(au,this))return;const t=kt(au,this,document.createElement("div"));if(t.className="popup",St($c,this)){const e=t.style.outlineColor=Xe.makeHexColor(...St($c,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))t.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;t.style.backgroundColor=Xe.makeHexColor(...St($c,this).map((t=>Math.floor(e*(255-t)+t))))}}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),({dir:n.dir,str:n.textContent}=St(uu,this)),t.append(e),St(eu,this)){const t=document.createElement("span");t.classList.add("popupDate"),t.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),t.setAttribute("data-l10n-args",JSON.stringify({date:St(eu,this).toLocaleDateString(),time:St(eu,this).toLocaleTimeString()})),e.append(t)}const i=wt(pu,this,gu);if(i)Sc.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const e=this._formatContents(St(tu,this));t.append(e)}St(Zc,this).append(t)}_formatContents(t){let{str:e,dir:n}=t;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const t=r[s];i.append(document.createTextNode(t)),s<a-1&&i.append(document.createElement("br"))}return i}updateEdited(t){var e;let{rect:n,popupContent:i}=t;St(hu,this)||kt(hu,this,{contentsObj:St(tu,this),richText:St(cu,this)}),n&&kt(ou,this,null),i&&(kt(cu,this,xt(pu,this,bu).call(this,i)),kt(tu,this,null)),null===(e=St(au,this))||void 0===e||e.remove(),kt(au,this,null)}resetEdited(){var t;St(hu,this)&&(({contentsObj:vt(kt,[tu,this])._,richText:vt(kt,[cu,this])._}=St(hu,this)),kt(hu,this,null),null===(t=St(au,this))||void 0===t||t.remove(),kt(au,this,null),kt(ou,this,null))}forceHide(){kt(du,this,this.isVisible),St(du,this)&&(St(Zc,this).hidden=!0)}maybeShow(){St(du,this)&&(St(au,this)||xt(pu,this,wu).call(this),kt(du,this,!1),St(Zc,this).hidden=!1)}get isVisible(){return!1===St(Zc,this).hidden}}function gu(t){const e=St(cu,t),n=St(tu,t);return null===e||void 0===e||!e.str||null!==n&&void 0!==n&&n.str&&n.str!==e.str?null:St(cu,t).html||null}function mu(t){var e;return(null===(e=wt(pu,t,gu))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function vu(t){var e;return(null===(e=wt(pu,t,gu))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function bu(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:wt(pu,this,vu),fontSize:wt(pu,this,mu)?"calc(".concat(wt(pu,this,mu),"px * var(--scale-factor))"):""}};for(const r of t.split("\n"))e.push({name:"span",value:r,attributes:i});return n}function yu(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&St(su,this))&&xt(pu,this,xu).call(this)}function _u(){if(null!==St(ou,this))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=St(iu,this);let s=!!St(ru,this),a=St(s?ru:lu,this);for(const d of St(nu,this))if(!a||null!==Xe.intersect(d.data.rect,a)){a=d.data.rect,s=!0;break}const o=Xe.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),l=s?a[2]-a[0]+5:0,c=o[0]+l,u=o[1];kt(ou,this,[100*(c-i)/e,100*(u-r)/n]);const{style:h}=St(Zc,this);h.left="".concat(St(ou,this)[0],"%"),h.top="".concat(St(ou,this)[1],"%")}function xu(){kt(su,this,!St(su,this)),St(su,this)?(xt(pu,this,wu).call(this),St(Zc,this).addEventListener("click",St(Jc,this)),St(Zc,this).addEventListener("keydown",St(Kc,this))):(xt(pu,this,Su).call(this),St(Zc,this).removeEventListener("click",St(Jc,this)),St(Zc,this).removeEventListener("keydown",St(Kc,this)))}function wu(){St(au,this)||this.render(),this.isVisible?St(su,this)&&St(Zc,this).classList.add("focused"):(xt(pu,this,_u).call(this),St(Zc,this).hidden=!1,St(Zc,this).style.zIndex=parseInt(St(Zc,this).style.zIndex)+1e3)}function Su(){St(Zc,this).classList.remove("focused"),!St(su,this)&&this.isVisible&&(St(Zc,this).hidden=!0,St(Zc,this).style.zIndex=parseInt(St(Zc,this).style.zIndex)-1e3)}class ku extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ht.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Eu=new WeakMap;class Cu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),_t(this,Eu,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:n}=Cc(t.rect),i=this.svgFactory.create(e,n,!0),r=kt(Eu,this,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(Eu,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Au=new WeakMap;class Pu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),_t(this,Au,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:n}=Cc(t.rect),i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,s=kt(Au,this,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",e-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(Au,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Mu=new WeakMap;class Tu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),_t(this,Mu,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:n}=Cc(t.rect),i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,s=kt(Mu,this,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",e/2),s.setAttribute("cy",n/2),s.setAttribute("rx",e/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(Mu,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Ru=new WeakMap;class Fu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),_t(this,Ru,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=Cc(t.rect),i=this.svgFactory.create(e,n,!0);let r=[];for(const a of t.vertices){const e=a.x-t.rect[0],n=t.rect[3]-a.y;r.push(e+","+n)}r=r.join(" ");const s=kt(Ru,this,this.svgFactory.createElement(this.svgElementName));return s.setAttribute("points",r),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(Ru,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Iu extends Fu{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Lu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Du=new WeakMap;class Ou extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),_t(this,Du,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ht.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=Cc(t.rect),i=this.svgFactory.create(e,n,!0);for(const r of t.inkLists){let e=[];for(const i of r){const n=i.x-t.rect[0],r=t.rect[3]-i.y;e.push("".concat(n,",").concat(r))}e=e.join(" ");const n=this.svgFactory.createElement(this.svgElementName);St(Du,this).push(n),n.setAttribute("points",e),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),i.append(n)}return this.container.append(i),this.container}getElementsToTriggerPopup(){return St(Du,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Nu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ju extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Bu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Wu extends Fc{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hu=new WeakMap,Vu=new WeakSet;class Uu extends Fc{constructor(t){var e;super(t,{isRenderable:!0}),yt(this,Vu),_t(this,Hu,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",xt(Vu,this,Gu).bind(this)),kt(Hu,this,n);const{isMac:i}=Ge.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&xt(Vu,this,Gu).call(this)})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return St(Hu,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Gu(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var qu=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,Yu=new WeakSet;class Qu{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a}=t;yt(this,Yu),_t(this,qu,null),_t(this,Xu,null),_t(this,Ku,new Map),this.div=e,kt(qu,this,n),kt(Xu,this,i),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}async render(t){const{annotations:e}=t,n=this.div;ei(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new jn,annotationStorage:t.annotationStorage||new na,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const t=a.annotationType===pe;if(t){const t=i.get(a.id);if(!t)continue;r.elements=t}else{const{width:t,height:e}=Cc(a.rect);if(t<=0||e<=0)continue}r.data=a;const e=Ac.create(r);if(!e.isRenderable)continue;if(!t&&a.popupRef){const t=i.get(a.popupRef);t?t.push(e):i.set(a.popupRef,[e])}const n=e.render();var s;if(a.hidden&&(n.style.visibility="hidden"),xt(Yu,this,Ju).call(this,n,a.id),e.annotationEditorType>0)St(Ku,this).set(e.data.id,e),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(e)}xt(Yu,this,$u).call(this)}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,ei(n,{rotation:e.rotation}),xt(Yu,this,$u).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(St(Ku,this).values())}getEditableAnnotation(t){return St(Ku,this).get(t)}}function Ju(t,e){var n;const i=t.firstChild||t;i.id="".concat(Ze).concat(e),this.div.append(t),null===(n=St(qu,this))||void 0===n||n.moveElementInDOM(this.div,t,i,!1)}function $u(){if(!St(Xu,this))return;const t=this.div;for(const[e,n]of St(Xu,this)){const i=t.querySelector('[data-annotation-id="'.concat(e,'"]'));if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}St(Xu,this).clear()}const Zu=/\r\n?|\n/g;var th=new WeakMap,eh=new WeakMap,nh=new WeakMap,ih=new WeakMap,rh=new WeakMap,sh=new WeakMap,ah=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakSet;class hh extends Fs{static get _keyboardManager(){const t=hh.prototype,e=t=>t.isEmpty(),n=Ir.TRANSLATE_SMALL,i=Ir.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Ni([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}constructor(t){super({...t,name:"freeTextEditor"}),yt(this,uh),_t(this,th,this.editorDivBlur.bind(this)),_t(this,eh,this.editorDivFocus.bind(this)),_t(this,nh,this.editorDivInput.bind(this)),_t(this,ih,this.editorDivKeydown.bind(this)),_t(this,rh,this.editorDivPaste.bind(this)),_t(this,sh,void 0),_t(this,ah,""),_t(this,oh,"".concat(this.id,"-editor")),_t(this,lh,void 0),_t(this,ch,null),kt(sh,this,t.color||hh._defaultColor||Fs._defaultLineColor),kt(lh,this,t.fontSize||hh._defaultFontSize)}static initialize(t,e){Fs.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Vt.FREETEXT_SIZE:hh._defaultFontSize=e;break;case Vt.FREETEXT_COLOR:hh._defaultColor=e}}updateParams(t,e){switch(t){case Vt.FREETEXT_SIZE:xt(uh,this,dh).call(this,e);break;case Vt.FREETEXT_COLOR:xt(uh,this,ph).call(this,e)}}static get defaultPropertiesToUpdate(){return[[Vt.FREETEXT_SIZE,hh._defaultFontSize],[Vt.FREETEXT_COLOR,hh._defaultColor||Fs._defaultLineColor]]}get propertiesToUpdate(){return[[Vt.FREETEXT_SIZE,St(lh,this)],[Vt.FREETEXT_COLOR,St(sh,this)]]}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-hh._internalPadding*t,-(hh._internalPadding+St(lh,this))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Ht.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",St(ih,this)),this.editorDiv.addEventListener("focus",St(eh,this)),this.editorDiv.addEventListener("blur",St(th,this)),this.editorDiv.addEventListener("input",St(nh,this)),this.editorDiv.addEventListener("paste",St(rh,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",St(oh,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",St(ih,this)),this.editorDiv.removeEventListener("focus",St(eh,this)),this.editorDiv.removeEventListener("blur",St(th,this)),this.editorDiv.removeEventListener("input",St(nh,this)),this.editorDiv.removeEventListener("paste",St(rh,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=St(ah,this),e=kt(ah,this,xt(uh,this,fh).call(this).trimEnd());if(t===e)return;const n=t=>{kt(ah,this,t),t?(xt(uh,this,vh).call(this),this._uiManager.rebuild(this),xt(uh,this,gh).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),xt(uh,this,gh).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){hh._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",St(oh,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Fs._l10nPromise.get("pdfjs-free-text-default-content").then((t=>{var e;return null===(e=this.editorDiv)||void 0===e?void 0:e.setAttribute("default-content",t)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(St(lh,this),"px * var(--scale-factor))"),n.color=St(sh,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),wi(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=St(ch,this);let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let h,d;switch(this.rotation){case 0:h=t+(r[0]-c)/o,d=e+this.height-(r[1]-u)/l;break;case 90:h=t+(r[0]-c)/o,d=e-(r[1]-u)/l,[s,a]=[a,-s];break;case 180:h=t-this.width+(r[0]-c)/o,d=e-(r[1]-u)/l,[s,a]=[-s,-a];break;case 270:h=t+(r[0]-c-this.height*l)/o,d=e+(r[1]-u-this.width*o)/l,[s,a]=[-a,s]}this.setAt(h*n,d*i,s,a)}else this.setAt(t*n,e*i,this.width*n,this.height*i);xt(uh,this,vh).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=yh.call(hh,e.getData("text")||"").replaceAll(Zu,"\n");if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!i.includes("\n"))return s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void r.collapseToStart();const{startContainer:a,startOffset:o}=s,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const t=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(Zu,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(mh.call(hh,n)):e=c}l.push(a.nodeValue.slice(0,o).replaceAll(Zu,""))}else if(a===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push(mh.call(hh,n))}kt(ah,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),xt(uh,this,vh).call(this);const u=new Range;let h=l.reduce(((t,e)=>t+e.length),0);for(const{firstChild:d}of this.editorDiv.childNodes)if(d.nodeType===Node.TEXT_NODE){const t=d.nodeValue.length;if(h<=t){u.setStart(d,h),u.setEnd(d,h);break}h-=t}r.removeAllRanges(),r.addRange(u)}get contentDiv(){return this.editorDiv}static deserialize(t,e,n){let i=null;if(t instanceof ku){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:r,rotation:s,id:a},textContent:o,textPosition:l,parent:{page:{pageNumber:c}}}=t;if(!o||0===o.length)return null;i=t={annotationType:Ht.FREETEXT,color:Array.from(n),fontSize:e,value:o.join("\n"),position:l,pageIndex:c-1,rect:r.slice(0),rotation:s,id:a,deleted:!1}}const r=super.deserialize(t,e,n);return kt(lh,r,t.fontSize),kt(sh,r,Xe.makeHexColor(...t.color)),kt(ah,r,yh.call(hh,t.value)),r.annotationElementId=t.id||null,kt(ch,r,i),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=hh._internalPadding*this.parentScale,n=this.getRect(e,e),i=Fs._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:St(sh,this)),r={annotationType:Ht.FREETEXT,color:i,fontSize:St(lh,this),value:xt(uh,this,bh).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?r:this.annotationElementId&&!xt(uh,this,_h).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize="calc(".concat(St(lh,this),"px * var(--scale-factor))"),n.color=St(sh,this),e.replaceChildren();for(const r of St(ah,this).split("\n")){const t=document.createElement("div");t.append(r?document.createTextNode(r):document.createElement("br")),e.append(t)}const i=hh._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:St(ah,this)}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function dh(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))"),this.translate(0,-(t-St(lh,this))*this.parentScale),kt(lh,this,t),xt(uh,this,gh).call(this)},n=St(lh,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function ph(t){const e=t=>{kt(sh,this,this.editorDiv.style.color=t)},n=St(sh,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function fh(){const t=[];this.editorDiv.normalize();for(const e of this.editorDiv.childNodes)t.push(mh.call(ct,e));return t.join("\n")}function gh(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,r=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",r)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function mh(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Zu,"")}function vh(){if(this.editorDiv.replaceChildren(),St(ah,this))for(const t of St(ah,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function bh(){return St(ah,this).replaceAll("\xa0"," ")}function yh(t){return t.replaceAll(" ","\xa0")}function _h(t){const{value:e,fontSize:n,color:i,pageIndex:r}=St(ch,this);return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==r}ct=hh,At(hh,"_freeTextDefaultContent",""),At(hh,"_internalPadding",0),At(hh,"_defaultColor",null),At(hh,"_defaultFontSize",10),At(hh,"_type","freetext"),At(hh,"_editorType",Ht.FREETEXT);var xh=new WeakMap,wh=new WeakMap,Sh=new WeakMap,kh=new WeakSet;class Eh{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];yt(this,kh),_t(this,xh,void 0),_t(this,wh,[]),_t(this,Sh,[]);let r=1/0,s=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:b}of t){const t=Math.floor((g-e)/l)*l,n=Math.ceil((g+v+e)/l)*l,i=Math.floor((m-e)/l)*l,c=Math.ceil((m+b+e)/l)*l,u=[t,i,c,!0],h=[n,i,c,!1];St(wh,this).push(u,h),r=Math.min(r,t),s=Math.max(s,n),a=Math.min(a,i),o=Math.max(o,c)}const c=s-r+2*n,u=o-a+2*n,h=r-n,d=a-n,p=St(wh,this).at(i?-1:-2),f=[p[0],p[2]];for(const g of St(wh,this)){const[t,e,n]=g;g[0]=(t-h)/c,g[1]=(e-d)/u,g[2]=(n-d)/u}kt(xh,this,{x:h,y:d,width:c,height:u,lastPoint:f})}getOutlines(){St(wh,this).sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of St(wh,this))e[3]?(t.push(...xt(kh,this,Th).call(this,e)),xt(kh,this,Ph).call(this,e)):(xt(kh,this,Mh).call(this,e),t.push(...xt(kh,this,Th).call(this,e)));return xt(kh,this,Ch).call(this,t)}}function Ch(t){const e=[],n=new Set;for(const s of t){const[t,n,i]=s;e.push([t,n,s],[t,i,s])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let s=0,a=e.length;s<a;s+=2){const t=e[s][2],i=e[s+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let r;for(;n.size>0;){const t=n.values().next().value;let[e,s,a,o,l]=t;n.delete(t);let c=e,u=s;for(r=[e,a],i.push(r);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,s,a,o,l]=t,c!==e&&(r.push(c,u,e,u===s?s:a),c=e),u=u===s?a:s}r.push(c,u)}return new Lh(i,St(xh,this))}function Ah(t){const e=St(Sh,this);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,s=e[r][0];if(s===t)return r;s<t?n=r+1:i=r-1}return i+1}function Ph(t){let[,e,n]=t;const i=xt(kh,this,Ah).call(this,e);St(Sh,this).splice(i,0,[e,n])}function Mh(t){let[,e,n]=t;const i=xt(kh,this,Ah).call(this,e);for(let r=i;r<St(Sh,this).length;r++){const[t,i]=St(Sh,this)[r];if(t!==e)break;if(t===e&&i===n)return void St(Sh,this).splice(r,1)}for(let r=i-1;r>=0;r--){const[t,i]=St(Sh,this)[r];if(t!==e)break;if(t===e&&i===n)return void St(Sh,this).splice(r,1)}}function Th(t){const[e,n,i]=t,r=[[e,n,i]],s=xt(kh,this,Ah).call(this,i);for(let a=0;a<s;a++){const[t,n]=St(Sh,this)[a];for(let i=0,s=r.length;i<s;i++){const[,a,o]=r[i];if(!(n<=a||o<=t))if(a>=t)if(o>n)r[i][1]=n;else{if(1===s)return[];r.splice(i,1),i--,s--}else r[i][2]=t,o>n&&r.push([e,n,o])}}return r}class Rh{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof od}}var Fh=new WeakMap,Ih=new WeakMap;class Lh extends Rh{constructor(t,e){super(),_t(this,Fh,void 0),_t(this,Ih,void 0),kt(Ih,this,t),kt(Fh,this,e)}toSVGPath(){const t=[];for(const e of St(Ih,this)){let[n,i]=e;t.push("M".concat(n," ").concat(i));for(let r=2;r<e.length;r+=2){const s=e[r],a=e[r+1];s===n?(t.push("V".concat(a)),i=a):a===i&&(t.push("H".concat(s)),n=s)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,r,s]=t;const a=[],o=r-n,l=s-i;for(const c of St(Ih,this)){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=s-c[e+1]*l;a.push(t)}return a}get box(){return St(Fh,this)}}var Dh=new WeakMap,Oh=new WeakMap,Nh=new WeakMap,jh=new WeakMap,zh=new WeakMap,Bh=new WeakMap,Wh=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,Uh=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Xh=new WeakMap,Kh=new WeakSet;class Yh{constructor(t,e,n,i,r){let{x:s,y:a}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;yt(this,Kh),_t(this,Dh,void 0),_t(this,Oh,[]),_t(this,Nh,void 0),_t(this,jh,void 0),_t(this,zh,[]),_t(this,Bh,new Float64Array(18)),_t(this,Wh,void 0),_t(this,Hh,void 0),_t(this,Vh,void 0),_t(this,Uh,void 0),_t(this,Gh,void 0),_t(this,qh,void 0),_t(this,Xh,[]),kt(Dh,this,e),kt(qh,this,i*n),kt(jh,this,r),St(Bh,this).set([NaN,NaN,NaN,NaN,s,a],6),kt(Nh,this,o),kt(Uh,this,Jh._*n),kt(Vh,this,$h._*n),kt(Gh,this,n),St(Xh,this).push(s,a)}get free(){return!0}isEmpty(){return isNaN(St(Bh,this)[8])}add(t){var e;let{x:n,y:i}=t;kt(Wh,this,n),kt(Hh,this,i);const[r,s,a,o]=St(Dh,this);let[l,c,u,h]=St(Bh,this).subarray(8,12);const d=n-u,p=i-h,f=Math.hypot(d,p);if(f<St(Vh,this))return!1;const g=f-St(Uh,this),m=g/f,v=m*d,b=m*p;let y=l,_=c;l=u,c=h,u+=v,h+=b,null===(e=St(Xh,this))||void 0===e||e.push(n,i);const x=v/g,w=-b/g*St(qh,this),S=x*St(qh,this);if(St(Bh,this).set(St(Bh,this).subarray(2,8),0),St(Bh,this).set([u+w,h+S],4),St(Bh,this).set(St(Bh,this).subarray(14,18),12),St(Bh,this).set([u-w,h-S],16),isNaN(St(Bh,this)[6]))return 0===St(zh,this).length&&(St(Bh,this).set([l+w,c+S],2),St(zh,this).push(NaN,NaN,NaN,NaN,(l+w-r)/a,(c+S-s)/o),St(Bh,this).set([l-w,c-S],14),St(Oh,this).push(NaN,NaN,NaN,NaN,(l-w-r)/a,(c-S-s)/o)),St(Bh,this).set([y,_,l,c,u,h],6),!this.isEmpty();St(Bh,this).set([y,_,l,c,u,h],6);return Math.abs(Math.atan2(_-c,y-l)-Math.atan2(b,v))<Math.PI/2?([l,c,u,h]=St(Bh,this).subarray(2,6),St(zh,this).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/a,((c+h)/2-s)/o),[l,c,y,_]=St(Bh,this).subarray(14,18),St(Oh,this).push(NaN,NaN,NaN,NaN,((y+l)/2-r)/a,((_+c)/2-s)/o),!0):([y,_,l,c,u,h]=St(Bh,this).subarray(0,6),St(zh,this).push(((y+5*l)/6-r)/a,((_+5*c)/6-s)/o,((5*l+u)/6-r)/a,((5*c+h)/6-s)/o,((l+u)/2-r)/a,((c+h)/2-s)/o),[u,h,l,c,y,_]=St(Bh,this).subarray(12,18),St(Oh,this).push(((y+5*l)/6-r)/a,((_+5*c)/6-s)/o,((5*l+u)/6-r)/a,((5*c+h)/6-s)/o,((l+u)/2-r)/a,((c+h)/2-s)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const t=St(zh,this),e=St(Oh,this),n=St(Bh,this).subarray(4,6),i=St(Bh,this).subarray(16,18),[r,s,a,o]=St(Dh,this),[l,c,u,h]=xt(Kh,this,Qh).call(this);if(isNaN(St(Bh,this)[6])&&!this.isEmpty())return"M".concat((St(Bh,this)[2]-r)/a," ").concat((St(Bh,this)[3]-s)/o," L").concat((St(Bh,this)[4]-r)/a," ").concat((St(Bh,this)[5]-s)/o," L").concat(l," ").concat(c," L").concat(u," ").concat(h," L").concat((St(Bh,this)[16]-r)/a," ").concat((St(Bh,this)[17]-s)/o," L").concat((St(Bh,this)[14]-r)/a," ").concat((St(Bh,this)[15]-s)/o," Z");const d=[];d.push("M".concat(t[4]," ").concat(t[5]));for(let p=6;p<t.length;p+=6)isNaN(t[p])?d.push("L".concat(t[p+4]," ").concat(t[p+5])):d.push("C".concat(t[p]," ").concat(t[p+1]," ").concat(t[p+2]," ").concat(t[p+3]," ").concat(t[p+4]," ").concat(t[p+5]));d.push("L".concat((n[0]-r)/a," ").concat((n[1]-s)/o," L").concat(l," ").concat(c," L").concat(u," ").concat(h," L").concat((i[0]-r)/a," ").concat((i[1]-s)/o));for(let p=e.length-6;p>=6;p-=6)isNaN(e[p])?d.push("L".concat(e[p+4]," ").concat(e[p+5])):d.push("C".concat(e[p]," ").concat(e[p+1]," ").concat(e[p+2]," ").concat(e[p+3]," ").concat(e[p+4]," ").concat(e[p+5]));return d.push("L".concat(e[4]," ").concat(e[5]," Z")),d.join(" ")}getOutlines(){var t,e;const n=St(zh,this),i=St(Oh,this),r=St(Bh,this),s=r.subarray(4,6),a=r.subarray(16,18),[o,l,c,u]=St(Dh,this),h=new Float64Array((null!==(t=null===(e=St(Xh,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let b=0,y=h.length-2;b<y;b+=2)h[b]=(St(Xh,this)[b]-o)/c,h[b+1]=(St(Xh,this)[b+1]-l)/u;h[h.length-2]=(St(Wh,this)-o)/c,h[h.length-1]=(St(Hh,this)-l)/u;const[d,p,f,g]=xt(Kh,this,Qh).call(this);if(isNaN(r[6])&&!this.isEmpty()){const t=new Float64Array(36);return t.set([NaN,NaN,NaN,NaN,(r[2]-o)/c,(r[3]-l)/u,NaN,NaN,NaN,NaN,(r[4]-o)/c,(r[5]-l)/u,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(r[16]-o)/c,(r[17]-l)/u,NaN,NaN,NaN,NaN,(r[14]-o)/c,(r[15]-l)/u],0),new od(t,h,St(Dh,this),St(Gh,this),St(Nh,this),St(jh,this))}const m=new Float64Array(St(zh,this).length+24+St(Oh,this).length);let v=n.length;for(let b=0;b<v;b+=2)isNaN(n[b])?m[b]=m[b+1]=NaN:(m[b]=n[b],m[b+1]=n[b+1]);m.set([NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-l)/u,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(a[0]-o)/c,(a[1]-l)/u],v),v+=24;for(let b=i.length-6;b>=6;b-=6)for(let t=0;t<6;t+=2)isNaN(i[b+t])?(m[v]=m[v+1]=NaN,v+=2):(m[v]=i[b+t],m[v+1]=i[b+t+1],v+=2);return m.set([NaN,NaN,NaN,NaN,i[4],i[5]],v),new od(m,h,St(Dh,this),St(Gh,this),St(Nh,this),St(jh,this))}}function Qh(){const t=St(Bh,this).subarray(4,6),e=St(Bh,this).subarray(16,18),[n,i,r,s]=St(Dh,this);return[(St(Wh,this)+(t[0]-e[0])/2-n)/r,(St(Hh,this)+(t[1]-e[1])/2-i)/s,(St(Wh,this)+(e[0]-t[0])/2-n)/r,(St(Hh,this)+(e[1]-t[1])/2-i)/s]}var Jh={_:8},$h={_:Jh._+2},Zh=new WeakMap,td=new WeakMap,ed=new WeakMap,nd=new WeakMap,id=new WeakMap,rd=new WeakMap,sd=new WeakMap,ad=new WeakSet;class od extends Rh{constructor(t,e,n,i,r,s){super(),yt(this,ad),_t(this,Zh,void 0),_t(this,td,null),_t(this,ed,void 0),_t(this,nd,void 0),_t(this,id,void 0),_t(this,rd,void 0),_t(this,sd,void 0),kt(sd,this,t),kt(id,this,e),kt(Zh,this,n),kt(rd,this,i),kt(ed,this,r),kt(nd,this,s),xt(ad,this,ud).call(this,s);const{x:a,y:o,width:l,height:c}=St(td,this);for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-a)/l,t[u+1]=(t[u+1]-o)/c;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-a)/l,e[u+1]=(e[u+1]-o)/c}toSVGPath(){const t=["M".concat(St(sd,this)[4]," ").concat(St(sd,this)[5])];for(let e=6,n=St(sd,this).length;e<n;e+=6)isNaN(St(sd,this)[e])?t.push("L".concat(St(sd,this)[e+4]," ").concat(St(sd,this)[e+5])):t.push("C".concat(St(sd,this)[e]," ").concat(St(sd,this)[e+1]," ").concat(St(sd,this)[e+2]," ").concat(St(sd,this)[e+3]," ").concat(St(sd,this)[e+4]," ").concat(St(sd,this)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,r,s]=t;const a=r-n,o=s-i;let l,c;switch(e){case 0:l=xt(ad,this,ld).call(this,St(sd,this),n,s,a,-o),c=xt(ad,this,ld).call(this,St(id,this),n,s,a,-o);break;case 90:l=xt(ad,this,cd).call(this,St(sd,this),n,i,a,o),c=xt(ad,this,cd).call(this,St(id,this),n,i,a,o);break;case 180:l=xt(ad,this,ld).call(this,St(sd,this),r,i,-a,o),c=xt(ad,this,ld).call(this,St(id,this),r,i,-a,o);break;case 270:l=xt(ad,this,cd).call(this,St(sd,this),r,s,-a,-o),c=xt(ad,this,cd).call(this,St(id,this),r,s,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return St(td,this)}getNewOutline(t,e){const{x:n,y:i,width:r,height:s}=St(td,this),[a,o,l,c]=St(Zh,this),u=r*l,h=s*c,d=n*l+a,p=i*c+o,f=new Yh({x:St(id,this)[0]*u+d,y:St(id,this)[1]*h+p},St(Zh,this),St(rd,this),t,St(nd,this),null!==e&&void 0!==e?e:St(ed,this));for(let g=2;g<St(id,this).length;g+=2)f.add({x:St(id,this)[g]*u+d,y:St(id,this)[g+1]*h+p});return f.getOutlines()}}function ld(t,e,n,i,r){const s=new Float64Array(t.length);for(let a=0,o=t.length;a<o;a+=2)s[a]=e+t[a]*i,s[a+1]=n+t[a+1]*r;return s}function cd(t,e,n,i,r){const s=new Float64Array(t.length);for(let a=0,o=t.length;a<o;a+=2)s[a]=e+t[a+1]*i,s[a+1]=n+t[a]*r;return s}function ud(t){const e=St(sd,this);let n=e[4],i=e[5],r=n,s=i,a=n,o=i,l=n,c=i;const u=t?Math.max:Math.min;for(let g=6,m=e.length;g<m;g+=6){if(isNaN(e[g]))r=Math.min(r,e[g+4]),s=Math.min(s,e[g+5]),a=Math.max(a,e[g+4]),o=Math.max(o,e[g+5]),c<e[g+5]?(l=e[g+4],c=e[g+5]):c===e[g+5]&&(l=u(l,e[g+4]));else{const t=Xe.bezierBoundingBox(n,i,...e.slice(g,g+6));r=Math.min(r,t[0]),s=Math.min(s,t[1]),a=Math.max(a,t[2]),o=Math.max(o,t[3]),c<t[3]?(l=t[2],c=t[3]):c===t[3]&&(l=u(l,t[2]))}n=e[g+4],i=e[g+5]}const h=r-St(ed,this),d=s-St(ed,this),p=a-r+2*St(ed,this),f=o-s+2*St(ed,this);kt(td,this,{x:h,y:d,width:p,height:f,lastPoint:[l,c]})}var hd=new WeakMap,dd=new WeakMap,pd=new WeakMap,fd=new WeakMap,gd=new WeakMap,md=new WeakMap,vd=new WeakMap,bd=new WeakMap,yd=new WeakMap,_d=new WeakMap,xd=new WeakMap,wd=new WeakMap,Sd=new WeakSet;class kd{static get _keyboardManager(){return Ie(this,"_keyboardManager",new Ni([[["Escape","mac+Escape"],kd.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],kd.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],kd.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],kd.prototype._moveToPrevious],[["Home","mac+Home"],kd.prototype._moveToBeginning],[["End","mac+End"],kd.prototype._moveToEnd]]))}constructor(t){var e;let{editor:n=null,uiManager:i=null}=t;yt(this,Sd),_t(this,hd,xt(Sd,this,Ad).bind(this)),_t(this,dd,xt(Sd,this,Md).bind(this)),_t(this,pd,null),_t(this,fd,null),_t(this,gd,void 0),_t(this,md,null),_t(this,vd,!1),_t(this,bd,!1),_t(this,yd,null),_t(this,_d,void 0),_t(this,xd,null),_t(this,wd,void 0),n?(kt(bd,this,!1),kt(wd,this,Vt.HIGHLIGHT_COLOR),kt(yd,this,n)):(kt(bd,this,!0),kt(wd,this,Vt.HIGHLIGHT_DEFAULT_COLOR)),kt(xd,this,(null===n||void 0===n?void 0:n._uiManager)||i),kt(_d,this,St(xd,this)._eventBus),kt(gd,this,(null===n||void 0===n?void 0:n.color)||(null===(e=St(xd,this))||void 0===e?void 0:e.highlightColors.values().next().value)||"#FFFF98")}renderButton(){const t=kt(pd,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0),t.addEventListener("click",xt(Sd,this,Pd).bind(this)),t.addEventListener("keydown",St(hd,this));const e=kt(fd,this,document.createElement("span"));return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=St(gd,this),t.append(e),t}renderMainDropdown(){const t=kt(md,this,xt(Sd,this,Ed).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===St(pd,this))return void xt(Sd,this,Pd).call(this,t);const e=t.target.getAttribute("data-color");e&&xt(Sd,this,Cd).call(this,e,t)}_moveToNext(t){var e,n;wt(Sd,this,Td)?t.target!==St(pd,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=St(md,this).firstChild)||void 0===n||n.focus():xt(Sd,this,Pd).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=St(md,this))||void 0===e?void 0:e.firstChild)&&t.target!==St(pd,this)?(wt(Sd,this,Td)||xt(Sd,this,Pd).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):wt(Sd,this,Td)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;wt(Sd,this,Td)?null===(e=St(md,this).firstChild)||void 0===e||e.focus():xt(Sd,this,Pd).call(this,t)}_moveToEnd(t){var e;wt(Sd,this,Td)?null===(e=St(md,this).lastChild)||void 0===e||e.focus():xt(Sd,this,Pd).call(this,t)}hideDropdown(){var t;null===(t=St(md,this))||void 0===t||t.classList.add("hidden"),window.removeEventListener("pointerdown",St(dd,this))}_hideDropdownFromKeyboard(){var t;St(bd,this)||(wt(Sd,this,Td)?(this.hideDropdown(),St(pd,this).focus({preventScroll:!0,focusVisible:St(vd,this)})):null===(t=St(yd,this))||void 0===t||t.unselect())}updateColor(t){if(St(fd,this)&&(St(fd,this).style.backgroundColor=t),!St(md,this))return;const e=St(xd,this).highlightColors.values();for(const n of St(md,this).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;null===(t=St(pd,this))||void 0===t||t.remove(),kt(pd,this,null),kt(fd,this,null),null===(e=St(md,this))||void 0===e||e.remove(),kt(md,this,null)}}function Ed(){const t=document.createElement("div");t.addEventListener("contextmenu",Xn),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[e,n]of St(xd,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",n),i.title=e,i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-".concat(e));const r=document.createElement("span");i.append(r),r.className="swatch",r.style.backgroundColor=n,i.setAttribute("aria-selected",n===St(gd,this)),i.addEventListener("click",xt(Sd,this,Cd).bind(this,n)),t.append(i)}return t.addEventListener("keydown",St(hd,this)),t}function Cd(t,e){e.stopPropagation(),St(_d,this).dispatch("switchannotationeditorparams",{source:this,type:St(wd,this),value:t})}function Ad(t){ut._keyboardManager.exec(this,t)}function Pd(t){if(wt(Sd,this,Td))return void this.hideDropdown();if(kt(vd,this,0===t.detail),window.addEventListener("pointerdown",St(dd,this)),St(md,this))return void St(md,this).classList.remove("hidden");const e=kt(md,this,xt(Sd,this,Ed).call(this));St(pd,this).append(e)}function Md(t){var e;null!==(e=St(md,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function Td(t){return St(md,t)&&!St(md,t).classList.contains("hidden")}ut=kd;var Rd=new WeakMap,Fd=new WeakMap,Id=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,Od=new WeakMap,Nd=new WeakMap,jd=new WeakMap,zd=new WeakMap,Bd=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,Ud=new WeakMap,Gd=new WeakMap,qd=new WeakMap,Xd=new WeakMap,Kd=new WeakMap,Yd=new WeakMap,Qd=new WeakSet;class Jd extends Fs{static get _keyboardManager(){const t=Jd.prototype;return Ie(this,"_keyboardManager",new Ni([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),yt(this,Qd),_t(this,Rd,null),_t(this,Fd,0),_t(this,Id,void 0),_t(this,Ld,null),_t(this,Dd,null),_t(this,Od,null),_t(this,Nd,null),_t(this,jd,0),_t(this,zd,null),_t(this,Bd,null),_t(this,Wd,null),_t(this,Hd,!1),_t(this,Vd,xt(Qd,this,ap).bind(this)),_t(this,Ud,null),_t(this,Gd,void 0),_t(this,qd,null),_t(this,Xd,""),_t(this,Kd,void 0),_t(this,Yd,""),this.color=t.color||Jd._defaultColor,kt(Kd,this,t.thickness||Jd._defaultThickness),kt(Gd,this,t.opacity||Jd._defaultOpacity),kt(Id,this,t.boxes||null),kt(Yd,this,t.methodOfCreation||""),kt(Xd,this,t.text||""),this._isDraggable=!1,t.highlightId>-1?(kt(Hd,this,!0),xt(Qd,this,Zd).call(this,t),xt(Qd,this,rp).call(this)):(kt(Rd,this,t.anchorNode),kt(Fd,this,t.anchorOffset),kt(Nd,this,t.focusNode),kt(jd,this,t.focusOffset),xt(Qd,this,$d).call(this),xt(Qd,this,rp).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:St(Hd,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:St(Kd,this),methodOfCreation:St(Yd,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;Fs.initialize(t,e),Jd._defaultColor||(Jd._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case Vt.HIGHLIGHT_DEFAULT_COLOR:Jd._defaultColor=e;break;case Vt.HIGHLIGHT_THICKNESS:Jd._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return St(Ud,this)}updateParams(t,e){switch(t){case Vt.HIGHLIGHT_COLOR:xt(Qd,this,tp).call(this,e);break;case Vt.HIGHLIGHT_THICKNESS:xt(Qd,this,ep).call(this,e)}}static get defaultPropertiesToUpdate(){return[[Vt.HIGHLIGHT_DEFAULT_COLOR,Jd._defaultColor],[Vt.HIGHLIGHT_THICKNESS,Jd._defaultThickness]]}get propertiesToUpdate(){return[[Vt.HIGHLIGHT_COLOR,this.color||Jd._defaultColor],[Vt.HIGHLIGHT_THICKNESS,St(Kd,this)||Jd._defaultThickness],[Vt.HIGHLIGHT_FREE,St(Hd,this)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(kt(Dd,this,new kd({editor:this})),t.addColorPicker(St(Dd,this))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(xt(Qd,this,lp).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,xt(Qd,this,lp).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){xt(Qd,this,ip).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(xt(Qd,this,rp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)xt(Qd,this,ip).call(this);else if(t){var n;xt(Qd,this,rp).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;St(Hd,this)?(t=(t-this.rotation+360)%360,n=sp.call(Jd,St(Bd,this).box,t)):n=sp.call(Jd,this,t),e.rotate(St(Wd,this),t),e.rotate(St(qd,this),t),e.updateBox(St(Wd,this),n),e.updateBox(St(qd,this),sp.call(Jd,St(Od,this).box,t))}render(){if(this.div)return this.div;const t=super.render();St(Xd,this)&&(t.setAttribute("aria-label",St(Xd,this)),t.setAttribute("role","mark")),St(Hd,this)?t.classList.add("free"):this.div.addEventListener("keydown",St(Vd,this));const e=kt(zd,this,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=St(Ld,this);const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),wi(this,St(zd,this),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(St(qd,this),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(St(qd,this),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:xt(Qd,this,op).call(this,!0);break;case 1:case 3:xt(Qd,this,op).call(this,!1)}}select(){var t,e;super.select(),St(qd,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(St(qd,this),"hovered"),null===(e=this.parent)||void 0===e||e.drawLayer.addClass(St(qd,this),"selected"))}unselect(){var t;super.unselect(),St(qd,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(St(qd,this),"selected"),St(Hd,this)||xt(Qd,this,op).call(this,!1))}get _mustFixPosition(){return!St(Hd,this)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.show(St(Wd,this),t),this.parent.drawLayer.show(St(qd,this),t))}static startHighlighting(t,e,n){let{target:i,x:r,y:s}=n;const{x:a,y:o,width:l,height:c}=i.getBoundingClientRect(),u=e=>{xt(Jd,this,hp).call(this,t,e)},h={capture:!0,passive:!1},d=t=>{t.preventDefault(),t.stopPropagation()},p=e=>{i.removeEventListener("pointermove",u),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",d,h),window.removeEventListener("contextmenu",Xn),xt(Jd,this,dp).call(this,t,e)};window.addEventListener("blur",p),window.addEventListener("pointerup",p),window.addEventListener("pointerdown",d,h),window.addEventListener("contextmenu",Xn),i.addEventListener("pointermove",u),this._freeHighlight=new Yh({x:r,y:s},[a,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static deserialize(t,e,n){const i=super.deserialize(t,e,n),{rect:[r,s,a,o],color:l,quadPoints:c}=t;i.color=Xe.makeHexColor(...l),kt(Gd,i,t.opacity);const[u,h]=i.pageDimensions;i.width=(a-r)/u,i.height=(o-s)/h;const d=kt(Id,i,[]);for(let p=0;p<c.length;p+=8)d.push({x:(c[4]-a)/u,y:(o-(1-c[p+5]))/h,width:(c[p+2]-c[p])/u,height:(c[p+5]-c[p+1])/h});return xt(Qd,i,$d).call(i),i}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;const e=this.getRect(0,0),n=Fs._colorManager.convert(this.color);return{annotationType:Ht.HIGHLIGHT,color:n,opacity:St(Gd,this),thickness:St(Kd,this),quadPoints:xt(Qd,this,cp).call(this),outlines:xt(Qd,this,up).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:xt(Qd,this,lp).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}function $d(){const t=new Eh(St(Id,this),.001);kt(Bd,this,t.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=St(Bd,this).box);const e=new Eh(St(Id,this),.0025,.001,"ltr"===this._uiManager.direction);kt(Od,this,e.getOutlines());const{lastPoint:n}=St(Od,this).box;kt(Ud,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function Zd(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;kt(Bd,this,e);if(kt(Od,this,e.getNewOutline(St(Kd,this)/2+1.5,.0025)),n>=0)kt(Wd,this,n),kt(Ld,this,i),this.parent.drawLayer.finalizeLine(n,e),kt(qd,this,this.parent.drawLayer.highlightOutline(St(Od,this)));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(St(Wd,this),e),this.parent.drawLayer.updateBox(St(Wd,this),sp.call(ht,St(Bd,this).box,(t-this.rotation+360)%360)),this.parent.drawLayer.updateLine(St(qd,this),St(Od,this)),this.parent.drawLayer.updateBox(St(qd,this),sp.call(ht,St(Od,this).box,t))}const{x:r,y:s,width:a,height:o}=e.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=a,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=s,this.y=1-r,this.width=a*e/t,this.height=o*t/e;break}case 180:this.x=1-r,this.y=1-s,this.width=a,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-s,this.y=r,this.width=a*e/t,this.height=o*t/e;break}}const{lastPoint:l}=St(Od,this).box;kt(Ud,this,[(l[0]-r)/a,(l[1]-s)/o])}function tp(t){const e=t=>{var e,n;this.color=t,null===(e=this.parent)||void 0===e||e.drawLayer.changeColor(St(Wd,this),t),null===(n=St(Dd,this))||void 0===n||n.updateColor(t)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}function ep(t){const e=St(Kd,this),n=t=>{kt(Kd,this,t),xt(Qd,this,np).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function np(t){if(!St(Hd,this))return;xt(Qd,this,Zd).call(this,{highlightOutlines:St(Bd,this).getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}function ip(){null!==St(Wd,this)&&this.parent&&(this.parent.drawLayer.remove(St(Wd,this)),kt(Wd,this,null),this.parent.drawLayer.remove(St(qd,this)),kt(qd,this,null))}function rp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===St(Wd,this)&&(({id:vt(kt,[Wd,this])._,clipPathId:vt(kt,[Ld,this])._}=t.drawLayer.highlight(St(Bd,this),this.color,St(Gd,this))),kt(qd,this,t.drawLayer.highlightOutline(St(Od,this))),St(zd,this)&&(St(zd,this).style.clipPath=St(Ld,this)))}function sp(t,e){let{x:n,y:i,width:r,height:s}=t;switch(e){case 90:return{x:1-i-s,y:n,width:s,height:r};case 180:return{x:1-n-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-n-r,width:s,height:r}}return{x:n,y:i,width:r,height:s}}function ap(t){ht._keyboardManager.exec(this,t)}function op(t){if(!St(Rd,this))return;const e=window.getSelection();t?e.setPosition(St(Rd,this),St(Fd,this)):e.setPosition(St(Nd,this),St(jd,this))}function lp(){return St(Hd,this)?this.rotation:0}function cp(){if(St(Hd,this))return null;const[t,e]=this.pageDimensions,n=St(Id,this),i=new Array(8*n.length);let r=0;for(const{x:s,y:a,width:o,height:l}of n){const n=s*t,c=(1-a-l)*e;i[r]=i[r+4]=n,i[r+1]=i[r+3]=c,i[r+2]=i[r+6]=n+o*t,i[r+5]=i[r+7]=c+l*e,r+=8}return i}function up(t){return St(Bd,this).serialize(t,xt(Qd,this,lp).call(this))}function hp(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function dp(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}ht=Jd,At(Jd,"_defaultColor",null),At(Jd,"_defaultOpacity",1),At(Jd,"_defaultThickness",12),At(Jd,"_l10nPromise",void 0),At(Jd,"_type","highlight"),At(Jd,"_editorType",Ht.HIGHLIGHT),At(Jd,"_freeHighlightId",-1),At(Jd,"_freeHighlight",null),At(Jd,"_freeHighlightClipId","");var pp=new WeakMap,fp=new WeakMap,gp=new WeakMap,mp=new WeakMap,vp=new WeakMap,bp=new WeakMap,yp=new WeakMap,_p=new WeakMap,xp=new WeakMap,wp=new WeakMap,Sp=new WeakMap,kp=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,Ap=new WeakMap,Pp=new WeakSet;class Mp extends Fs{constructor(t){super({...t,name:"inkEditor"}),yt(this,Pp),_t(this,pp,0),_t(this,fp,0),_t(this,gp,this.canvasPointermove.bind(this)),_t(this,mp,this.canvasPointerleave.bind(this)),_t(this,vp,this.canvasPointerup.bind(this)),_t(this,bp,this.canvasPointerdown.bind(this)),_t(this,yp,null),_t(this,_p,new Path2D),_t(this,xp,!1),_t(this,wp,!1),_t(this,Sp,!1),_t(this,kp,null),_t(this,Ep,0),_t(this,Cp,0),_t(this,Ap,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){Fs.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case Vt.INK_THICKNESS:Mp._defaultThickness=e;break;case Vt.INK_COLOR:Mp._defaultColor=e;break;case Vt.INK_OPACITY:Mp._defaultOpacity=e/100}}updateParams(t,e){switch(t){case Vt.INK_THICKNESS:xt(Pp,this,Tp).call(this,e);break;case Vt.INK_COLOR:xt(Pp,this,Rp).call(this,e);break;case Vt.INK_OPACITY:xt(Pp,this,Fp).call(this,e)}}static get defaultPropertiesToUpdate(){return[[Vt.INK_THICKNESS,Mp._defaultThickness],[Vt.INK_COLOR,Mp._defaultColor||Fs._defaultLineColor],[Vt.INK_OPACITY,Math.round(100*Mp._defaultOpacity)]]}get propertiesToUpdate(){var t;return[[Vt.INK_THICKNESS,this.thickness||Mp._defaultThickness],[Vt.INK_COLOR,this.color||Mp._defaultColor||Fs._defaultLineColor],[Vt.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:Mp._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(xt(Pp,this,Up).call(this),xt(Pp,this,Gp).call(this)),this.isAttachedToDOM||(this.parent.add(this),xt(Pp,this,qp).call(this)),xt(Pp,this,ef).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,St(yp,this)&&(clearTimeout(St(yp,this)),kt(yp,this,null)),St(kp,this).disconnect(),kt(kp,this,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,n=this.width*t,i=this.height*e;this.setDimensions(n,i)}enableEditMode(){St(xp,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",St(bp,this)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",St(bp,this)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){St(xp,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),kt(xp,this,!0),this.div.classList.add("disabled"),xt(Pp,this,ef).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!St(xp,this)&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),xt(Pp,this,Dp).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),xt(Pp,this,Op).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),xt(Pp,this,Vp).call(this,t)}canvasPointerleave(t){xt(Pp,this,Vp).call(this,t)}get isResizable(){return!this.isEmpty()&&St(xp,this)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,r,s]=xt(Pp,this,Ip).call(this);if(this.setAt(n,i,0,0),this.setDims(r,s),xt(Pp,this,Up).call(this),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(t*n,e*i,this.width*n,this.height*i),kt(Sp,this,!0),xt(Pp,this,qp).call(this),this.setDims(this.width*n,this.height*i),xt(Pp,this,Hp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return xt(Pp,this,Gp).call(this),this.div}setDimensions(t,e){const n=Math.round(t),i=Math.round(e);if(St(Ep,this)===n&&St(Cp,this)===i)return;kt(Ep,this,n),kt(Cp,this,i),this.canvas.style.visibility="hidden";const[r,s]=this.parentDimensions;this.width=t/r,this.height=e/s,this.fixAndSetPosition(),St(xp,this)&&xt(Pp,this,Xp).call(this,t,e),xt(Pp,this,qp).call(this),xt(Pp,this,Hp).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,e,n){if(t instanceof Ou)return null;const i=super.deserialize(t,e,n);i.thickness=t.thickness,i.color=Xe.makeHexColor(...t.color),i.opacity=t.opacity;const[r,s]=i.pageDimensions,a=i.width*r,o=i.height*s,l=i.parentScale,c=t.thickness/2;kt(xp,i,!0),kt(Ep,i,Math.round(a)),kt(Cp,i,Math.round(o));const{paths:u,rect:h,rotation:d}=t;for(let{bezier:f}of u){f=Jp.call(Mp,f,h,d);const t=[];i.paths.push(t);let e=l*(f[0]-c),n=l*(f[1]-c);for(let i=2,s=f.length;i<s;i+=6){const r=l*(f[i]-c),s=l*(f[i+1]-c),a=l*(f[i+2]-c),o=l*(f[i+3]-c),u=l*(f[i+4]-c),h=l*(f[i+5]-c);t.push([[e,n],[r,s],[a,o],[u,h]]),e=u,n=h}const r=xt(Mp,this,Yp).call(this,t);i.bezierPath2D.push(r)}const p=xt(Pp,i,Zp).call(i);return kt(fp,i,Math.max(Fs.MIN_SIZE,p[2]-p[0])),kt(pp,i,Math.max(Fs.MIN_SIZE,p[3]-p[1])),xt(Pp,i,Xp).call(i,a,o),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=Fs._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ht.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:xt(Pp,this,$p).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Tp(t){const e=t=>{this.thickness=t,xt(Pp,this,ef).call(this)},n=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Rp(t){const e=t=>{this.color=t,xt(Pp,this,Hp).call(this)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Fp(t){const e=t=>{this.opacity=t,xt(Pp,this,Hp).call(this)};t/=100;const n=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Ip(){const{parentRotation:t,parentDimensions:[e,n]}=this;switch(t){case 90:return[0,n,n,e];case 180:return[e,n,e,n];case 270:return[e,0,n,e];default:return[0,0,e,n]}}function Lp(){const{ctx:t,color:e,opacity:n,thickness:i,parentScale:r,scaleFactor:s}=this;t.lineWidth=i*r/s,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle="".concat(e).concat(function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(n))}function Dp(t,e){var n;(this.canvas.addEventListener("contextmenu",Xn),this.canvas.addEventListener("pointerleave",St(mp,this)),this.canvas.addEventListener("pointermove",St(gp,this)),this.canvas.addEventListener("pointerup",St(vp,this)),this.canvas.removeEventListener("pointerdown",St(bp,this)),this.isEditing=!0,St(Sp,this))||(kt(Sp,this,!0),xt(Pp,this,qp).call(this),this.thickness||(this.thickness=dt._defaultThickness),this.color||(this.color=dt._defaultColor||Fs._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=dt._defaultOpacity));this.currentPath.push([t,e]),kt(wp,this,!1),xt(Pp,this,Lp).call(this),kt(Ap,this,(()=>{xt(Pp,this,zp).call(this),St(Ap,this)&&window.requestAnimationFrame(St(Ap,this))})),window.requestAnimationFrame(St(Ap,this))}function Op(t,e){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===n&&e===i)return;const r=this.currentPath;let s=St(_p,this);if(r.push([t,e]),kt(wp,this,!0),r.length<=2)return s.moveTo(...r[0]),void s.lineTo(t,e);3===r.length&&(kt(_p,this,s=new Path2D),s.moveTo(...r[0])),xt(Pp,this,Bp).call(this,s,...r.at(-3),...r.at(-2),t,e)}function Np(){if(0===this.currentPath.length)return;const t=this.currentPath.at(-1);St(_p,this).lineTo(...t)}function jp(t,e){let n;if(kt(Ap,this,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),xt(Pp,this,Op).call(this,t,e),xt(Pp,this,Np).call(this),1!==this.currentPath.length)n=xt(Pp,this,Wp).call(this);else{const i=[t,e];n=[[i,i.slice(),i.slice(),i]]}const i=St(_p,this),r=this.currentPath;this.currentPath=[],kt(_p,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(xt(Pp,this,Up).call(this),xt(Pp,this,Gp).call(this)),xt(Pp,this,ef).call(this))},mustExec:!0})}function zp(){if(!St(wp,this))return;kt(wp,this,!1);const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),n=e.map((t=>t[0])),i=e.map((t=>t[1])),{ctx:r}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)r.stroke(s);r.stroke(St(_p,this)),r.restore()}function Bp(t,e,n,i,r,s,a){const o=(e+i)/2,l=(n+r)/2,c=(i+s)/2,u=(r+a)/2;t.bezierCurveTo(o+2*(i-o)/3,l+2*(r-l)/3,c+2*(i-c)/3,u+2*(r-u)/3,c,u)}function Wp(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let n,[i,r]=t[0];for(n=1;n<t.length-2;n++){const[s,a]=t[n],[o,l]=t[n+1],c=(s+o)/2,u=(a+l)/2,h=[i+2*(s-i)/3,r+2*(a-r)/3],d=[c+2*(s-c)/3,u+2*(a-u)/3];e.push([[i,r],h,d,[c,u]]),[i,r]=[c,u]}const[s,a]=t[n],[o,l]=t[n+1],c=[i+2*(s-i)/3,r+2*(a-r)/3],u=[o+2*(s-o)/3,l+2*(a-l)/3];return e.push([[i,r],c,u,[o,l]]),e}function Hp(){if(this.isEmpty())return void xt(Pp,this,Kp).call(this);xt(Pp,this,Lp).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),xt(Pp,this,Kp).call(this);for(const n of this.bezierPath2D)e.stroke(n)}function Vp(t){this.canvas.removeEventListener("pointerleave",St(mp,this)),this.canvas.removeEventListener("pointermove",St(gp,this)),this.canvas.removeEventListener("pointerup",St(vp,this)),this.canvas.addEventListener("pointerdown",St(bp,this)),St(yp,this)&&clearTimeout(St(yp,this)),kt(yp,this,setTimeout((()=>{kt(yp,this,null),this.canvas.removeEventListener("contextmenu",Xn)}),10)),xt(Pp,this,jp).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function Up(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Gp(){kt(kp,this,new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}))),St(kp,this).observe(this.div)}function qp(){if(!St(Sp,this))return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),xt(Pp,this,Kp).call(this)}function Xp(t,e){const n=xt(Pp,this,tf).call(this),i=(t-n)/St(fp,this),r=(e-n)/St(pp,this);this.scaleFactor=Math.min(i,r)}function Kp(){const t=xt(Pp,this,tf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function Yp(t){const e=new Path2D;for(let n=0,i=t.length;n<i;n++){const[i,r,s,a]=t[n];0===n&&e.moveTo(...i),e.bezierCurveTo(r[0],r[1],s[0],s[1],a[0],a[1])}return e}function Qp(t,e,n){const[i,r,s,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]+=i,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]+i,t[e+1]=n+r}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=s-t[e],t[e+1]+=r;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=s-t[e+1],t[e+1]=a-n}break;default:throw new Error("Invalid rotation")}return t}function Jp(t,e,n){const[i,r,s,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]-=i,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]-r,t[e+1]=n-i}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=s-t[e],t[e+1]-=r;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=a-t[e+1],t[e+1]=s-n}break;default:throw new Error("Invalid rotation")}return t}function $p(t,e,n,i){const r=[],s=this.thickness/2,a=t*e+s,o=t*n+s;for(const l of this.paths){const e=[],n=[];for(let i=0,r=l.length;i<r;i++){const[s,c,u,h]=l[i];if(s[0]===h[0]&&s[1]===h[1]&&1===r){const i=t*s[0]+a,r=t*s[1]+o;e.push(i,r),n.push(i,r);break}const d=t*s[0]+a,p=t*s[1]+o,f=t*c[0]+a,g=t*c[1]+o,m=t*u[0]+a,v=t*u[1]+o,b=t*h[0]+a,y=t*h[1]+o;0===i&&(e.push(d,p),n.push(d,p)),e.push(f,g,m,v,b,y),n.push(f,g),i===r-1&&n.push(b,y)}r.push({bezier:Qp.call(dt,e,i,this.rotation),points:Qp.call(dt,n,i,this.rotation)})}return r}function Zp(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const r of this.paths)for(const[s,a,o,l]of r){const r=Xe.bezierBoundingBox(...s,...a,...o,...l);t=Math.min(t,r[0]),n=Math.min(n,r[1]),e=Math.max(e,r[2]),i=Math.max(i,r[3])}return[t,n,e,i]}function tf(){return St(xp,this)?Math.ceil(this.thickness*this.parentScale):0}function ef(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!St(xp,this))return void xt(Pp,this,Hp).call(this);const e=xt(Pp,this,Zp).call(this),n=xt(Pp,this,tf).call(this);kt(fp,this,Math.max(Fs.MIN_SIZE,e[2]-e[0])),kt(pp,this,Math.max(Fs.MIN_SIZE,e[3]-e[1]));const i=Math.ceil(n+St(fp,this)*this.scaleFactor),r=Math.ceil(n+St(pp,this)*this.scaleFactor),[s,a]=this.parentDimensions;this.width=i/s,this.height=r/a,this.setAspectRatio(i,r);const o=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],xt(Pp,this,qp).call(this),xt(Pp,this,Hp).call(this),kt(Ep,this,i),kt(Cp,this,r),this.setDims(i,r);const c=t?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}dt=Mp,At(Mp,"_defaultColor",null),At(Mp,"_defaultOpacity",1),At(Mp,"_defaultThickness",1),At(Mp,"_type","ink"),At(Mp,"_editorType",Ht.INK);var nf=new WeakMap,rf=new WeakMap,sf=new WeakMap,af=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakMap,uf=new WeakMap,hf=new WeakMap,df=new WeakMap,pf=new WeakMap,ff=new WeakSet;class gf extends Fs{constructor(t){super({...t,name:"stampEditor"}),yt(this,ff),_t(this,nf,null),_t(this,rf,null),_t(this,sf,null),_t(this,af,null),_t(this,of,null),_t(this,lf,""),_t(this,cf,null),_t(this,uf,null),_t(this,hf,null),_t(this,df,!1),_t(this,pf,!1),kt(af,this,t.bitmapUrl),kt(of,this,t.bitmapFile)}static initialize(t,e){Fs.initialize(t,e)}static get supportedTypes(){return Ie(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((t=>"image/".concat(t))))}static get supportedTypesStr(){return Ie(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(Ht.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,e;St(rf,this)&&(kt(nf,this,null),this._uiManager.imageManager.deleteId(St(rf,this)),null===(t=St(cf,this))||void 0===t||t.remove(),kt(cf,this,null),null===(e=St(uf,this))||void 0===e||e.disconnect(),kt(uf,this,null),St(hf,this)&&(clearTimeout(St(hf,this)),kt(hf,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(St(rf,this)&&null===St(cf,this)&&xt(ff,this,bf).call(this),this.isAttachedToDOM||this.parent.add(this))):St(rf,this)&&xt(ff,this,bf).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(St(sf,this)||St(nf,this)||St(af,this)||St(of,this)||St(rf,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),St(nf,this)?xt(ff,this,yf).call(this):xt(ff,this,bf).call(this),this.width){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i)}return this.div}getImageForAltText(){return St(cf,this)}static deserialize(t,e,n){if(t instanceof Wu)return null;const i=super.deserialize(t,e,n),{rect:r,bitmapUrl:s,bitmapId:a,isSvg:o,accessibilityData:l}=t;a&&n.imageManager.isValidId(a)?kt(rf,i,a):kt(af,i,s),kt(df,i,o);const[c,u]=i.pageDimensions;return i.width=(r[2]-r[0])/c,i.height=(r[3]-r[1])/u,l&&(i.altTextData=l),i}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:Ht.STAMP,bitmapId:St(rf,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:St(df,this),structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=xt(ff,this,Sf).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:r}=this.altTextData;if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),null===e)return n;e.stamps||(e.stamps=new Map);const s=St(df,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(St(rf,this))){if(St(df,this)){const t=e.stamps.get(St(rf,this));s>t.area&&(t.area=s,t.serialized.bitmap.close(),t.serialized.bitmap=xt(ff,this,Sf).call(this,!1))}}else e.stamps.set(St(rf,this),{area:s,serialized:n}),n.bitmap=xt(ff,this,Sf).call(this,!1);return n}}function mf(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(kt(nf,this,t.bitmap),e||(kt(rf,this,t.id),kt(df,this,t.isSvg)),t.file&&kt(lf,this,t.file.name),xt(ff,this,yf).call(this)):this.remove()}function vf(){kt(sf,this,null),this._uiManager.enableWaiting(!1),St(cf,this)&&this.div.focus()}function bf(){if(St(rf,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(St(rf,this)).then((t=>xt(ff,this,mf).call(this,t,!0))).finally((()=>xt(ff,this,vf).call(this)));if(St(af,this)){const t=St(af,this);return kt(af,this,null),this._uiManager.enableWaiting(!0),void kt(sf,this,this._uiManager.imageManager.getFromUrl(t).then((t=>xt(ff,this,mf).call(this,t))).finally((()=>xt(ff,this,vf).call(this))))}if(St(of,this)){const t=St(of,this);return kt(of,this,null),this._uiManager.enableWaiting(!0),void kt(sf,this,this._uiManager.imageManager.getFromFile(t).then((t=>xt(ff,this,mf).call(this,t))).finally((()=>xt(ff,this,vf).call(this))))}const t=document.createElement("input");t.type="file",t.accept=pt.supportedTypesStr,kt(sf,this,new Promise((e=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);xt(ff,this,mf).call(this,e)}else this.remove();e()})),t.addEventListener("cancel",(()=>{this.remove(),e()}))})).finally((()=>xt(ff,this,vf).call(this)))),t.click()}function yf(){const{div:t}=this;let{width:e,height:n}=St(nf,this);const[i,r]=this.pageDimensions,s=.75;if(this.width)e=this.width*i,n=this.height*r;else if(e>s*i||n>s*r){const t=Math.min(s*i/e,s*r/n);e*=t,n*=t}const[a,o]=this.parentDimensions;this.setDims(e*a/i,n*o/r),this._uiManager.enableWaiting(!1);const l=kt(cf,this,document.createElement("canvas"));t.append(l),t.hidden=!1,xt(ff,this,wf).call(this,e,n),xt(ff,this,kf).call(this),St(pf,this)||(this.parent.addUndoableEditor(this),kt(pf,this,!0)),this._reportTelemetry({action:"inserted_image"}),St(lf,this)&&l.setAttribute("aria-label",St(lf,this))}function _f(t,e){var n;const[i,r]=this.parentDimensions;this.width=t/i,this.height=e/r,this.setDims(t,e),null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==St(hf,this)&&clearTimeout(St(hf,this));kt(hf,this,setTimeout((()=>{kt(hf,this,null),xt(ff,this,wf).call(this,t,e)}),200))}function xf(t,e){const{width:n,height:i}=St(nf,this);let r=n,s=i,a=St(nf,this);for(;r>2*t||s>2*e;){const n=r,i=s;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(r,s);o.getContext("2d").drawImage(a,0,0,n,i,0,0,r,s),a=o.transferToImageBitmap()}return a}function wf(t,e){t=Math.ceil(t),e=Math.ceil(e);const n=St(cf,this);if(!n||n.width===t&&n.height===e)return;n.width=t,n.height=e;const i=St(df,this)?St(nf,this):xt(ff,this,xf).call(this,t,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(t,e).getContext("2d");n.drawImage(i,0,0,i.width,i.height,0,0,t,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:n.getImageData(0,0,t,e).data,width:t,height:e,channels:4}}).then((t=>{const e=(null===t||void 0===t?void 0:t.output)||"";this.parent&&e&&!this.hasAltText()&&(this.altTextData={altText:e,decorative:!1})}))}const r=n.getContext("2d");r.filter=this._uiManager.hcmFilter,r.drawImage(i,0,0,i.width,i.height,0,0,t,e)}function Sf(t){if(t){if(St(df,this)){const t=this._uiManager.imageManager.getSvgUrl(St(rf,this));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=St(nf,this));return t.getContext("2d").drawImage(St(nf,this),0,0),t.toDataURL()}if(St(df,this)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*mn.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*mn.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(St(nf,this),0,0,St(nf,this).width,St(nf,this).height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(St(nf,this))}function kf(){kt(uf,this,new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&xt(ff,this,_f).call(this,e.width,e.height)}))),St(uf,this).observe(this.div)}pt=gf,At(gf,"_type","stamp"),At(gf,"_editorType",Ht.STAMP);var Ef=new WeakMap,Cf=new WeakMap,Af=new WeakMap,Pf=new WeakMap,Mf=new WeakMap,Tf=new WeakMap,Rf=new WeakMap,Ff=new WeakMap,If=new WeakMap,Lf=new WeakMap,Df=new WeakMap,Of=new WeakMap,Nf=new WeakMap,jf=new WeakSet;class zf{constructor(t){let{uiManager:e,pageIndex:n,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:c}=t;yt(this,jf),_t(this,Ef,void 0),_t(this,Cf,!1),_t(this,Af,null),_t(this,Pf,null),_t(this,Mf,null),_t(this,Tf,null),_t(this,Rf,null),_t(this,Ff,new Map),_t(this,If,!1),_t(this,Lf,!1),_t(this,Df,!1),_t(this,Of,null),_t(this,Nf,void 0);const u=[...Gf._.values()];if(!zf._initialized){zf._initialized=!0;for(const t of u)t.initialize(c,e)}e.registerEditorTypes(u),kt(Nf,this,e),this.pageIndex=n,this.div=i,kt(Ef,this,r),kt(Af,this,s),this.viewport=l,kt(Of,this,o),this.drawLayer=a,St(Nf,this).addLayer(this)}get isEmpty(){return 0===St(Ff,this).size}get isInvisible(){return this.isEmpty&&St(Nf,this).getMode()===Ht.NONE}updateToolbar(t){St(Nf,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St(Nf,this).getMode();switch(xt(jf,this,Uf).call(this),t){case Ht.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Ht.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ht.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of Gf._.values())e.toggle("".concat(n._type,"Editing"),t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=St(Of,this))||void 0===e?void 0:e.div)}addInkEditorIfNeeded(t){if(St(Nf,this).getMode()!==Ht.INK)return;if(!t)for(const e of St(Ff,this).values())if(e.isEmpty())return void e.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){St(Nf,this).setEditingState(t)}addCommands(t){St(Nf,this).addCommands(t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=St(Af,this))||void 0===t||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of St(Ff,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(St(Nf,this).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!St(Af,this))return;const e=St(Af,this).getEditableAnnotations();for(const n of e){if(n.hide(),St(Nf,this).isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}}disable(){kt(Df,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of St(Ff,this).values()){var n;r.disableEditing(),r.annotationElementId&&(null===r.serialize()?(e.set(r.annotationElementId,r),null===(n=this.getEditableAnnotation(r.annotationElementId))||void 0===n||n.show(),r.remove()):t.set(r.annotationElementId,r))}if(St(Af,this)){const n=St(Af,this).getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(St(Nf,this).isDeletedAnnotationElement(n))continue;let r=e.get(n);r?(r.resetAnnotationElement(i),r.show(!1),i.show()):(r=t.get(n),r&&(St(Nf,this).addChangedExistingAnnotation(r),r.renderAnnotationElement(i),r.show(!1)),i.show())}}xt(jf,this,Uf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of Gf._.values())i.remove("".concat(r._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),kt(Df,this,!1)}getEditableAnnotation(t){var e;return(null===(e=St(Af,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){St(Nf,this).getActive()!==t&&St(Nf,this).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,null!==(t=St(Of,this))&&void 0!==t&&t.div&&!St(Tf,this)&&(kt(Tf,this,xt(jf,this,Bf).bind(this)),St(Of,this).div.addEventListener("pointerdown",St(Tf,this)),St(Of,this).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=St(Of,this))&&void 0!==t&&t.div&&St(Tf,this)&&(St(Of,this).div.removeEventListener("pointerdown",St(Tf,this)),kt(Tf,this,null),St(Of,this).div.classList.remove("highlighting"))}enableClick(){St(Mf,this)||(kt(Mf,this,this.pointerdown.bind(this)),kt(Pf,this,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",St(Mf,this)),this.div.addEventListener("pointerup",St(Pf,this)))}disableClick(){St(Mf,this)&&(this.div.removeEventListener("pointerdown",St(Mf,this)),this.div.removeEventListener("pointerup",St(Pf,this)),kt(Mf,this,null),kt(Pf,this,null))}attach(t){St(Ff,this).set(t.id,t);const{annotationElementId:e}=t;e&&St(Nf,this).isDeletedAnnotationElement(e)&&St(Nf,this).removeDeletedAnnotationElement(t)}detach(t){var e;St(Ff,this).delete(t.id),null===(e=St(Ef,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!St(Df,this)&&t.annotationElementId&&St(Nf,this).addDeletedAnnotationElement(t)}remove(t){this.detach(t),St(Nf,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,St(Lf,this)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(St(Nf,this).addDeletedAnnotationElement(t.annotationElementId),Fs.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),St(Nf,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),St(Nf,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!St(Rf,this)&&(t._focusEventsAllowed=!1,kt(Rf,this,setTimeout((()=>{kt(Rf,this,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0}),n.focus())}),0))),t._structTreeParentId=null===(e=St(Ef,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return St(Nf,this).getId()}canCreateNewEmptyEditor(){var t;return null===(t=wt(jf,this,Wf))||void 0===t?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){St(Nf,this).updateToolbar(t),St(Nf,this).updateMode(t);const{offsetX:n,offsetY:i}=xt(jf,this,Vf).call(this),r=this.getNextId(),s=xt(jf,this,Hf).call(this,{parent:this,id:r,x:n,y:i,uiManager:St(Nf,this),isCentered:!0,...e});s&&this.add(s)}deserialize(t){var e,n;return(null===(e=Gf._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,St(Nf,this)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),r=xt(jf,this,Hf).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:St(Nf,this),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(xt(jf,this,Vf).call(this),!0)}setSelected(t){St(Nf,this).setSelected(t)}toggleSelected(t){St(Nf,this).toggleSelected(t)}isSelected(t){return St(Nf,this).isSelected(t)}unselect(t){St(Nf,this).unselect(t)}pointerup(t){const{isMac:e}=Ge.platform;0!==t.button||t.ctrlKey&&e||t.target===this.div&&St(If,this)&&(kt(If,this,!1),St(Cf,this)?St(Nf,this).getMode()!==Ht.STAMP?this.createAndAddNewEditor(t,!1):St(Nf,this).unselectAll():kt(Cf,this,!0))}pointerdown(t){if(St(Nf,this).getMode()===Ht.HIGHLIGHT&&this.enableTextSelection(),St(If,this))return void kt(If,this,!1);const{isMac:e}=Ge.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;kt(If,this,!0);const n=St(Nf,this).getActive();kt(Cf,this,!n||n.isEmpty())}findNewParent(t,e,n){const i=St(Nf,this).findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}destroy(){var t;(null===(t=St(Nf,this).getActive())||void 0===t?void 0:t.parent)===this&&(St(Nf,this).commitOrRemove(),St(Nf,this).setActiveEditor(null)),St(Rf,this)&&(clearTimeout(St(Rf,this)),kt(Rf,this,null));for(const n of St(Ff,this).values()){var e;null===(e=St(Ef,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,St(Ff,this).clear(),St(Nf,this).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,ei(this.div,e);for(const n of St(Nf,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;St(Nf,this).commitOrRemove(),xt(jf,this,Uf).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,ei(this.div,{rotation:i}),n!==i)for(const r of St(Ff,this).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return St(Nf,this).viewParameters.realScale}}function Bf(t){if(St(Nf,this).unselectAll(),t.target===St(Of,this).div){const{isMac:e}=Ge.platform;if(0!==t.button||t.ctrlKey&&e)return;St(Nf,this).showAllEditors("highlight",!0,!0),St(Of,this).div.classList.add("free"),Jd.startHighlighting(this,"ltr"===St(Nf,this).direction,t),St(Of,this).div.addEventListener("pointerup",(()=>{St(Of,this).div.classList.remove("free")}),{once:!0}),t.preventDefault()}}function Wf(t){return Gf._.get(St(Nf,t).getMode())}function Hf(t){const e=wt(jf,this,Wf);return e?new e.prototype.constructor(t):null}function Vf(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),s=Math.max(0,e),a=(r+Math.min(window.innerWidth,t+n))/2-t,o=(s+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function Uf(){kt(Lf,this,!0);for(const t of St(Ff,this).values())t.isEmpty()&&t.remove();kt(Lf,this,!1)}At(zf,"_initialized",!1);var Gf={_:new Map([hh,Mp,gf,Jd].map((t=>[t._editorType,t])))},qf=new WeakMap,Xf=new WeakMap,Kf=new WeakMap,Yf=new WeakMap,Qf=new WeakSet;class Jf{constructor(t){let{pageIndex:e}=t;yt(this,Qf),_t(this,qf,null),_t(this,Xf,0),_t(this,Kf,new Map),_t(this,Yf,new Map),this.pageIndex=e}setParent(t){if(St(qf,this)){if(St(qf,this)!==t){if(St(Kf,this).size>0)for(const e of St(Kf,this).values())e.remove(),t.append(e);kt(qf,this,t)}}else kt(qf,this,t)}static get _svgFactory(){return Ie(this,"_svgFactory",new jn)}highlight(t,e,n){var i,r;let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=(kt(Xf,this,(i=St(Xf,this),r=i++,i)),r),o=xt(Qf,this,Zf).call(this,t.box);o.classList.add("highlight"),t.free&&o.classList.add("free");const l=Jf._svgFactory.createElement("defs");o.append(l);const c=Jf._svgFactory.createElement("path");l.append(c);const u="path_p".concat(this.pageIndex,"_").concat(a);c.setAttribute("id",u),c.setAttribute("d",t.toSVGPath()),s&&St(Yf,this).set(a,c);const h=xt(Qf,this,tg).call(this,l,u),d=Jf._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",e),o.setAttribute("fill-opacity",n),d.setAttribute("href","#".concat(u)),St(Kf,this).set(a,o),{id:a,clipPathId:"url(#".concat(h,")")}}highlightOutline(t){var e,n;const i=(kt(Xf,this,(e=St(Xf,this),n=e++,e)),n),r=xt(Qf,this,Zf).call(this,t.box);r.classList.add("highlightOutline");const s=Jf._svgFactory.createElement("defs");r.append(s);const a=Jf._svgFactory.createElement("path");s.append(a);const o="path_p".concat(this.pageIndex,"_").concat(i);let l;if(a.setAttribute("id",o),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke"),t.free){r.classList.add("free");const t=Jf._svgFactory.createElement("mask");s.append(t),l="mask_p".concat(this.pageIndex,"_").concat(i),t.setAttribute("id",l),t.setAttribute("maskUnits","objectBoundingBox");const e=Jf._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=Jf._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const c=Jf._svgFactory.createElement("use");r.append(c),c.setAttribute("href","#".concat(o)),l&&c.setAttribute("mask","url(#".concat(l,")"));const u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),St(Kf,this).set(i,r),i}finalizeLine(t,e){const n=St(Yf,this).get(t);St(Yf,this).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){St(Kf,this).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),St(Yf,this).delete(t)}updatePath(t,e){St(Yf,this).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){$f.call(Jf,St(Kf,this).get(t),e)}show(t,e){St(Kf,this).get(t).classList.toggle("hidden",!e)}rotate(t,e){St(Kf,this).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){St(Kf,this).get(t).setAttribute("fill",e)}changeOpacity(t,e){St(Kf,this).get(t).setAttribute("fill-opacity",e)}addClass(t,e){St(Kf,this).get(t).classList.add(e)}removeClass(t,e){St(Kf,this).get(t).classList.remove(e)}remove(t){null!==St(qf,this)&&(St(Kf,this).get(t).remove(),St(Kf,this).delete(t))}destroy(){kt(qf,this,null);for(const t of St(Kf,this).values())t.remove();St(Kf,this).clear()}}function $f(t){let{x:e=0,y:n=0,width:i=1,height:r=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:s}=t;s.top="".concat(100*n,"%"),s.left="".concat(100*e,"%"),s.width="".concat(100*i,"%"),s.height="".concat(100*r,"%")}function Zf(t){const e=ft._svgFactory.create(1,1,!0);return St(qf,this).append(e),e.setAttribute("aria-hidden",!0),$f.call(ft,e,t),e}function tg(t,e){const n=ft._svgFactory.createElement("clipPath");t.append(n);const i="clip_".concat(e);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=ft._svgFactory.createElement("use");return n.append(r),r.setAttribute("href","#".concat(e)),r.classList.add("clip"),i}ft=Jf;var eg=Mt.version,ng=__webpack_require__(579);const ig=t=>{let{fileUrl:e}=t;const n=(0,mt.defaultLayoutPlugin)();return(0,ng.jsx)("div",{style:{height:"750px"},children:(0,ng.jsx)(gt.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@".concat(eg,"/build/pdf.worker.min.js"),children:(0,ng.jsx)(gt.Viewer,{fileUrl:e,plugins:[n]})})})};var rg=__webpack_require__(8139),sg=__webpack_require__.n(rg);const ag=["xxl","xl","lg","md","sm","xs"],og="xs",lg=e.createContext({prefixes:{},breakpoints:ag,minBreakpoint:og}),{Consumer:cg,Provider:ug}=lg;function hg(t,n){const{prefixes:i}=(0,e.useContext)(lg);return t||i[n]||n}function dg(){const{breakpoints:t}=(0,e.useContext)(lg);return t}function pg(){const{minBreakpoint:t}=(0,e.useContext)(lg);return t}const fg=e.forwardRef(((t,e)=>{let{bsPrefix:n,fluid:i=!1,as:r="div",className:s,...a}=t;const o=hg(n,"container"),l="string"===typeof i?"-".concat(i):"-fluid";return(0,ng.jsx)(r,{ref:e,...a,className:sg()(s,i?"".concat(o).concat(l):o)})}));fg.displayName="Container";const gg=fg,mg=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:i,as:r="div",...s}=t;const a=hg(n,"row"),o=dg(),l=pg(),c="".concat(a,"-cols"),u=[];return o.forEach((t=>{const e=s[t];let n;delete s[t],null!=e&&"object"===typeof e?({cols:n}=e):n=e;const i=t!==l?"-".concat(t):"";null!=n&&u.push("".concat(c).concat(i,"-").concat(n))})),(0,ng.jsx)(r,{ref:e,...s,className:sg()(i,a,...u)})}));mg.displayName="Row";const vg=mg;const bg=e.forwardRef(((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:s,spans:a}]=function(t){let{as:e,bsPrefix:n,className:i,...r}=t;n=hg(n,"col");const s=dg(),a=pg(),o=[],l=[];return s.forEach((t=>{const e=r[t];let i,s,c;delete r[t],"object"===typeof e&&null!=e?({span:i,offset:s,order:c}=e):i=e;const u=t!==a?"-".concat(t):"";i&&o.push(!0===i?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(i)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=s&&l.push("offset".concat(u,"-").concat(s))})),[{...r,className:sg()(i,...o,...l)},{as:e,bsPrefix:n,spans:o}]}(t);return(0,ng.jsx)(r,{...i,ref:e,className:sg()(n,!a.length&&s)})}));bg.displayName="Col";const yg=bg,_g=__webpack_require__.p+"static/media/header.98720c309dbf8c6a059c.png";var xg=__webpack_require__(5173),wg=__webpack_require__.n(xg),Sg=["color","size","title","className"];function kg(){return kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kg.apply(this,arguments)}function Eg(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Cg=(0,e.forwardRef)((function(t,n){var i=t.color,r=t.size,s=t.title,a=t.className,o=Eg(t,Sg);return e.createElement("svg",kg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:i,className:["bi","bi-arrow-right-circle",a].filter(Boolean).join(" ")},o),s?e.createElement("title",null,s):null,e.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"}))}));Cg.propTypes={color:wg().string,size:wg().oneOfType([wg().string,wg().number]),title:wg().string,className:wg().string},Cg.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const Ag=Cg;var Pg=__webpack_require__(6930);const Mg="generated",Tg="pointerleave",Rg="pointermove",Fg="touchend",Ig="tsParticles - Error",Lg=100,Dg=1e3;var Og;function Ng(t){return"boolean"===typeof t}function jg(t){return"string"===typeof t}function zg(t){return"number"===typeof t}function Bg(t){return"object"===typeof t&&null!==t}function Wg(t){return Array.isArray(t)}!function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"}(Og||(Og={}));const Hg=0,Vg=0,Ug=0;class Gg{constructor(t,e,n){if(this._updateFromAngle=(t,e)=>{this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},!zg(t)&&t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:Ug}else{if(void 0===t||void 0===e)throw new Error("".concat(Ig," Vector3d not initialized correctly"));this.x=t,this.y=e,this.z=null!==n&&void 0!==n?n:Ug}}static get origin(){return Gg.create(Hg,Vg,Ug)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return Gg.create(t.x,t.y,t.z)}static create(t,e,n){return new Gg(t,e,n)}add(t){return Gg.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return Gg.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return Gg.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return Gg.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;0!=t&&this.multTo(1/t)}rotate(t){return Gg.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),Ug)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:Ug}sub(t){return Gg.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class qg extends Gg{constructor(t,e){super(t,e,Ug)}static get origin(){return qg.create(Hg,Vg)}static clone(t){return qg.create(t.x,t.y)}static create(t,e){return new qg(t,e)}}let Xg=Math.random;const Kg=new Map,Yg=2*Math.PI;function Qg(t,e){Kg.get(t)||Kg.set(t,e)}function Jg(t){var e;return null!==(e=Kg.get(t))&&void 0!==e?e:t=>t}function $g(){return Zg(Xg(),0,1-Number.EPSILON)}function Zg(t,e,n){return Math.min(Math.max(t,e),n)}function tm(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function em(t){const e=rm(t);let n=im(t);return e===n&&(n=0),$g()*(e-n)+n}function nm(t){return zg(t)?t:em(t)}function im(t){return zg(t)?t:t.min}function rm(t){return zg(t)?t:t.max}function sm(t,e){if(t===e||void 0===e&&zg(t))return t;const n=im(t),i=rm(t);return void 0!==e?{min:Math.min(n,e),max:Math.max(i,e)}:sm(n,i)}function am(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function om(t,e){return am(t,e).distance}function lm(t){return t*Math.PI/180}function cm(t,e,n,i){return qg.create(t.x*(n-i)/(n+i)+2*e.x*i/(n+i),t.y)}function um(t){var e,n,i,r;return{x:null!==(e=null===(n=t.position)||void 0===n?void 0:n.x)&&void 0!==e?e:$g()*t.size.width,y:null!==(i=null===(r=t.position)||void 0===r?void 0:r.y)&&void 0!==i?i:$g()*t.size.height}}function hm(t){return t?t.endsWith("%")?parseFloat(t)/Lg:parseFloat(t):1}var dm,pm,fm,gm,mm,vm;!function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"}(dm||(dm={})),function(t){t.increasing="increasing",t.decreasing="decreasing"}(pm||(pm={})),function(t){t.none="none",t.max="max",t.min="min"}(fm||(fm={})),function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"}(gm||(gm={})),function(t){t.precise="precise",t.percent="percent"}(mm||(mm={})),function(t){t.max="max",t.min="min",t.random="random"}(vm||(vm={}));const bm={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ym(){return bm}function _m(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:a,factor:o}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=.5*(r.max+r.min)&&a>0||n.min<=r.max&&n.min>.5*(r.max+r.min)&&a<0)&&(e.velocity=a*-o,e.bounced=!0),e}function xm(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function wm(t){if(!xm()&&"undefined"!==typeof matchMedia)return matchMedia(t)}function Sm(t,e){return t===e||Wg(e)&&e.indexOf(t)>-1}async function km(t,e){try{await document.fonts.load("".concat(null!==e&&void 0!==e?e:"400"," 36px '").concat(null!==t&&void 0!==t?t:"Verdana","'"))}catch{}}function Em(t,e){return t[void 0!==e&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?e%t.length:function(t){return Math.floor($g()*t.length)}(t)]}function Cm(t,e,n,i,r){return function(t,e,n,i){let r=!0;i&&i!==gm.bottom||(r=t.top<e.height+n.x);!r||i&&i!==gm.left||(r=t.right>n.x);!r||i&&i!==gm.right||(r=t.left<e.width+n.y);!r||i&&i!==gm.top||(r=t.bottom>n.y);return r}(Am(t,null!==i&&void 0!==i?i:0),e,n,r)}function Am(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Pm(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n){if(void 0===r||null===r)continue;if(!Bg(r)){t=r;continue}const e=Array.isArray(r);!e||!Bg(t)&&t&&Array.isArray(t)?e||!Bg(t)&&t&&!Array.isArray(t)||(t={}):t=[];for(const n in r){if("__proto__"===n)continue;const e=r[n],i=t;i[n]=Bg(e)&&Array.isArray(e)?e.map((t=>Pm(i[n],t))):Pm(i[n],e)}}return t}function Mm(t,e){return!!Nm(e,(e=>e.enable&&Sm(t,e.mode)))}function Tm(t,e,n){Dm(e,(e=>{const i=e.mode;e.enable&&Sm(t,i)&&function(t,e){const n=t.selectors;Dm(n,(n=>{e(n,t)}))}(e,n)}))}function Rm(t,e){if(e&&t)return Nm(t,(t=>function(t,e){const n=Dm(e,(e=>t.matches(e)));return Wg(n)?n.some((t=>t)):n}(e,t.selectors)))}function Fm(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:qg.create(nm(t.options.bounce.horizontal.value),nm(t.options.bounce.vertical.value))}}function Im(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:a,dy:o}=am(s,r);if(n*a+i*o<0)return;const l=-Math.atan2(o,a),c=t.mass,u=e.mass,h=t.velocity.rotate(l),d=e.velocity.rotate(l),p=cm(h,d,c,u),f=cm(d,h,c,u),g=p.rotate(-l),m=f.rotate(-l);t.velocity.x=g.x*t.factor.x,t.velocity.y=g.y*t.factor.y,e.velocity.x=m.x*e.factor.x,e.velocity.y=m.y*e.factor.y}function Lm(t,e){const n=Am(t.getPosition(),t.getRadius()),i=t.options.bounce,r=_m({pSide:{min:n.left,max:n.right},pOtherSide:{min:n.top,max:n.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:nm(i.horizontal.value)});r.bounced&&(void 0!==r.velocity&&(t.velocity.x=r.velocity),void 0!==r.position&&(t.position.x=r.position));const s=_m({pSide:{min:n.top,max:n.bottom},pOtherSide:{min:n.left,max:n.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:nm(i.vertical.value)});s.bounced&&(void 0!==s.velocity&&(t.velocity.y=s.velocity),void 0!==s.position&&(t.position.y=s.position))}function Dm(t,e){return Wg(t)?t.map(((t,n)=>e(t,n))):e(t,0)}function Om(t,e,n){return Wg(t)?Em(t,e,n):t}function Nm(t,e){if(Wg(t))return t.find(((t,n)=>e(t,n)));return e(t,0)?t:void 0}function jm(t,e){const n=t.value,i=t.animation,r={delayTime:nm(i.delay)*Dg,enable:i.enable,value:nm(t.value)*e,max:rm(n)*e,min:im(n)*e,loops:0,maxLoops:nm(i.count),time:0};if(i.enable){switch(r.decay=1-nm(i.decay),i.mode){case dm.increase:r.status=pm.increasing;break;case dm.decrease:r.status=pm.decreasing;break;case dm.random:r.status=$g()>=.5?pm.increasing:pm.decreasing}const t=i.mode===dm.auto;switch(i.startValue){case vm.min:r.value=r.min,t&&(r.status=pm.increasing);break;case vm.max:r.value=r.max,t&&(r.status=pm.decreasing);break;case vm.random:default:r.value=em(r),t&&(r.status=$g()>=.5?pm.increasing:pm.decreasing)}}return r.initialValue=r.value,r}function zm(t,e){if(!(t.mode===mm.percent)){const{mode:e,...n}=t;return n}return"x"in t?{x:t.x/Lg*e.width,y:t.y/Lg*e.height}:{width:t.width/Lg*e.width,height:t.height/Lg*e.height}}function Bm(t,e){return zm(t,e)}function Wm(t,e,n,i,r){var s,a,o,l,c,u,h,d,p;if(t.destroyed||!e||!e.enable||(null!==(s=e.maxLoops)&&void 0!==s?s:0)>0&&(null!==(a=e.loops)&&void 0!==a?a:0)>(null!==(o=e.maxLoops)&&void 0!==o?o:0))return;const f=(null!==(l=e.velocity)&&void 0!==l?l:0)*r.factor,g=e.min,m=e.max,v=null!==(c=e.decay)&&void 0!==c?c:1;if(e.time||(e.time=0),(null!==(u=e.delayTime)&&void 0!==u?u:0)>0&&e.time<(null!==(h=e.delayTime)&&void 0!==h?h:0)&&(e.time+=r.value),!((null!==(d=e.delayTime)&&void 0!==d?d:0)>0&&e.time<(null!==(p=e.delayTime)&&void 0!==p?p:0))){switch(e.status){case pm.increasing:e.value>=m?(n?e.status=pm.decreasing:e.value-=m,e.loops||(e.loops=0),e.loops++):e.value+=f;break;case pm.decreasing:e.value<=g?(n?e.status=pm.increasing:e.value+=m,e.loops||(e.loops=0),e.loops++):e.value-=f}e.velocity&&1!==v&&(e.velocity*=v),function(t,e,n,i,r){switch(e){case fm.max:n>=r&&t.destroy();break;case fm.min:n<=i&&t.destroy()}}(t,i,e.value,g,m),t.destroyed||(e.value=Zg(e.value,g,m))}}var Hm,Vm;!function(t){t.darken="darken",t.enlighten="enlighten"}(Hm||(Hm={})),function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"}(Vm||(Vm={}));const Um="random",Gm="mid",qm=new Map;function Xm(t){qm.set(t.key,t)}function Km(t){for(const[,i]of qm)if(t.startsWith(i.stringPrefix))return i.parseString(t);const e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((t,e,n,i,r)=>e+e+n+n+i+i+(void 0!==r?r+r:""))),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return n?{a:void 0!==n[Vm.a]?parseInt(n[Vm.a],16)/255:1,b:parseInt(n[Vm.b],16),g:parseInt(n[Vm.g],16),r:parseInt(n[Vm.r],16)}:void 0}function Ym(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return;const i=jg(t)?{value:t}:t;if(jg(i.value))return Qm(i.value,e,n);if(Wg(i.value))return Ym({value:Em(i.value,e,n)});for(const[,r]of qm){const t=r.handleRangeColor(i);if(t)return t}}function Qm(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return;const i=jg(t)?{value:t}:t;if(jg(i.value))return i.value===Um?tv():function(t){return Km(t)}(i.value);if(Wg(i.value))return Qm({value:Em(i.value,e,n)});for(const[,r]of qm){const t=r.handleColor(i);if(t)return t}}function Jm(t,e){const n=Ym(t,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return n?$m(n):void 0}function $m(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),a={h:0,l:.5*(r+s),s:0};return r!==s&&(a.s=a.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),a.h=e===r?(n-i)/(r-s):a.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),a.l*=100,a.s*=100,a.h*=60,a.h<0&&(a.h+=360),a.h>=360&&(a.h-=360),a}function Zm(t){const e=360,n=(t.h%e+e)%e,i=Math.max(0,Math.min(100,t.s)),r=n/e,s=i/100,a=Math.max(0,Math.min(100,t.l))/100,o=255;if(0===i){const t=Math.round(a*o);return{r:t,g:t,b:t}}const l=(t,e,n)=>{if(n<0&&n++,n>1&&n--,6*n<1)return t+6*(e-t)*n;if(2*n<1)return e;if(3*n<2){return t+(e-t)*(2/3-n)*6}return t},c=a<.5?a*(1+s):a+s-a*s,u=2*a-c,h=1/3,d=Math.min(o,o*l(u,c,r+h)),p=Math.min(o,o*l(u,c,r)),f=Math.min(o,o*l(u,c,r-h));return{r:Math.round(d),g:Math.round(p),b:Math.round(f)}}function tv(t){const e=null!==t&&void 0!==t?t:0;return{b:Math.floor(em(sm(e,256))),g:Math.floor(em(sm(e,256))),r:Math.floor(em(sm(e,256)))}}function ev(t,e){return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(null!==e&&void 0!==e?e:1,")")}function nv(t,e){return"hsla(".concat(t.h,", ").concat(t.s,"%, ").concat(t.l,"%, ").concat(null!==e&&void 0!==e?e:1,")")}function iv(t,e,n,i){let r=t,s=e;return void 0===r.r&&(r=Zm(t)),void 0===s.r&&(s=Zm(e)),{b:tm(r.b,s.b,n,i),g:tm(r.g,s.g,n,i),r:tm(r.r,s.r,n,i)}}function rv(t,e,n){if(n===Um)return tv();if(n!==Gm)return n;{var i,r;const n=null!==(i=t.getFillColor())&&void 0!==i?i:t.getStrokeColor(),s=null!==(r=null===e||void 0===e?void 0:e.getFillColor())&&void 0!==r?r:null===e||void 0===e?void 0:e.getStrokeColor();if(n&&s&&e)return iv(n,s,t.getRadius(),e.getRadius());{const t=null!==n&&void 0!==n?n:s;if(t)return Zm(t)}}}function sv(t,e,n){const i=jg(t)?t:t.value;return i===Um?n?Ym({value:i}):e?Um:Gm:i===Gm?Gm:Ym({value:i})}function av(t){return void 0!==t?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function ov(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(lv(i.h,e.h,n),lv(i.s,e.s,n),lv(i.l,e.l,n)),i}function lv(t,e,n){t.enable=e.enable;t.enable?(t.velocity=nm(e.speed)/Lg*n,t.decay=1-nm(e.decay),t.status=pm.increasing,t.loops=0,t.maxLoops=nm(e.count),t.time=0,t.delayTime=nm(e.delay)*Dg,e.sync||(t.velocity*=$g(),t.value*=$g()),t.initialValue=t.value,t.offset=sm(e.offset)):t.velocity=0}function cv(t,e,n,i){var r,s,a,o,l,c,u,h,d;if(!t||!t.enable||(null!==(r=t.maxLoops)&&void 0!==r?r:0)>0&&(null!==(s=t.loops)&&void 0!==s?s:0)>(null!==(a=t.maxLoops)&&void 0!==a?a:0))return;if(t.time||(t.time=0),(null!==(o=t.delayTime)&&void 0!==o?o:0)>0&&t.time<(null!==(l=t.delayTime)&&void 0!==l?l:0)&&(t.time+=i.value),(null!==(c=t.delayTime)&&void 0!==c?c:0)>0&&t.time<(null!==(u=t.delayTime)&&void 0!==u?u:0))return;const p=t.offset?em(t.offset):0,f=(null!==(h=t.velocity)&&void 0!==h?h:0)*i.factor+3.6*p,g=null!==(d=t.decay)&&void 0!==d?d:1,m=rm(e),v=im(e);if(n&&t.status!==pm.increasing){t.value-=f;const e=0;t.value<e&&(t.loops||(t.loops=0),t.loops++,t.status=pm.increasing)}else t.value+=f,t.value>m&&(t.loops||(t.loops=0),t.loops++,n?t.status=pm.decreasing:t.value-=m);t.velocity&&1!==g&&(t.velocity*=g),t.value=Zg(t.value,v,m)}function uv(t,e){if(!t)return;const{h:n,s:i,l:r}=t,s={min:0,max:100},a={min:0,max:100};n&&cv(n,{min:0,max:360},!1,e),i&&cv(i,s,!0,e),r&&cv(r,a,!0,e)}const hv=0,dv=0,pv=1,fv=0,gv=0,mv=1;function vv(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function bv(t,e){t.clearRect(hv,dv,e.width,e.height)}function yv(t,e,n){const i=e[n];var r;void 0!==i&&(t[n]=(null!==(r=t[n])&&void 0!==r?r:1)*i)}function _v(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return;if(!t)return;const i=t.style;if(i)for(const r in e){const t=e[r];t&&i.setProperty(r,t,n?"important":"")}}class xv{constructor(t){this.container=t,this._applyPostDrawUpdaters=t=>{for(const n of this._postDrawUpdaters){var e;null===(e=n.afterDraw)||void 0===e||e.call(n,t)}},this._applyPreDrawUpdaters=(t,e,n,i,r,s)=>{for(const o of this._preDrawUpdaters){var a;if(o.getColorStyles){const{fill:s,stroke:a}=o.getColorStyles(e,t,n,i);s&&(r.fill=s),a&&(r.stroke=a)}if(o.getTransformValues){const t=o.getTransformValues(e);for(const e in t)yv(s,t,e)}null===(a=o.beforeDraw)||void 0===a||a.call(o,e)}},this._applyResizePlugins=()=>{for(const e of this._resizePlugins){var t;null===(t=e.resize)||void 0===t||t.call(e)}},this._getPluginParticleColors=t=>{let e,n;for(const i of this._colorPlugins)if(!e&&i.particleFillColor&&(e=Jm(i.particleFillColor(t))),!n&&i.particleStrokeColor&&(n=Jm(i.particleStrokeColor(t))),e&&n)break;return[e,n]},this._initCover=async()=>{const t=this.container.actualOptions.backgroundMask.cover,e=t.color;if(e){const n=Ym(e);if(n){const e={...n,a:t.opacity};this._coverColorStyle=ev(e,e.a)}}else await new Promise(((e,n)=>{if(!t.image)return;const i=document.createElement("img");i.addEventListener("load",(()=>{this._coverImage={image:i,opacity:t.opacity},e()})),i.addEventListener("error",(t=>{n(t.error)})),i.src=t.image}))},this._initStyle=()=>{const t=this.element,e=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Pm({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const n in e.style){if(!n||!e.style)continue;const i=e.style[n];i&&t.style.setProperty(n,i,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions.particles.move.trail,e=t.fill;if(!t.enable)return;const n=1/t.length;if(e.color){const t=Ym(e.color);if(!t)return;this._trailFill={color:{...t},opacity:n}}else await new Promise(((t,i)=>{if(!e.image)return;const r=document.createElement("img");r.addEventListener("load",(()=>{this._trailFill={image:r,opacity:n},t()})),r.addEventListener("error",(t=>{i(t.error)})),r.src=e.image}))},this._paintBase=t=>{this.draw((e=>function(t,e,n){t.fillStyle=null!==n&&void 0!==n?n:"rgba(0,0,0,0)",t.fillRect(hv,dv,e.width,e.height)}(e,this.size,t)))},this._paintImage=(t,e)=>{this.draw((n=>function(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,hv,dv,e.width,e.height),t.globalAlpha=1)}(n,this.size,t,e)))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver((t=>t.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((e=>{t&&t instanceof Node&&e.observe(t,{attributes:!0})})))},this._resetOriginalStyle=()=>{const t=this.element,e=this._originalStyle;t&&e&&_v(t,e)},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;_v(t,{position:"fixed",zIndex:this.container.actualOptions.fullScreen.zIndex.toString(10),top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,n=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&n?n.color?this._paintBase(ev(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):t.clear&&this.draw((t=>{bv(t,this.size)}))}destroy(){if(this.stop(),this._generated){const t=this.element;null===t||void 0===t||t.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawAsync(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){var n;if(t.spawning||t.destroyed)return;const i=t.getRadius();if(i<=0)return;const r=t.getFillColor(),s=null!==(n=t.getStrokeColor())&&void 0!==n?n:r;let[a,o]=this._getPluginParticleColors(t);a||(a=r),o||(o=s),(a||o)&&this.draw((n=>{var r,s,l,c;const u=this.container,h=u.actualOptions,d=t.options.zIndex,p=1-t.zIndexFactor,f=p**d.opacityRate,g=null!==(r=null!==(s=t.bubble.opacity)&&void 0!==s?s:null===(l=t.opacity)||void 0===l?void 0:l.value)&&void 0!==r?r:1,m=g*f,v=(null!==(c=t.strokeOpacity)&&void 0!==c?c:g)*f,b={},y={fill:a?nv(a,m):void 0};y.stroke=o?nv(o,v):y.fill,this._applyPreDrawUpdaters(n,t,i,m,y,b),function(t){var e,n,i,r,s,a,o;const{container:l,context:c,particle:u,delta:h,colorStyles:d,backgroundMask:p,composite:f,radius:g,opacity:m,shadow:v,transform:b}=t,y=u.getPosition(),_=u.rotation+(u.pathRotation?u.velocity.angle:0),x=Math.sin(_),w=Math.cos(_),S=!!_,k={a:w*(null!==(e=b.a)&&void 0!==e?e:pv),b:S?x*(null!==(n=b.b)&&void 0!==n?n:1):null!==(i=b.b)&&void 0!==i?i:fv,c:S?-x*(null!==(r=b.c)&&void 0!==r?r:1):null!==(s=b.c)&&void 0!==s?s:gv,d:w*(null!==(a=b.d)&&void 0!==a?a:mv)};c.setTransform(k.a,k.b,k.c,k.d,y.x,y.y),p&&(c.globalCompositeOperation=f);const E=u.shadowColor;v.enable&&E&&(c.shadowBlur=v.blur,c.shadowColor=ev(E),c.shadowOffsetX=v.offset.x,c.shadowOffsetY=v.offset.y),d.fill&&(c.fillStyle=d.fill);const C=null!==(o=u.strokeWidth)&&void 0!==o?o:0;c.lineWidth=C,d.stroke&&(c.strokeStyle=d.stroke);const A={container:l,context:c,particle:u,radius:g,opacity:m,delta:h,transformData:k,strokeWidth:C};!function(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:a,strokeWidth:o,transformData:l}=t,c=0;if(!i.shape)return;const u=e.shapeDrawers.get(i.shape);u&&(n.beginPath(),u.draw({context:n,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&n.closePath(),o>c&&n.stroke(),i.shapeFill&&n.fill())}(A),function(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:a,transformData:o}=t;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);null!==l&&void 0!==l&&l.afterDraw&&l.afterDraw({context:n,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}(A),function(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:a,transformData:o}=t;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:n,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}(A),c.globalCompositeOperation="source-over",c.resetTransform()}({container:u,context:n,particle:t,delta:e,colorStyles:y,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*p**d.sizeRate,opacity:m,shadow:t.options.shadow,transform:b}),this._applyPostDrawUpdaters(t)}))}drawParticlePlugin(t,e,n){this.draw((i=>function(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}(i,t,e,n)))}drawPlugin(t,e){this.draw((n=>function(t,e,n){e.draw&&e.draw(t,n)}(n,t,e)))}async init(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=function(t){if(!xm()&&"undefined"!==typeof MutationObserver)return new MutationObserver(t)}((t=>{for(const e of t)"attributes"===e.type&&"style"===e.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(t){ym().error(t)}this.initBackground(),this._safeMutationObserver((t=>{this.element&&this.element instanceof Node&&t.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions.background,e=this.element;if(!e)return;const n=e.style;if(n){if(t.color){const e=Ym(t.color);n.backgroundColor=e?ev(e,t.opacity):""}else n.backgroundColor="";n.backgroundImage=t.image||"",n.backgroundPosition=t.position||"",n.backgroundRepeat=t.repeat||"",n.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins){var t;e.resize&&this._resizePlugins.push(e),(null!==(t=e.particleFillColor)&&void 0!==t?t:e.particleStrokeColor)&&this._colorPlugins.push(e)}}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const n of this.container.particles.updaters){var t,e;n.afterDraw&&this._postDrawUpdaters.push(n),(null!==(t=null!==(e=n.getColorStyles)&&void 0!==e?e:n.getTransformValues)&&void 0!==t?t:n.beforeDraw)&&this._preDrawUpdaters.push(n)}}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&Mg in t.dataset?"true"===t.dataset[Mg]:this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=Pm({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((t=>{this.element&&this.element instanceof Node&&t.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw((e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(bv(e,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()}))}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,n=t.canvas.size,i=this.element.offsetWidth*e,r=this.element.offsetHeight*e;if(r===n.height&&i===n.width&&r===this.element.height&&i===this.element.width)return!1;const s={...n};return this.element.width=n.width=this.element.offsetWidth*e,this.element.height=n.height=this.element.offsetHeight*e,this.container.started&&t.particles.setResizeFactor({width:n.width/s.width,height:n.height/s.height}),!0}stop(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=void 0,this.draw((t=>bv(t,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}var wv;!function(t){t.canvas="canvas",t.parent="parent",t.window="window"}(wv||(wv={}));function Sv(t,e,n,i,r){if(i){let i={passive:!0};Ng(r)?i.capture=r:void 0!==r&&(i=r),t.addEventListener(e,n,i)}else{const i=r;t.removeEventListener(e,n,i)}}class kv{constructor(t){this.container=t,this._doMouseTouchClick=t=>{const e=this.container,n=e.actualOptions;if(this._canPush){const t=e.interactivity.mouse,i=t.position;if(!i)return;t.clickPosition={...i},t.clickTime=(new Date).getTime();Dm(n.interactivity.events.onClick.mode,(t=>this.container.handleClickMode(t)))}if("touchend"===t.type){setTimeout((()=>this._mouseTouchFinish()),500)}},this._handleThemeChange=t=>{const e=t,n=this.container,i=n.options,r=i.defaultThemes,s=e.matches?r.dark:r.light,a=i.themes.find((t=>t.name===s));null!==a&&void 0!==a&&a.default.auto&&n.loadTheme(s)},this._handleVisibilityChange=()=>{var t;const e=this.container,n=e.actualOptions;this._mouseTouchFinish(),n.pauseOnBlur&&(null!==(t=document)&&void 0!==t&&t.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.animationStatus?e.play(!0):e.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const t=this.container.canvas;await(null===t||void 0===t?void 0:t.windowResize())};this._resizeTimeout=setTimeout((()=>{t()}),this.container.actualOptions.interactivity.events.resize.delay*Dg)},this._manageInteractivityListeners=(t,e)=>{const n=this._handlers,i=this.container,r=i.actualOptions,s=i.interactivity.element;if(!s)return;const a=s,o=i.canvas.element;o&&(o.style.pointerEvents=a===o?"initial":"none"),(r.interactivity.events.onHover.enable||r.interactivity.events.onClick.enable)&&(Sv(s,Rg,n.mouseMove,e),Sv(s,"touchstart",n.touchStart,e),Sv(s,"touchmove",n.touchMove,e),r.interactivity.events.onClick.enable?(Sv(s,Fg,n.touchEndClick,e),Sv(s,"pointerup",n.mouseUp,e),Sv(s,"pointerdown",n.mouseDown,e)):Sv(s,Fg,n.touchEnd,e),Sv(s,t,n.mouseLeave,e),Sv(s,"touchcancel",n.touchCancel,e))},this._manageListeners=t=>{const e=this._handlers,n=this.container,i=n.actualOptions.interactivity.detectsOn,r=n.canvas.element;let s=Tg;if(i===wv.window)n.interactivity.element=window,s="pointerout";else if(i===wv.parent&&r){var a;n.interactivity.element=null!==(a=r.parentElement)&&void 0!==a?a:r.parentNode}else n.interactivity.element=r;this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(s,t),document&&Sv(document,"visibilitychange",e.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const e=this._handlers,n=wm("(prefers-color-scheme: dark)");n&&(void 0===n.addEventListener?void 0!==n.addListener&&(t?n.addListener(e.oldThemeChange):n.removeListener(e.oldThemeChange)):Sv(n,"change",e.themeChange,t))},this._manageResize=t=>{const e=this._handlers,n=this.container;if(!n.actualOptions.interactivity.events.resize)return;if("undefined"===typeof ResizeObserver)return void Sv(window,"resize",e.resize,t);const i=n.canvas.element;this._resizeObserver&&!t?(i&&this._resizeObserver.unobserve(i),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&i&&(this._resizeObserver=new ResizeObserver((t=>{t.find((t=>t.target===i))&&this._handleWindowResize()})),this._resizeObserver.observe(i))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:e}=t;e.clicking=!0,e.downPosition=e.position},this._mouseTouchClick=t=>{const e=this.container,n=e.actualOptions,{mouse:i}=e.interactivity;i.inside=!0;let r=!1;const s=i.position;if(s&&n.interactivity.events.onClick.enable){for(const[,t]of e.plugins)if(t.clickPositionValid&&(r=t.clickPositionValid(s),r))break;r||this._doMouseTouchClick(t),i.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const e=t.mouse;delete e.position,delete e.clickPosition,delete e.downPosition,t.status=Tg,e.inside=!1,e.clicking=!1},this._mouseTouchMove=t=>{const e=this.container,n=e.actualOptions,i=e.interactivity,r=e.canvas.element;if(null===i||void 0===i||!i.element)return;let s;if(i.mouse.inside=!0,t.type.startsWith("pointer")){this._canPush=!0;const e=t;if(i.element===window){if(r){const t=r.getBoundingClientRect();s={x:e.clientX-t.left,y:e.clientY-t.top}}}else if(n.interactivity.detectsOn===wv.parent){const t=e.target,n=e.currentTarget;if(t&&n&&r){const i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),o=r.getBoundingClientRect();s={x:e.offsetX+2*i.left-(a.left+o.left),y:e.offsetY+2*i.top-(a.top+o.top)}}else{var a,o;s={x:null!==(a=e.offsetX)&&void 0!==a?a:e.clientX,y:null!==(o=e.offsetY)&&void 0!==o?o:e.clientY}}}else if(e.target===r){var l,c;s={x:null!==(l=e.offsetX)&&void 0!==l?l:e.clientX,y:null!==(c=e.offsetY)&&void 0!==c?c:e.clientY}}}else if(this._canPush="touchmove"!==t.type,r){var u,h;const e=t,n=1,i=e.touches[e.touches.length-n],a=r.getBoundingClientRect(),o=0;s={x:i.clientX-(null!==(u=a.left)&&void 0!==u?u:o),y:i.clientY-(null!==(h=a.top)&&void 0!==h?h:o)}}const d=e.retina.pixelRatio;s&&(s.x*=d,s.y*=d),i.mouse.position=s,i.status=Rg},this._touchEnd=t=>{const e=t,n=Array.from(e.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const e=t,n=Array.from(e.changedTouches);for(const i of n)this._touches.delete(i.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const e=t,n=Array.from(e.changedTouches);for(const i of n)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Ev,Cv;!function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"}(Ev||(Ev={}));class Av{constructor(){this.value=""}static create(t,e){const n=new Av;return n.load(t),void 0!==e&&(jg(e)||Wg(e)?n.load({value:e}):n.load(e)),n}load(t){void 0!==(null===t||void 0===t?void 0:t.value)&&(this.value=t.value)}}class Pv{constructor(){this.color=new Av,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){t&&(void 0!==t.color&&(this.color=Av.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.position&&(this.position=t.position),void 0!==t.repeat&&(this.repeat=t.repeat),void 0!==t.size&&(this.size=t.size),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Mv{constructor(){this.opacity=1}load(t){t&&(void 0!==t.color&&(this.color=Av.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Tv{constructor(){this.composite="destination-out",this.cover=new Mv,this.enable=!1}load(t){if(t){if(void 0!==t.composite&&(this.composite=t.composite),void 0!==t.cover){const e=t.cover,n=jg(t.cover)?{color:t.cover}:t.cover;this.cover.load(void 0!==e.color||void 0!==e.image?e:{color:n})}void 0!==t.enable&&(this.enable=t.enable)}}}class Rv{constructor(){this.enable=!0,this.zIndex=0}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.zIndex&&(this.zIndex=t.zIndex))}}class Fv{constructor(){this.enable=!1,this.mode=[]}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode))}}!function(t){t.circle="circle",t.rectangle="rectangle"}(Cv||(Cv={}));class Iv{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Cv.circle}load(t){t&&(void 0!==t.selectors&&(this.selectors=t.selectors),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.type&&(this.type=t.type))}}class Lv{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.force&&(this.force=t.force),void 0!==t.smooth&&(this.smooth=t.smooth))}}class Dv{constructor(){this.enable=!1,this.mode=[],this.parallax=new Lv}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class Ov{constructor(){this.delay=.5,this.enable=!0}load(t){void 0!==t&&(void 0!==t.delay&&(this.delay=t.delay),void 0!==t.enable&&(this.enable=t.enable))}}class Nv{constructor(){this.onClick=new Fv,this.onDiv=new Iv,this.onHover=new Dv,this.resize=new Ov}load(t){if(!t)return;this.onClick.load(t.onClick);const e=t.onDiv;void 0!==e&&(this.onDiv=Dm(e,(t=>{const e=new Iv;return e.load(t),e}))),this.onHover.load(t.onHover),this.resize.load(t.resize)}}class jv{constructor(t,e){this._engine=t,this._container=e}load(t){if(!t)return;if(!this._container)return;const e=this._engine.interactors.get(this._container);if(e)for(const n of e)n.loadModeOptions&&n.loadModeOptions(this,t)}}class zv{constructor(t,e){this.detectsOn=wv.window,this.events=new Nv,this.modes=new jv(t,e)}load(t){if(!t)return;const e=t.detectsOn;void 0!==e&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class Bv{load(t){if(t){var e,n,i;if(t.position)this.position={x:null!==(e=t.position.x)&&void 0!==e?e:50,y:null!==(n=t.position.y)&&void 0!==n?n:50,mode:null!==(i=t.position.mode)&&void 0!==i?i:mm.percent};t.options&&(this.options=Pm({},t.options))}}}var Wv,Hv,Vv,Uv,Gv,qv,Xv;!function(t){t.screen="screen",t.canvas="canvas"}(Wv||(Wv={}));class Kv{constructor(){this.maxWidth=1/0,this.options={},this.mode=Wv.canvas}load(t){t&&(void 0!==t.maxWidth&&(this.maxWidth=t.maxWidth),void 0!==t.mode&&(t.mode===Wv.screen?this.mode=Wv.screen:this.mode=Wv.canvas),void 0!==t.options&&(this.options=Pm({},t.options)))}}!function(t){t.any="any",t.dark="dark",t.light="light"}(Hv||(Hv={}));class Yv{constructor(){this.auto=!1,this.mode=Hv.any,this.value=!1}load(t){t&&(void 0!==t.auto&&(this.auto=t.auto),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class Qv{constructor(){this.name="",this.default=new Yv}load(t){t&&(void 0!==t.name&&(this.name=t.name),this.default.load(t.default),void 0!==t.options&&(this.options=Pm({},t.options)))}}class Jv{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){t&&(void 0!==t.count&&(this.count=sm(t.count)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=sm(t.speed)),void 0!==t.decay&&(this.decay=sm(t.decay)),void 0!==t.delay&&(this.delay=sm(t.delay)),void 0!==t.sync&&(this.sync=t.sync))}}class $v extends Jv{constructor(){super(),this.mode=dm.auto,this.startValue=vm.random}load(t){super.load(t),t&&(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.startValue&&(this.startValue=t.startValue))}}class Zv extends Jv{constructor(){super(),this.offset=0,this.sync=!0}load(t){super.load(t),t&&void 0!==t.offset&&(this.offset=sm(t.offset))}}class tb{constructor(){this.h=new Zv,this.s=new Zv,this.l=new Zv}load(t){t&&(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class eb extends Av{constructor(){super(),this.animation=new tb}static create(t,e){const n=new eb;return n.load(t),void 0!==e&&(jg(e)||Wg(e)?n.load({value:e}):n.load(e)),n}load(t){if(super.load(t),!t)return;const e=t.animation;void 0!==e&&(void 0!==e.enable?this.animation.h.load(e):this.animation.load(t.animation))}}!function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"}(Vv||(Vv={}));class nb{constructor(){this.speed=2}load(t){t&&void 0!==t.speed&&(this.speed=t.speed)}}class ib{constructor(){this.enable=!0,this.retries=0}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.retries&&(this.retries=t.retries))}}class rb{constructor(){this.value=0}load(t){t&&void 0!==t.value&&(this.value=sm(t.value))}}class sb extends rb{constructor(){super(),this.animation=new Jv}load(t){if(super.load(t),!t)return;const e=t.animation;void 0!==e&&this.animation.load(e)}}class ab extends sb{constructor(){super(),this.animation=new $v}load(t){super.load(t)}}class ob extends rb{constructor(){super(),this.value=1}}class lb{constructor(){this.horizontal=new ob,this.vertical=new ob}load(t){t&&(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class cb{constructor(){this.absorb=new nb,this.bounce=new lb,this.enable=!1,this.maxSpeed=50,this.mode=Vv.bounce,this.overlap=new ib}load(t){t&&(this.absorb.load(t.absorb),this.bounce.load(t.bounce),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.maxSpeed&&(this.maxSpeed=sm(t.maxSpeed)),void 0!==t.mode&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class ub{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(t){if(!t)return;const e=t.options;if(void 0!==e)for(const i in e){const t=e[i];var n;if(t)this.options[i]=Pm(null!==(n=this.options[i])&&void 0!==n?n:{},t)}void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class hb{constructor(){this.offset=0,this.value=90}load(t){t&&(void 0!==t.offset&&(this.offset=sm(t.offset)),void 0!==t.value&&(this.value=sm(t.value)))}}class db{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(t){if(t&&(void 0!==t.distance&&(this.distance=sm(t.distance)),void 0!==t.enable&&(this.enable=t.enable),t.rotate)){const e=t.rotate.x;void 0!==e&&(this.rotate.x=e);const n=t.rotate.y;void 0!==n&&(this.rotate.y=n)}}}class pb{constructor(){this.x=50,this.y=50,this.mode=mm.percent,this.radius=0}load(t){t&&(void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.radius&&(this.radius=t.radius))}}class fb{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){t&&(void 0!==t.acceleration&&(this.acceleration=sm(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.inverse&&(this.inverse=t.inverse),void 0!==t.maxSpeed&&(this.maxSpeed=sm(t.maxSpeed)))}}class gb{constructor(){this.clamp=!0,this.delay=new rb,this.enable=!1,this.options={}}load(t){t&&(void 0!==t.clamp&&(this.clamp=t.clamp),this.delay.load(t.delay),void 0!==t.enable&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=Pm(this.options,t.options)))}}class mb{load(t){t&&(void 0!==t.color&&(this.color=Av.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image))}}class vb{constructor(){this.enable=!1,this.length=10,this.fill=new mb}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.fill&&this.fill.load(t.fill),void 0!==t.length&&(this.length=t.length))}}!function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"}(Uv||(Uv={}));class bb{constructor(){this.default=Uv.out}load(t){var e,n,i,r;t&&(void 0!==t.default&&(this.default=t.default),this.bottom=null!==(e=t.bottom)&&void 0!==e?e:t.default,this.left=null!==(n=t.left)&&void 0!==n?n:t.default,this.right=null!==(i=t.right)&&void 0!==i?i:t.default,this.top=null!==(r=t.top)&&void 0!==r?r:t.default)}}class yb{constructor(){this.acceleration=0,this.enable=!1}load(t){t&&(void 0!==t.acceleration&&(this.acceleration=sm(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),t.position&&(this.position=Pm({},t.position)))}}class _b{constructor(){this.angle=new hb,this.attract=new db,this.center=new pb,this.decay=0,this.distance={},this.direction=Og.none,this.drift=0,this.enable=!1,this.gravity=new fb,this.path=new gb,this.outModes=new bb,this.random=!1,this.size=!1,this.speed=2,this.spin=new yb,this.straight=!1,this.trail=new vb,this.vibrate=!1,this.warp=!1}load(t){if(!t)return;this.angle.load(zg(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),void 0!==t.decay&&(this.decay=sm(t.decay)),void 0!==t.direction&&(this.direction=t.direction),void 0!==t.distance&&(this.distance=zg(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),void 0!==t.drift&&(this.drift=sm(t.drift)),void 0!==t.enable&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes;void 0!==e&&(Bg(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path),void 0!==t.random&&(this.random=t.random),void 0!==t.size&&(this.size=t.size),void 0!==t.speed&&(this.speed=sm(t.speed)),this.spin.load(t.spin),void 0!==t.straight&&(this.straight=t.straight),this.trail.load(t.trail),void 0!==t.vibrate&&(this.vibrate=t.vibrate),void 0!==t.warp&&(this.warp=t.warp)}}class xb extends $v{constructor(){super(),this.destroy=fm.none,this.speed=2}load(t){super.load(t),t&&void 0!==t.destroy&&(this.destroy=t.destroy)}}class wb extends ab{constructor(){super(),this.animation=new xb,this.value=1}load(t){if(!t)return;super.load(t);const e=t.animation;void 0!==e&&this.animation.load(e)}}class Sb{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(t){if(!t)return;void 0!==t.enable&&(this.enable=t.enable);const e=t.width;void 0!==e&&(this.width=e);const n=t.height;void 0!==n&&(this.height=n)}}!function(t){t.delete="delete",t.wait="wait"}(Gv||(Gv={}));class kb{constructor(){this.mode=Gv.delete,this.value=0}load(t){t&&(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class Eb{constructor(){this.density=new Sb,this.limit=new kb,this.value=0}load(t){t&&(this.density.load(t.density),this.limit.load(t.limit),void 0!==t.value&&(this.value=t.value))}}class Cb{constructor(){this.blur=0,this.color=new Av,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){t&&(void 0!==t.blur&&(this.blur=t.blur),this.color=Av.create(this.color,t.color),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.offset&&(void 0!==t.offset.x&&(this.offset.x=t.offset.x),void 0!==t.offset.y&&(this.offset.y=t.offset.y)))}}class Ab{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(t){if(!t)return;const e=t.options;if(void 0!==e)for(const i in e){const t=e[i];var n;if(t)this.options[i]=Pm(null!==(n=this.options[i])&&void 0!==n?n:{},t)}void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class Pb extends $v{constructor(){super(),this.destroy=fm.none,this.speed=5}load(t){super.load(t),t&&void 0!==t.destroy&&(this.destroy=t.destroy)}}class Mb extends ab{constructor(){super(),this.animation=new Pb,this.value=3}load(t){if(super.load(t),!t)return;const e=t.animation;void 0!==e&&this.animation.load(e)}}class Tb{constructor(){this.width=0}load(t){t&&(void 0!==t.color&&(this.color=eb.create(this.color,t.color)),void 0!==t.width&&(this.width=sm(t.width)),void 0!==t.opacity&&(this.opacity=sm(t.opacity)))}}class Rb extends rb{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),t&&(void 0!==t.opacityRate&&(this.opacityRate=t.opacityRate),void 0!==t.sizeRate&&(this.sizeRate=t.sizeRate),void 0!==t.velocityRate&&(this.velocityRate=t.velocityRate))}}class Fb{constructor(t,e){this._engine=t,this._container=e,this.bounce=new lb,this.collisions=new cb,this.color=new eb,this.color.value="#fff",this.effect=new ub,this.groups={},this.move=new _b,this.number=new Eb,this.opacity=new wb,this.reduceDuplicates=!1,this.shadow=new Cb,this.shape=new Ab,this.size=new Mb,this.stroke=new Tb,this.zIndex=new Rb}load(t){if(!t)return;if(void 0!==t.groups)for(const i of Object.keys(t.groups)){if(!Object.hasOwn(t.groups,i))continue;const n=t.groups[i];var e;if(void 0!==n)this.groups[i]=Pm(null!==(e=this.groups[i])&&void 0!==e?e:{},n)}void 0!==t.reduceDuplicates&&(this.reduceDuplicates=t.reduceDuplicates),this.bounce.load(t.bounce),this.color.load(eb.create(this.color,t.color)),this.effect.load(t.effect),this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex),this.collisions.load(t.collisions),void 0!==t.interactivity&&(this.interactivity=Pm({},t.interactivity));const n=t.stroke;if(n&&(this.stroke=Dm(n,(t=>{const e=new Tb;return e.load(t),e}))),this._container){const e=this._engine.updaters.get(this._container);if(e)for(const i of e)i.loadOptions&&i.loadOptions(this,t);const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadParticlesOptions&&i.loadParticlesOptions(this,t)}}}function Ib(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.load(r)}function Lb(t,e){const n=new Fb(t,e);for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return Ib(n,...r),n}class Db{constructor(t,e){this._findDefaultTheme=t=>{var e;return null!==(e=this.themes.find((e=>e.default.value&&e.default.mode===t)))&&void 0!==e?e:this.themes.find((t=>t.default.value&&t.default.mode===Hv.any))},this._importPreset=t=>{this.load(this._engine.getPreset(t))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new Pv,this.backgroundMask=new Tv,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new Rv,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new zv(t,e),this.manualParticles=[],this.particles=Lb(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(t){var e,n;if(!t)return;void 0!==t.preset&&Dm(t.preset,(t=>this._importPreset(t))),void 0!==t.autoPlay&&(this.autoPlay=t.autoPlay),void 0!==t.clear&&(this.clear=t.clear),void 0!==t.key&&(this.key=t.key),void 0!==t.name&&(this.name=t.name),void 0!==t.delay&&(this.delay=sm(t.delay));const i=t.detectRetina;void 0!==i&&(this.detectRetina=i),void 0!==t.duration&&(this.duration=sm(t.duration));const r=t.fpsLimit;void 0!==r&&(this.fpsLimit=r),void 0!==t.pauseOnBlur&&(this.pauseOnBlur=t.pauseOnBlur),void 0!==t.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),void 0!==t.zLayers&&(this.zLayers=t.zLayers),this.background.load(t.background);const s=t.fullScreen;Ng(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map((t=>{const e=new Bv;return e.load(t),e}))),this.particles.load(t.particles),this.style=Pm(this.style,t.style),this._engine.loadOptions(this,t),void 0!==t.smooth&&(this.smooth=t.smooth);const a=this._engine.interactors.get(this._container);if(a)for(const o of a)o.loadOptions&&o.loadOptions(this,t);if(void 0!==t.responsive)for(const o of t.responsive){const t=new Kv;t.load(o),this.responsive.push(t)}if(this.responsive.sort(((t,e)=>t.maxWidth-e.maxWidth)),void 0!==t.themes)for(const o of t.themes){const t=this.themes.find((t=>t.name===o.name));if(t)t.load(o);else{const t=new Qv;t.load(o),this.themes.push(t)}}this.defaultThemes.dark=null===(e=this._findDefaultTheme(Hv.dark))||void 0===e?void 0:e.name,this.defaultThemes.light=null===(n=this._findDefaultTheme(Hv.light))||void 0===n?void 0:n.name}setResponsive(t,e,n){this.load(n);const i=this.responsive.find((n=>n.mode===Wv.screen&&screen?n.maxWidth>screen.availWidth:n.maxWidth*e>t));return this.load(null===i||void 0===i?void 0:i.options),null===i||void 0===i?void 0:i.maxWidth}setTheme(t){if(t){const e=this.themes.find((e=>e.name===t));e&&this.load(e.options)}else{const t=wm("(prefers-color-scheme: dark)"),e=null===t||void 0===t?void 0:t.matches,n=this._findDefaultTheme(e?Hv.dark:Hv.light);n&&this.load(n.options)}}}!function(t){t.external="external",t.particles="particles"}(qv||(qv={}));class Ob{constructor(t,e){this.container=e,this._engine=t,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&e.interact(t)}handleClickMode(t){for(const n of this._externalInteractors){var e;null===(e=n.handleClickMode)||void 0===e||e.call(n,t)}}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case qv.external:this._externalInteractors.push(t);break;case qv.particles:this._particleInteractors.push(t)}t.init()}}particlesInteract(t,e){for(const n of this._externalInteractors)n.clear(t,e);for(const n of this._particleInteractors)n.isEnabled(t)&&n.interact(t,e)}reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}!function(t){t.normal="normal",t.inside="inside",t.outside="outside"}(Xv||(Xv={}));const Nb=.5,jb="random";function zb(t){if(!Sm(t.outMode,t.checkModes))return;const e=2*t.radius;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class Bb{constructor(t,e){var n=this;this.container=e,this._calcPosition=function(t,e,i){var r,s,a,o;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(const[,g]of t.plugins){const t=void 0!==g.particlePosition?g.particlePosition(e,n):void 0;if(t)return Gg.create(t.x,t.y,i)}const c=um({size:t.canvas.size,position:e}),u=Gg.create(c.x,c.y,i),h=n.getRadius(),d=n.options.move.outModes,p=e=>{zb({outMode:e,checkModes:[Uv.bounce],coord:u.x,maxCoord:t.canvas.size.width,setCb:t=>u.x+=t,radius:h})},f=e=>{zb({outMode:e,checkModes:[Uv.bounce],coord:u.y,maxCoord:t.canvas.size.height,setCb:t=>u.y+=t,radius:h})};if(p(null!==(r=d.left)&&void 0!==r?r:d.default),p(null!==(s=d.right)&&void 0!==s?s:d.default),f(null!==(a=d.top)&&void 0!==a?a:d.default),f(null!==(o=d.bottom)&&void 0!==o?o:d.default),n._checkOverlap(u,l)){const e=1;return n._calcPosition(t,void 0,i,l+e)}return u},this._calculateVelocity=()=>{const t=function(t){const e=qg.origin;return e.length=1,e.angle=t,e}(this.direction).copy(),e=this.options.move;if(e.direction===Og.inside||e.direction===Og.outside)return t;const n=lm(nm(e.angle.value)),i=lm(nm(e.angle.offset)),r={left:i-n*Nb,right:i+n*Nb};return e.straight||(t.angle+=em(sm(r.left,r.right))),e.random&&"number"===typeof e.speed&&(t.length*=$g()),t},this._checkOverlap=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=n.options.collisions,r=n.getRadius();if(!i.enable)return!1;const s=i.overlap;if(s.enable)return!1;const a=s.retries;if(a>=0&&e>a)throw new Error("".concat(Ig," particle is overlapping and can't be placed"));return!!n.container.particles.find((e=>om(t,e.position)<r+e.getRadius()))},this._getRollColor=t=>{var e;if(!t||!this.roll||!this.backColor&&!this.roll.alter)return t;const n=this.roll.horizontal&&this.roll.vertical?2:1,i=this.roll.horizontal?Math.PI*Nb:0;return Math.floor(((null!==(e=this.roll.angle)&&void 0!==e?e:0)+i)/(Math.PI/n))%2?this.backColor?this.backColor:this.roll.alter?function(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Hm.darken?-1:1)*n}}(t,this.roll.alter.type,this.roll.alter.value):t:t},this._initPosition=t=>{var e,n;const i=this.container,r=nm(this.options.zIndex.value);this.position=this._calcPosition(i,t,Zg(r,0,i.zLayers)),this.initialPosition=this.position.copy();const s=i.canvas.size;switch(this.moveCenter={...Bm(this.options.move.center,s),radius:null!==(e=this.options.move.center.radius)&&void 0!==e?e:0,mode:null!==(n=this.options.move.center.mode)&&void 0!==n?n:mm.percent},this.direction=function(t,e,n){if(zg(t))return lm(t);const i=.25;switch(t){case Og.top:return.5*-Math.PI;case Og.topRight:return-Math.PI*i;case Og.right:return 0;case Og.bottomRight:return Math.PI*i;case Og.bottom:return.5*Math.PI;case Og.bottomLeft:return.75*Math.PI;case Og.left:return Math.PI;case Og.topLeft:return.75*-Math.PI;case Og.inside:return Math.atan2(n.y-e.y,n.x-e.x);case Og.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return $g()*Yg}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Og.inside:this.outType=Xv.inside;break;case Og.outside:this.outType=Xv.outside}this.offset=qg.origin},this._engine=t}destroy(t){var e;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);null===r||void 0===r||null===(e=r.particleDestroy)||void 0===e||e.call(r,this);for(const[,o]of n.plugins){var s;null===(s=o.particleDestroyed)||void 0===s||s.call(o,this,t)}for(const o of n.particles.updaters){var a;null===(a=o.particleDestroyed)||void 0===a||a.call(o,this,t)}null===i||void 0===i||i.reset(this),this._engine.dispatchEvent(Ev.particleDestroyed,{container:this.container,data:{particle:this}})}draw(t){const e=this.container,n=e.canvas;for(const[,i]of e.plugins)n.drawParticlePlugin(i,this,t);n.drawParticle(this,t)}getFillColor(){var t;return this._getRollColor(null!==(t=this.bubble.color)&&void 0!==t?t:av(this.color))}getMass(){return this.getRadius()**2*Math.PI*Nb}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var t;return null!==(t=this.bubble.radius)&&void 0!==t?t:this.size.value}getStrokeColor(){var t;return this._getRollColor(null!==(t=this.bubble.color)&&void 0!==t?t:av(this.strokeColor))}init(t,e,n,i){var r,s,a,o,l,c,u,h,d,p,f;const g=this.container,m=this._engine;this.id=t,this.group=i,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Xv.normal,this.ignoresResizeRatio=!0;const v=g.retina.pixelRatio,b=g.actualOptions,y=Lb(this._engine,g,b.particles),{reduceDuplicates:_}=y,x=y.effect.type,w=y.shape.type;this.effect=Om(x,this.id,_),this.shape=Om(w,this.id,_);const S=y.effect,k=y.shape;if(n){var E,C;if(null!==(E=n.effect)&&void 0!==E&&E.type){const t=Om(n.effect.type,this.id,_);t&&(this.effect=t,S.load(n.effect))}if(null!==(C=n.shape)&&void 0!==C&&C.type){const t=Om(n.shape.type,this.id,_);t&&(this.shape=t,k.load(n.shape))}}if(this.effect===jb){const t=[...this.container.effectDrawers.keys()];this.effect=t[Math.floor(Math.random()*t.length)]}if(this.shape===jb){const t=[...this.container.shapeDrawers.keys()];this.shape=t[Math.floor(Math.random()*t.length)]}this.effectData=function(t,e,n,i){const r=e.options[t];if(r)return Pm({close:e.close,fill:e.fill},Om(r,n,i))}(this.effect,S,this.id,_),this.shapeData=function(t,e,n,i){const r=e.options[t];if(r)return Pm({close:e.close,fill:e.fill},Om(r,n,i))}(this.shape,k,this.id,_),y.load(n);const A=this.effectData;A&&y.load(A.particles);const P=this.shapeData;P&&y.load(P.particles);const M=new zv(m,g);M.load(g.actualOptions.interactivity),M.load(y.interactivity),this.interactivity=M,this.effectFill=null!==(r=null===A||void 0===A?void 0:A.fill)&&void 0!==r?r:y.effect.fill,this.effectClose=null!==(s=null===A||void 0===A?void 0:A.close)&&void 0!==s?s:y.effect.close,this.shapeFill=null!==(a=null===P||void 0===P?void 0:P.fill)&&void 0!==a?a:y.shape.fill,this.shapeClose=null!==(o=null===P||void 0===P?void 0:P.close)&&void 0!==o?o:y.shape.close,this.options=y;const T=this.options.move.path;this.pathDelay=nm(T.delay.value)*Dg,T.generator&&(this.pathGenerator=this._engine.getPathGenerator(T.generator),this.pathGenerator&&g.addPath(T.generator,this.pathGenerator)&&this.pathGenerator.init(g)),g.retina.initParticle(this),this.size=jm(this.options.size,v),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();this.moveDecay=1-nm(this.options.move.decay);const R=g.particles;R.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/g.zLayers,this.sides=24;let F=g.effectDrawers.get(this.effect);F||(F=this._engine.getEffectDrawer(this.effect),F&&g.effectDrawers.set(this.effect,F)),null!==(l=F)&&void 0!==l&&l.loadEffect&&F.loadEffect(this);let I=g.shapeDrawers.get(this.shape);I||(I=this._engine.getShapeDrawer(this.shape),I&&g.shapeDrawers.set(this.shape,I)),null!==(c=I)&&void 0!==c&&c.loadShape&&I.loadShape(this);const L=null===(u=I)||void 0===u?void 0:u.getSidesCount;L&&(this.sides=L(this)),this.spawning=!1,this.shadowColor=Ym(this.options.shadow.color);for(const N of R.updaters)N.init(this);for(const N of R.movers){var D;null===(D=N.init)||void 0===D||D.call(N,this)}null===(h=F)||void 0===h||null===(d=h.particleInit)||void 0===d||d.call(h,g,this),null===(p=I)||void 0===p||null===(f=p.particleInit)||void 0===f||f.call(p,g,this);for(const[,N]of g.plugins){var O;null===(O=N.particleCreated)||void 0===O||O.call(N,this)}}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,n=this.position;return n.x>=-t&&n.y>=-t&&n.y<=e.height+t&&n.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters){var t;null===(t=e.reset)||void 0===t||t.call(e,this)}}}class Wb{constructor(t,e){this.position=t,this.particle=e}}var Hb;!function(t){t.circle="circle",t.rectangle="rectangle"}(Hb||(Hb={}));class Vb{constructor(t,e,n){this.position={x:t,y:e},this.type=n}}class Ub extends Vb{constructor(t,e,n){super(t,e,Hb.circle),this.radius=n}contains(t){return om(t,this.position)<=this.radius}intersects(t){const e=this.position,n=t.position,i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),s=this.radius;if(t instanceof Ub||t.type===Hb.circle){return s+t.radius>Math.sqrt(i**2+r**2)}if(t instanceof Gb||t.type===Hb.rectangle){const e=t,{width:n,height:a}=e.size;return Math.pow(i-n,2)+Math.pow(r-a,2)<=s**2||i<=s+n&&r<=s+a||i<=n||r<=a}return!1}}class Gb extends Vb{constructor(t,e,n,i){super(t,e,Hb.rectangle),this.size={height:i,width:n}}contains(t){const e=this.size.width,n=this.size.height,i=this.position;return t.x>=i.x&&t.x<=i.x+e&&t.y>=i.y&&t.y<=i.y+n}intersects(t){if(t instanceof Ub)return t.intersects(this);const e=this.size.width,n=this.size.height,i=this.position,r=t.position,s=t instanceof Gb?t.size:{width:0,height:0},a=s.width,o=s.height;return r.x<i.x+e&&r.x+a>i.x&&r.y<i.y+n&&r.y+o>i.y}}const qb=.5;class Xb{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:t,y:e}=this.rectangle.position,{width:n,height:i}=this.rectangle.size,{capacity:r}=this;for(let s=0;s<4;s++){const a=s%2;this._subs.push(new Xb(new Gb(t+n*qb*a,e+i*qb*(Math.round(s*qb)-a),n*qb,i*qb),r))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return!!this.rectangle.contains(t.position)&&(this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some((e=>e.insert(t)))))}query(t,e){const n=[];if(!t.intersects(this.rectangle))return[];for(const i of this._points)!t.contains(i.position)&&om(t.position,i.position)>i.particle.getRadius()&&(!e||e(i.particle))||n.push(i.particle);if(this._divided)for(const i of this._subs)n.push(...i.query(t,e));return n}queryCircle(t,e,n){return this.query(new Ub(t.x,t.y,e),n)}queryRectangle(t,e,n){return this.query(new Gb(t.x,t.y,e.width,e.height),n)}}const Kb=t=>{const{height:e,width:n}=t;return new Gb(-.25*n,-.25*e,1.5*n,1.5*e)};class Yb{constructor(t,e){var n=this;this._addToPool=function(){n._pool.push(...arguments)},this._applyDensity=(t,e,n)=>{var i;const r=t.number;if(null===(i=t.number.density)||void 0===i||!i.enable)return void(void 0===n?this._limit=r.limit.value:r.limit&&this._groupLimits.set(n,r.limit.value));const s=this._initDensityFactor(r.density),a=r.value,o=r.limit.value>0?r.limit.value:a,l=Math.min(a,o)*s+e,c=Math.min(this.count,this.filter((t=>t.group===n)).length);void 0===n?this._limit=r.limit.value*s:this._groupLimits.set(n,r.limit.value*s),c<l?this.push(Math.abs(l-c),void 0,t,n):c>l&&this.removeQuantity(c-l,n)},this._initDensityFactor=t=>{const e=this._container;if(!e.canvas.element||!t.enable)return 1;const n=e.canvas.element,i=e.retina.pixelRatio;return n.width*n.height/(t.height*t.width*i**2)},this._pushParticle=(t,e,n,i)=>{try{let r=this._pool.pop();r||(r=new Bb(this._engine,this._container)),r.init(this._nextId,t,e,n);let s=!0;if(i&&(s=i(r)),!s)return;return this._array.push(r),this._zArray.push(r),this._nextId++,this._engine.dispatchEvent(Ev.particleAdded,{container:this._container,data:{particle:r}}),r}catch(r){ym().warning("".concat(Ig," adding particle: ").concat(r))}},this._removeParticle=(t,e,n)=>{const i=this._array[t];if(!i||i.group!==e)return!1;const r=this._zArray.indexOf(i);return this._array.splice(t,1),this._zArray.splice(r,1),i.destroy(n),this._engine.dispatchEvent(Ev.particleRemoved,{container:this._container,data:{particle:i}}),this._addToPool(i),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Ob(t,e),this._pluginsInitialized=!1;const i=e.canvas.size;this.quadTree=new Xb(Kb(i),4),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const t=this._container;t.actualOptions.manualParticles.forEach((e=>this.addParticle(e.position?Bm(e.position,t.canvas.size):void 0,e.options)))}addParticle(t,e,n,i){var r;const s=this._container.actualOptions.particles.number.limit.mode,a=void 0===n?this._limit:null!==(r=this._groupLimits.get(n))&&void 0!==r?r:this._limit,o=this.count;if(a>0)switch(s){case Gv.delete:{const t=o+1-a;t>0&&this.removeQuantity(t);break}case Gv.wait:if(o>=a)return}return this._pushParticle(t,e,n,i)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(t){const e=this._container,n=e.canvas;n.clear(),this.update(t);for(const[,i]of e.plugins)n.drawPlugin(i,t);for(const i of this._zArray)i.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}get(t){return this._array[t]}handleClickMode(t){this._interactionManager.handleClickMode(t)}async init(){const t=this._container,e=t.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let n=!1;for(const[,a]of t.plugins){var i,r;if(n=null!==(i=null===(r=a.particlesInitialization)||void 0===r?void 0:r.call(a))&&void 0!==i?i:n,n)break}if(this.addManualParticles(),!n){const t=e.particles,n=t.groups;for(const e in n){const i=n[e];for(let n=this.count,r=0;r<(null===(s=i.number)||void 0===s?void 0:s.value)&&n<t.number.value;n++,r++){var s;this.addParticle(void 0,i,e)}}for(let e=this.count;e<t.number.value;e++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const t=this._container;this.movers=await this._engine.getMovers(t,!0),this.updaters=await this._engine.getUpdaters(t,!0),await this._interactionManager.init();for(const[,e]of t.pathGenerators)e.init(t)}push(t,e,n,i){for(let r=0;r<t;r++)this.addParticle(null===e||void 0===e?void 0:e.position,n,i)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(t,e,n){this.removeAt(this._array.indexOf(t),void 0,e,n)}removeAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(t<0||t>this.count)return;let r=0;for(let s=t;r<e&&s<this.count;s++)this._removeParticle(s--,n,i)&&r++}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const n in e)this._applyDensity(e[n],0,n);this._applyDensity(t.particles,t.manualParticles.length)}setLastZIndex(t){this._lastZIndex=t,this._needsSort=this._needsSort||this._lastZIndex<t}setResizeFactor(t){this._resizeFactor=t}update(t){const e=this._container,n=new Set;this.quadTree=new Xb(Kb(e.canvas.size),4);for(const[,a]of e.pathGenerators)a.update();for(const[,a]of e.plugins){var i;null===(i=a.update)||void 0===i||i.call(a,t)}const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const[,e]of this._container.plugins){var s;if(a.destroyed)break;null===(s=e.particleUpdate)||void 0===s||s.call(e,a,t)}for(const e of this.movers)e.isEnabled(a)&&e.move(a,t);a.destroyed?n.add(a):this.quadTree.insert(new Wb(a.getPosition(),a))}if(n.size){const t=t=>!n.has(t);this._array=this.filter(t),this._zArray=this._zArray.filter(t);for(const e of n)this._engine.dispatchEvent(Ev.particleRemoved,{container:this._container,data:{particle:e}});this._addToPool(...n)}this._interactionManager.externalInteract(t);for(const a of this._array){for(const e of this.updaters)e.update(a,t);a.destroyed||a.spawning||this._interactionManager.particlesInteract(a,t)}if(delete this._resizeFactor,this._needsSort){const t=this._zArray;t.sort(((t,e)=>e.position.z-t.position.z||t.id-e.id));const e=1;this._lastZIndex=t[t.length-e].position.z,this._needsSort=!1}}}class Qb{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||xm()?1:window.devicePixelRatio,this.reduceFactor=1;const n=this.pixelRatio,i=t.canvas;if(i.element){const t=i.element;i.size.width=t.offsetWidth*n,i.size.height=t.offsetHeight*n}const r=e.particles,s=r.move;this.maxSpeed=nm(s.gravity.maxSpeed)*n,this.sizeAnimationSpeed=nm(r.size.animation.speed)*n}initParticle(t){const e=t.options,n=this.pixelRatio,i=e.move,r=i.distance,s=t.retina;s.moveDrift=nm(i.drift)*n,s.moveSpeed=nm(i.speed)*n,s.sizeAnimationSpeed=nm(e.size.animation.speed)*n;const a=s.maxDistance;a.horizontal=void 0!==r.horizontal?r.horizontal*n:void 0,a.vertical=void 0!==r.vertical?r.vertical*n:void 0,s.maxSpeed=nm(i.gravity.maxSpeed)*n}}function Jb(t){return t&&!t.destroyed}function $b(t,e){const n=new Db(t,e);for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return Ib(n,...r),n}class Zb{constructor(t,e,n){this._intersectionManager=t=>{if(Jb(this)&&this.actualOptions.pauseOnOutsideViewport)for(const e of t)e.target===this.interactivity.element&&(e.isIntersecting?this.play():this.pause())},this._nextFrame=t=>{try{var e;if(!this._smooth&&void 0!==this._lastFrameTime&&t<this._lastFrameTime+Dg/this.fpsLimit)return void this.draw(!1);null!==(e=this._lastFrameTime)&&void 0!==e||(this._lastFrameTime=t);const n=function(t){return{value:t,factor:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?60/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:60):60*t/Dg}}(t-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(n.value),this._lastFrameTime=t,n.value>Dg)return void this.draw(!1);if(this.particles.draw(n),!this.alive())return void this.destroy();this.animationStatus&&this.draw(!1)}catch(n){ym().error("".concat(Ig," in animation loop"),n)}},this._engine=t,this.id=Symbol(e),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new Qb(this),this.canvas=new xv(this),this.particles=new Yb(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=$b(this._engine,this),this.actualOptions=$b(this._engine,this),this._eventListeners=new kv(this),this._intersectionObserver=function(t){if(!xm()&&"undefined"!==typeof IntersectionObserver)return new IntersectionObserver(t)}((t=>this._intersectionManager(t))),this._engine.dispatchEvent(Ev.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Jb(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!Jb(this))return;const e=this.interactivity.element;if(!e)return;const n=(e,n,i)=>{if(!Jb(this))return;const r=this.retina.pixelRatio,s={x:n.x*r,y:n.y*r},a=this.particles.quadTree.queryCircle(s,i*r);t(e,a)};let i=!1,r=!1;this._clickHandlers.set("click",(t=>{if(!Jb(this))return;const e=t,i={x:e.offsetX||e.clientX,y:e.offsetY||e.clientY};n(t,i,1)})),this._clickHandlers.set("touchstart",(()=>{Jb(this)&&(i=!0,r=!1)})),this._clickHandlers.set("touchmove",(()=>{Jb(this)&&(r=!0)})),this._clickHandlers.set("touchend",(t=>{if(Jb(this)){if(i&&!r){const e=t,i=1;let r=e.touches[e.touches.length-i];if(!r&&(r=e.changedTouches[e.changedTouches.length-i],!r))return;const s=this.canvas.element,a=s?s.getBoundingClientRect():void 0,o=0,l={x:r.clientX-(a?a.left:o),y:r.clientY-(a?a.top:o)};n(t,l,Math.max(r.radiusX,r.radiusY))}i=!1,r=!1}})),this._clickHandlers.set("touchcancel",(()=>{Jb(this)&&(i=!1,r=!1)}));for(const[s,a]of this._clickHandlers)e.addEventListener(s,a)}addLifeTime(t){this._lifeTime+=t}addPath(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!Jb(this)||!n&&this.pathGenerators.has(t))&&(this.pathGenerators.set(t,e),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(Jb(this)){for(const[e,n]of this._clickHandlers){var t;null===(t=this.interactivity.element)||void 0===t||t.removeEventListener(e,n)}this._clickHandlers.clear()}}destroy(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Jb(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const[,t]of this.effectDrawers){var e;null===(e=t.destroy)||void 0===e||e.call(t,this)}for(const[,t]of this.shapeDrawers){var n;null===(n=t.destroy)||void 0===n||n.call(t,this)}for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,t){const t=this._engine.items,e=t.findIndex((t=>t===this));if(e>=0){const n=1;t.splice(e,n)}}this._engine.dispatchEvent(Ev.containerDestroyed,{container:this})}}draw(t){if(!Jb(this))return;let e=t;const n=t=>{e&&(this._lastFrameTime=void 0,e=!1),this._nextFrame(t)};this._drawAnimationFrame=requestAnimationFrame((t=>n(t)))}async export(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[,n]of this.plugins){if(!n.export)continue;const i=await n.export(t,e);if(i.supported)return i.blob}ym().error("".concat(Ig," - Export plugin with type ").concat(t," not found"))}handleClickMode(t){if(Jb(this)){this.particles.handleClickMode(t);for(const[,n]of this.plugins){var e;null===(e=n.handleClickMode)||void 0===e||e.call(n,t)}}}async init(){if(!Jb(this))return;const t=this._engine.getSupportedEffects();for(const d of t){const t=this._engine.getEffectDrawer(d);t&&this.effectDrawers.set(d,t)}const e=this._engine.getSupportedShapes();for(const d of e){const t=this._engine.getShapeDrawer(d);t&&this.shapeDrawers.set(d,t)}await this.particles.initPlugins(),this._options=$b(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=$b(this._engine,this,this._options);const n=await this._engine.getAvailablePlugins(this);for(const[d,p]of n)this.plugins.set(d,p);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:i,duration:r,delay:s,fpsLimit:a,smooth:o}=this.actualOptions;this.zLayers=i,this._duration=nm(r)*Dg,this._delay=nm(s)*Dg,this._lifeTime=0;this.fpsLimit=a>0?a:120,this._smooth=o;for(const[,d]of this.effectDrawers){var l;await(null===(l=d.init)||void 0===l?void 0:l.call(d,this))}for(const[,d]of this.shapeDrawers){var c;await(null===(c=d.init)||void 0===c?void 0:c.call(d,this))}for(const[,d]of this.plugins){var u;await(null===(u=d.init)||void 0===u?void 0:u.call(d))}this._engine.dispatchEvent(Ev.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const[,d]of this.plugins){var h;null===(h=d.particlesSetup)||void 0===h||h.call(d)}this._engine.dispatchEvent(Ev.particlesSetup,{container:this})}async loadTheme(t){Jb(this)&&(this._currentTheme=t,await this.refresh())}pause(){if(Jb(this)&&(void 0!==this._drawAnimationFrame&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins){var t;null===(t=e.pause)||void 0===t||t.call(e)}this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Ev.containerPaused,{container:this})}}play(t){if(!Jb(this))return;const e=this._paused||t;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),e)for(const[,t]of this.plugins)t.play&&t.play();this._engine.dispatchEvent(Ev.containerPlay,{container:this}),this.draw(null!==e&&void 0!==e&&e)}else this._firstStart=!1}async refresh(){if(Jb(this))return this.stop(),this.start()}async reset(t){if(Jb(this))return this._initialSourceOptions=t,this._sourceOptions=t,this._options=$b(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=$b(this._engine,this,this._options),this.refresh()}async start(){Jb(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((t=>{const e=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins){var e;await(null===(e=t.start)||void 0===e?void 0:e.call(t))}this._engine.dispatchEvent(Ev.containerStarted,{container:this}),this.play(),t()};this._delayTimeout=setTimeout((()=>{e()}),this._delay)})))}stop(){if(Jb(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins){var t;null===(t=e.stop)||void 0===t||t.call(e)}for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent(Ev.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth!==t&&(this._responsiveMaxWidth=t,!0)}}class ty{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let n=this._listeners.get(t);n||(n=[],this._listeners.set(t,n)),n.push(e)}dispatchEvent(t,e){const n=this._listeners.get(t);null===n||void 0===n||n.forEach((t=>t(e)))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const n=this._listeners.get(t);if(!n)return;const i=n.length,r=n.indexOf(e);if(r<0)return;1===i?this._listeners.delete(t):n.splice(r,1)}}async function ey(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.get(t);return r&&!i||(r=await Promise.all([...n.values()].map((e=>e(t)))),e.set(t,r)),r}const ny="true",iy="false",ry="canvas";class sy{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new ty,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const t={};for(const[e,n]of this._configs)t[e]=n;return t}get items(){return this._domArray}get version(){return"3.4.0"}addConfig(t){var e,n;const i=null!==(e=null!==(n=t.key)&&void 0!==n?n:t.name)&&void 0!==e?e:"default";this._configs.set(i,t),this._eventDispatcher.dispatchEvent(Ev.configAdded,{data:{name:i,config:t}})}async addEffect(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Dm(t,(t=>{this.getEffectDrawer(t)||this.effectDrawers.set(t,e)})),await this.refresh(n)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.interactors.set(t,e),await this.refresh(n)}async addMover(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.movers.set(t,e),await this.refresh(n)}async addParticleUpdater(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.updaters.set(t,e),await this.refresh(n)}async addPathGenerator(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.getPathGenerator(t)||this.pathGenerators.set(t,e),await this.refresh(n)}async addPlugin(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getPlugin(t.id)||this.plugins.push(t),await this.refresh(e)}async addPreset(t,e){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&this.getPreset(t)||this.presets.set(t,e),await this.refresh(n)}async addShape(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(const n of t.validTypes)this.getShapeDrawer(n)||this.shapeDrawers.set(n,t);await this.refresh(e)}clearPlugins(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this.items}domItem(t){return this.item(t)}async getAvailablePlugins(t){const e=new Map;for(const n of this.plugins)n.needsPlugin(t.actualOptions)&&e.set(n.id,await n.getPlugin(t));return e}getEffectDrawer(t){return this.effectDrawers.get(t)}async getInteractors(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ey(t,this.interactors,this._initializers.interactors,e)}async getMovers(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ey(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find((e=>e.id===t))}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.shapeDrawers.get(t)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ey(t,this.updaters,this._initializers.updaters,e)}init(){this._initialized||(this._initialized=!0)}item(t){const{items:e}=this,n=e[t];if(n&&!n.destroyed)return n;{const n=1;e.splice(t,n)}}async load(t){var e,n,i;const r=null!==(e=null!==(n=t.id)&&void 0!==n?n:null===(i=t.element)||void 0===i?void 0:i.id)&&void 0!==e?e:"tsparticles".concat(Math.floor(1e4*$g())),{index:s,url:a}=t,o=a?await async function(t){const e=Om(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(ym().error("".concat(Ig," ").concat(n.status," while retrieving config file")),t.fallback)}({fallback:t.options,url:a,index:s}):t.options,l=Om(o,s),{items:c}=this,u=c.findIndex((t=>t.id.description===r)),h=new Zb(this,r,l);if(u>=0){const t=this.item(u),e=t?1:0;t&&!t.destroyed&&t.destroy(!1),c.splice(u,e,h)}else c.push(h);const d=((t,e)=>{let n=null!==e&&void 0!==e?e:document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[Mg]=ny,document.body.append(n),n)})(r,t.element),p=(t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===ry)e=t,e.dataset[Mg]||(e.dataset[Mg]=iy);else{const n=t.getElementsByTagName(ry);n.length?(e=n[0],e.dataset[Mg]=iy):(e=document.createElement(ry),e.dataset[Mg]=ny,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e})(d);return h.canvas.loadCanvas(p),await h.start(),h}loadOptions(t,e){this.plugins.forEach((n=>{var i;return null===(i=n.loadOptions)||void 0===i?void 0:i.call(n,t,e)}))}loadParticlesOptions(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const s=this.updaters.get(t);s&&s.forEach((t=>{var n;return null===(n=t.loadOptions)||void 0===n?void 0:n.call(t,e,...i)}))}async refresh(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&await Promise.all(this.items.map((t=>t.refresh())))}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}setOnClickHandler(t){const{items:e}=this;if(!e.length)throw new Error("".concat(Ig," can only set click handlers after calling tsParticles.load()"));e.forEach((e=>e.addClickHandler(t)))}}var ay,oy,ly,cy,uy;!function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"}(ay||(ay={}));class hy{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){var e;const n=null!==(e=t.value.hsl)&&void 0!==e?e:t.value;if(void 0!==n.h&&void 0!==n.s&&void 0!==n.l)return Zm(n)}handleRangeColor(t){var e;const n=null!==(e=t.value.hsl)&&void 0!==e?e:t.value;if(void 0!==n.h&&void 0!==n.l)return Zm({h:nm(n.h),l:nm(n.l),s:nm(n.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(t);return e?function(t){const e=Zm(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}({a:e.length>4?hm(e[ay.a]):1,h:parseInt(e[ay.h],10),l:parseInt(e[ay.l],10),s:parseInt(e[ay.s],10)}):void 0}}!function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"}(oy||(oy={}));class dy{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){var e;const n=null!==(e=t.value.rgb)&&void 0!==e?e:t.value;if(void 0!==n.r)return n}handleRangeColor(t){var e;const n=null!==(e=t.value.rgb)&&void 0!==e?e:t.value;if(void 0!==n.r)return{r:nm(n.r),g:nm(n.g),b:nm(n.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(t);return e?{a:e.length>4?hm(e[oy.a]):1,b:parseInt(e[oy.b],10),g:parseInt(e[oy.g],10),r:parseInt(e[oy.r],10)}:void 0}}class py{constructor(t){this.type=qv.external,this.container=t}}class fy{constructor(t){this.type=qv.particles,this.container=t}}!function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"}(ly||(ly={})),function(t){t.linear="linear",t.radial="radial",t.random="random"}(cy||(cy={})),function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"}(uy||(uy={}));const gy=function(){const t=new dy,e=new hy;Xm(t),Xm(e);const n=new sy;return n.init(),n}();xm()||(window.tsParticles=gy);const my=t=>{var n;const i=null!==(n=t.id)&&void 0!==n?n:"tsparticles";return(0,e.useEffect)((()=>{let e;return gy.load({id:i,url:t.url,options:t.options}).then((n=>{var i;e=n,null==(i=t.particlesLoaded)||i.call(t,n)})),()=>{null==e||e.destroy()}}),[i,t,t.url,t.options]),(0,ng.jsx)("div",{id:i,className:t.className})};const vy=1;function by(t,e,n,i,r,s){!function(t,e){var n;const i=t.options,r=i.move.path;if(!r.enable)return;if(t.lastPathTime<=t.pathDelay)return void(t.lastPathTime+=e.value);const s=null===(n=t.pathGenerator)||void 0===n?void 0:n.generate(t,e);s&&t.velocity.addTo(s);r.clamp&&(t.velocity.x=Zg(t.velocity.x,-vy,vy),t.velocity.y=Zg(t.velocity.y,-vy,vy));t.lastPathTime-=t.pathDelay}(t,s);const a=t.gravity,o=null!==a&&void 0!==a&&a.enable&&a.inverse?-vy:vy;r&&n&&(t.velocity.x+=r*s.factor/(60*n)),null!==a&&void 0!==a&&a.enable&&n&&(t.velocity.y+=o*(a.acceleration*s.factor)/(60*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);null!==a&&void 0!==a&&a.enable&&i>0&&(!a.inverse&&c.y>=0&&c.y>=i||a.inverse&&c.y<=0&&c.y<=-i)&&(c.y=o*i,n&&(t.velocity.y=c.y/n));const u=t.options.zIndex,h=(vy-t.zIndexFactor)**u.velocityRate;c.multTo(h);const{position:d}=t;d.addTo(c),e.vibrate&&(d.x+=Math.sin(d.x*Math.cos(d.y)),d.y+=Math.cos(d.y*Math.sin(d.x)))}class yy{init(t){const e=t.options.move.gravity;t.gravity={enable:e.enable,acceleration:nm(e.acceleration),inverse:e.inverse},function(t){var e;const n=t.container,i=t.options.move.spin;if(!i.enable)return;const r=null!==(e=i.position)&&void 0!==e?e:{x:50,y:50},s={x:.01*r.x*n.canvas.size.width,y:.01*r.y*n.canvas.size.height},a=om(t.getPosition(),s),o=nm(i.acceleration);t.retina.spinAcceleration=o*n.retina.pixelRatio,t.spin={center:s,direction:t.velocity.x>=0?ly.clockwise:ly.counterClockwise,angle:t.velocity.angle,radius:a,acceleration:t.retina.spinAcceleration}}(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){var n,i,r,s,a;const o=t.options,l=o.move;if(!l.enable)return;const c=t.container,u=c.retina.pixelRatio;null!==(i=(n=t.retina).moveSpeed)&&void 0!==i||(n.moveSpeed=nm(l.speed)*u),null!==(s=(r=t.retina).moveDrift)&&void 0!==s||(r.moveDrift=nm(t.options.move.drift)*u);const h=function(t){return t.slow.inRange?t.slow.factor:vy}(t),d=t.retina.moveSpeed*c.retina.reduceFactor,p=t.retina.moveDrift,f=rm(o.size.value)*u,g=d*(l.size?t.getRadius()/f:1)*h*(e.factor||1)/2,m=null!==(a=t.retina.maxSpeed)&&void 0!==a?a:c.retina.maxSpeed;l.spin.enable?function(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction===ly.clockwise?Math.cos:Math.sin,y:t.spin.direction===ly.clockwise?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height),s=.5*r;t.spin.radius>s?(t.spin.radius=s,t.spin.acceleration*=-vy):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-vy),t.spin.angle+=.01*e*(vy-t.spin.radius/r)}(t,g):by(t,l,g,m,p,e),function(t){var e,n;const i=t.initialPosition,{dx:r,dy:s}=am(i,t.position),a=Math.abs(r),o=Math.abs(s),{maxDistance:l}=t.retina,c=l.horizontal,u=l.vertical;if(!c&&!u)return;const h=null!==(n=u&&o>=u)&&void 0!==n&&n;if((null!==(e=c&&a>=c)&&void 0!==e&&e||h)&&!t.misplaced)t.misplaced=!!c&&a>c||!!u&&o>u,c&&(t.velocity.x=.5*t.velocity.y-t.velocity.x),u&&(t.velocity.y=.5*t.velocity.x-t.velocity.y);else if((!c||a<c)&&(!u||o<u)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const e=t.position,n=t.velocity;c&&(e.x<i.x&&n.x<0||e.x>i.x&&n.x>0)&&(n.x*=-$g()),u&&(e.y<i.y&&n.y<0||e.y>i.y&&n.y>0)&&(n.y*=-$g())}}(t)}}const _y=2*Math.PI,xy=0,wy=0;class Sy{constructor(){this.validTypes=["circle"]}draw(t){!function(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:0,max:_y});const r=n.circleRange;e.arc(xy,wy,i,r.min,r.max,!1)}(t)}getSidesCount(){return 12}particleInit(t,e){var n;const i=e.shapeData,r=null!==(n=null===i||void 0===i?void 0:i.angle)&&void 0!==n?n:{max:360,min:0};e.circleRange=Bg(r)?{min:lm(r.min),max:lm(r.max)}:{min:0,max:lm(r)}}}class ky{constructor(t){this.container=t}init(t){const e=Jm(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=ov(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s:n,l:i}=t.options.color.animation,{color:r}=t;return!t.destroyed&&!t.spawning&&(void 0!==(null===r||void 0===r?void 0:r.h.value)&&e.enable||void 0!==(null===r||void 0===r?void 0:r.s.value)&&n.enable||void 0!==(null===r||void 0===r?void 0:r.l.value)&&i.enable)}update(t,e){uv(t.color,e)}}class Ey{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=jm(e,1);const n=e.animation;n.enable&&(t.opacity.velocity=nm(n.speed)/Lg*this.container.retina.reduceFactor,n.sync||(t.opacity.velocity*=$g()))}isEnabled(t){var e,n,i,r;return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((null!==(e=t.opacity.maxLoops)&&void 0!==e?e:0)<=0||(null!==(n=t.opacity.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=t.opacity.loops)&&void 0!==i?i:0)<(null!==(r=t.opacity.maxLoops)&&void 0!==r?r:0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&t.opacity&&Wm(t,t.opacity,!0,t.options.opacity.animation.destroy,e)}}class Cy{constructor(t){this.container=t,this.modes=[Uv.bounce,Uv.split]}update(t,e,n,i){if(!this.modes.includes(i))return;const r=this.container;let s=!1;for(const[,h]of r.plugins)if(void 0!==h.particleBounce&&(s=h.particleBounce(t,n,e)),s)break;if(s)return;const a=t.getPosition(),o=t.offset,l=t.getRadius(),c=Am(a,l),u=r.canvas.size;!function(t){if(t.outMode!==Uv.bounce&&t.outMode!==Uv.split||t.direction!==gm.left&&t.direction!==gm.right)return;t.bounds.right<0&&t.direction===gm.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===gm.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===gm.right&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction===gm.left&&t.bounds.left<=0&&e<0){const e=nm(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-e,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===gm.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction===gm.left&&(t.particle.position.x=i),t.outMode===Uv.split&&t.particle.destroy()}({particle:t,outMode:i,direction:e,bounds:c,canvasSize:u,offset:o,size:l}),function(t){if(t.outMode!==Uv.bounce&&t.outMode!==Uv.split||t.direction!==gm.bottom&&t.direction!==gm.top)return;t.bounds.bottom<0&&t.direction===gm.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===gm.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===gm.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction===gm.top&&t.bounds.top<=0&&e<0){const e=nm(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-e,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===gm.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction===gm.top&&(t.particle.position.y=i),t.outMode===Uv.split&&t.particle.destroy()}({particle:t,outMode:i,direction:e,bounds:c,canvasSize:u,offset:o,size:l})}}class Ay{constructor(t){this.container=t,this.modes=[Uv.destroy]}update(t,e,n,i){if(!this.modes.includes(i))return;const r=this.container;switch(t.outType){case Xv.normal:case Xv.outside:if(Cm(t.position,r.canvas.size,qg.origin,t.getRadius(),e))return;break;case Xv.inside:{const{dx:e,dy:n}=am(t.position,t.moveCenter),{x:i,y:r}=t.velocity;if(i<0&&e>t.moveCenter.radius||r<0&&n>t.moveCenter.radius||i>=0&&e<-t.moveCenter.radius||r>=0&&n<-t.moveCenter.radius)return;break}}r.particles.remove(t,void 0,!0)}}class Py{constructor(t){this.container=t,this.modes=[Uv.none]}update(t,e,n,i){var r;if(!this.modes.includes(i))return;if(null!==(r=t.options.move.distance.horizontal&&(e===gm.left||e===gm.right))&&void 0!==r?r:t.options.move.distance.vertical&&(e===gm.top||e===gm.bottom))return;const s=t.options.move.gravity,a=this.container,o=a.canvas.size,l=t.getRadius();if(s.enable){const n=t.position;(!s.inverse&&n.y>o.height+l&&e===gm.bottom||s.inverse&&n.y<-l&&e===gm.top)&&a.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=o.height+l||t.velocity.y<0&&t.position.y>=-l||t.velocity.x>0&&t.position.x<=o.width+l||t.velocity.x<0&&t.position.x>=-l)return;Cm(t.position,a.canvas.size,qg.origin,l,e)||a.particles.remove(t)}}}class My{constructor(t){this.container=t,this.modes=[Uv.out]}update(t,e,n,i){if(!this.modes.includes(i))return;const r=this.container;switch(t.outType){case Xv.inside:{const{x:e,y:n}=t.velocity,i=qg.origin;i.length=t.moveCenter.radius,i.angle=t.velocity.angle+Math.PI,i.addTo(qg.create(t.moveCenter));const{dx:s,dy:a}=am(t.position,i);if(e<=0&&s>=0||n<=0&&a>=0||e>=0&&s<=0||n>=0&&a<=0)return;t.position.x=Math.floor(em({min:0,max:r.canvas.size.width})),t.position.y=Math.floor(em({min:0,max:r.canvas.size.height}));const{dx:o,dy:l}=am(t.position,t.moveCenter);t.direction=Math.atan2(-l,-o),t.velocity.angle=t.direction;break}default:if(Cm(t.position,r.canvas.size,qg.origin,t.getRadius(),e))return;switch(t.outType){case Xv.outside:{t.position.x=Math.floor(em({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(em({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:e,dy:n}=am(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(n,e),t.velocity.angle=t.direction);break}case Xv.normal:{const n=t.options.move.warp,i=r.canvas.size,s={bottom:i.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:i.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},a=t.getRadius(),o=Am(t.position,a);e===gm.right&&o.left>i.width+t.offset.x?(t.position.x=s.left,t.initialPosition.x=t.position.x,n||(t.position.y=$g()*i.height,t.initialPosition.y=t.position.y)):e===gm.left&&o.right<-t.offset.x&&(t.position.x=s.right,t.initialPosition.x=t.position.x,n||(t.position.y=$g()*i.height,t.initialPosition.y=t.position.y)),e===gm.bottom&&o.top>i.height+t.offset.y?(n||(t.position.x=$g()*i.width,t.initialPosition.x=t.position.x),t.position.y=s.top,t.initialPosition.y=t.position.y):e===gm.top&&o.bottom<-t.offset.y&&(n||(t.position.x=$g()*i.width,t.initialPosition.x=t.position.x),t.position.y=s.bottom,t.initialPosition.y=t.position.y);break}}}}}const Ty=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class Ry{constructor(t){this._updateOutMode=(t,e,n,i)=>{for(const r of this.updaters)r.update(t,i,e,n)},this.container=t,this.updaters=[]}init(t){this.updaters=[];const e=t.options.move.outModes;Ty(e,Uv.bounce)?this.updaters.push(new Cy(this.container)):Ty(e,Uv.out)?this.updaters.push(new My(this.container)):Ty(e,Uv.destroy)?this.updaters.push(new Ay(this.container)):Ty(e,Uv.none)&&this.updaters.push(new Py(this.container))}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){var n,i,r,s;const a=t.options.move.outModes;this._updateOutMode(t,e,null!==(n=a.bottom)&&void 0!==n?n:a.default,gm.bottom),this._updateOutMode(t,e,null!==(i=a.left)&&void 0!==i?i:a.default,gm.left),this._updateOutMode(t,e,null!==(r=a.right)&&void 0!==r?r:a.default,gm.right),this._updateOutMode(t,e,null!==(s=a.top)&&void 0!==s?s:a.default,gm.top)}}class Fy{init(t){const e=t.container,n=t.options.size.animation;var i;n.enable&&(t.size.velocity=(null!==(i=t.retina.sizeAnimationSpeed)&&void 0!==i?i:e.retina.sizeAnimationSpeed)/Lg*e.retina.reduceFactor,n.sync||(t.size.velocity*=$g()))}isEnabled(t){var e,n,i,r;return!t.destroyed&&!t.spawning&&t.size.enable&&((null!==(e=t.size.maxLoops)&&void 0!==e?e:0)<=0||(null!==(n=t.size.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=t.size.loops)&&void 0!==i?i:0)<(null!==(r=t.size.maxLoops)&&void 0!==r?r:0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&Wm(t,t.size,!0,t.options.size.animation.destroy,e)}}async function Iy(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addMover("base",(()=>Promise.resolve(new yy)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Sy,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("color",(t=>Promise.resolve(new ky(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("opacity",(t=>Promise.resolve(new Ey(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("outModes",(t=>Promise.resolve(new Ry(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("size",(()=>Promise.resolve(new Fy)),e)}(t,!1),await t.refresh(e)}const Ly='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class Dy{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[t,e]of this._emojiShapeDict)e instanceof ImageBitmap&&(null===e||void 0===e||e.close(),this._emojiShapeDict.delete(t))}draw(t){!function(t){const{context:e,particle:n,radius:i,opacity:r}=t,s=n.emojiData,a=2*i,o=e.globalAlpha;s&&(e.globalAlpha=r,e.drawImage(s,-i,-i,a,a),e.globalAlpha=o)}(t)}async init(t){const e=t.actualOptions,{validTypes:n}=this;if(!n.find((t=>Sm(t,e.particles.shape.type))))return;const i=[km(Ly)],r=n.map((t=>e.particles.shape.options[t])).find((t=>!!t));r&&Dm(r,(t=>{t.font&&i.push(km(t.font))})),await Promise.all(i)}particleDestroy(t){delete t.emojiData}particleInit(t,e){var n;const i=e.shapeData;if(null===i||void 0===i||!i.value)return;const r=Om(i.value,e.randomIndexData),s=null!==(n=i.font)&&void 0!==n?n:Ly;if(!r)return;const a="".concat(r,"_").concat(s),o=this._emojiShapeDict.get(a);if(o)return void(e.emojiData=o);const l=2*rm(e.size.value);let c;const u=rm(e.size.value);if("undefined"!==typeof OffscreenCanvas){const t=new OffscreenCanvas(l,l),e=t.getContext("2d");if(!e)return;e.font="400 ".concat(2*u,"px ").concat(s),e.textBaseline="middle",e.textAlign="center",e.fillText(r,u,u),c=t.transferToImageBitmap()}else{const t=document.createElement("canvas");t.width=l,t.height=l;const e=t.getContext("2d");if(!e)return;e.font="400 ".concat(2*u,"px ").concat(s),e.textBaseline="middle",e.textAlign="center",e.fillText(r,u,u),c=t}this._emojiShapeDict.set(a,c),e.emojiData=c}}const Oy=1,Ny=1;function jy(t,e,n,i,r){const s=t.actualOptions.interactivity.modes.attract;if(!s)return;const a=t.particles.quadTree.query(i,r);for(const o of a){const{dx:t,dy:i,distance:r}=am(o.position,e),a=s.speed*s.factor,l=Zg(Jg(s.easing)(Ny-r/n)*a,Oy,s.maxSpeed),c=qg.create(r?t/r*l:a,r?i/r*l:a);o.position.subFrom(c)}}class zy{constructor(){this.distance=200,this.duration=.4,this.easing=uy.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.easing&&(this.easing=t.easing),void 0!==t.factor&&(this.factor=t.factor),void 0!==t.maxSpeed&&(this.maxSpeed=t.maxSpeed),void 0!==t.speed&&(this.speed=t.speed))}}const By="attract";class Wy extends py{constructor(t,e){super(e),this._engine=t,e.attract||(e.attract={particles:[]}),this.handleClickMode=t=>{const n=this.container.actualOptions.interactivity.modes.attract;if(n&&t===By){e.attract||(e.attract={particles:[]}),e.attract.clicking=!0,e.attract.count=0;for(const t of e.attract.particles)this.isEnabled(t)&&t.velocity.setTo(t.initialVelocity);e.attract.particles=[],e.attract.finish=!1,setTimeout((()=>{e.destroyed||(e.attract||(e.attract={particles:[]}),e.attract.clicking=!1)}),n.duration*Dg)}}}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.attract;e&&(t.retina.attractModeDistance=e.distance*t.retina.pixelRatio)}interact(){const t=this.container,e=t.actualOptions,n=t.interactivity.status===Rg,i=e.interactivity.events,{enable:r,mode:s}=i.onHover,{enable:a,mode:o}=i.onClick;n&&r&&Sm(By,s)?function(t,e){const n=t.interactivity.mouse.position,i=t.retina.attractModeDistance;!i||i<0||!n||jy(t,n,i,new Ub(n.x,n.y,i),(t=>e(t)))}(this.container,(t=>this.isEnabled(t))):a&&Sm(By,o)&&function(t,e){t.attract||(t.attract={particles:[]});const{attract:n}=t;if(n.finish||(n.count||(n.count=0),n.count++,n.count===t.particles.count&&(n.finish=!0)),n.clicking){const n=t.interactivity.mouse.clickPosition,i=t.retina.attractModeDistance;if(!i||i<0||!n)return;jy(t,n,i,new Ub(n.x,n.y,i),(t=>e(t)))}else!1===n.clicking&&(n.particles=[])}(this.container,(t=>this.isEnabled(t)))}isEnabled(t){var e;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const a=s.onHover.mode,o=s.onClick.mode;return Sm(By,a)||Sm(By,o)}loadModeOptions(t){t.attract||(t.attract=new zy);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.attract.load(null===r||void 0===r?void 0:r.attract)}reset(){}}const Hy=2,Vy=.5,Uy=Math.PI*Vy,Gy=2,qy=10;function Xy(t,e,n,i,r){const s=t.particles.quadTree.query(i,r);for(const a of s)i instanceof Ub?Im(Fm(a),{position:e,radius:n,mass:n**Hy*Uy,velocity:qg.origin,factor:qg.origin}):i instanceof Gb&&Lm(a,Am(e,n))}function Ky(t,e,n,i){Tm(n,e,((e,n)=>function(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach((e=>{const r=e,s=t.retina.pixelRatio,a={x:(r.offsetLeft+r.offsetWidth*Vy)*s,y:(r.offsetTop+r.offsetHeight*Vy)*s},o=r.offsetWidth*Vy*s,l=qy*s,c=n.type===Cv.circle?new Ub(a.x,a.y,o+l):new Gb(r.offsetLeft*s-l,r.offsetTop*s-l,r.offsetWidth*s+l*Gy,r.offsetHeight*s+l*Gy);i(a,o,c)}))}(t,e,n,((e,n,r)=>Xy(t,e,n,r,i)))))}class Yy{constructor(){this.distance=200}load(t){t&&void 0!==t.distance&&(this.distance=t.distance)}}const Qy="bounce";class Jy extends py{constructor(t){super(t)}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.bounce;e&&(t.retina.bounceModeDistance=e.distance*t.retina.pixelRatio)}interact(){const t=this.container,e=t.actualOptions.interactivity.events,n=t.interactivity.status===Rg,i=e.onHover.enable,r=e.onHover.mode,s=e.onDiv;n&&i&&Sm(Qy,r)?function(t,e){const n=t.retina.pixelRatio,i=qy*n,r=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<0||!r||Xy(t,r,s,new Ub(r.x,r.y,s+i),e)}(this.container,(t=>this.isEnabled(t))):Ky(this.container,s,Qy,(t=>this.isEnabled(t)))}isEnabled(t){var e;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:i.interactivity).events,a=s.onDiv;return!!r.position&&s.onHover.enable&&Sm(Qy,s.onHover.mode)||Mm(Qy,a)}loadModeOptions(t){t.bounce||(t.bounce=new Yy);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.bounce.load(null===r||void 0===r?void 0:r.bounce)}reset(){}}class $y{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(t){if(t){if(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.mix&&(this.mix=t.mix),void 0!==t.opacity&&(this.opacity=t.opacity),void 0!==t.color){const e=Wg(this.color)?void 0:this.color;this.color=Dm(t.color,(t=>Av.create(e,t)))}void 0!==t.size&&(this.size=t.size)}}}class Zy extends $y{constructor(){super(),this.selectors=[]}load(t){super.load(t),t&&void 0!==t.selectors&&(this.selectors=t.selectors)}}class t_ extends $y{load(t){super.load(t),t&&(this.divs=Dm(t.divs,(t=>{const e=new Zy;return e.load(t),e})))}}var e_;function n_(t,e,n,i){if(e>=n){return Zg(t+(e-n)*i,t,e)}if(e<n){return Zg(t-(n-e)*i,e,t)}}!function(t){t.color="color",t.opacity="opacity",t.size="size"}(e_||(e_={}));const i_="bubble";class r_ extends py{constructor(t){super(t),this._clickBubble=()=>{const t=this.container,e=t.actualOptions,n=t.interactivity.mouse.clickPosition,i=e.interactivity.modes.bubble;if(!i||!n)return;t.bubble||(t.bubble={});const r=t.retina.bubbleModeDistance;if(!r||r<0)return;const s=t.particles.quadTree.queryCircle(n,r,(t=>this.isEnabled(t))),{bubble:a}=t;for(const u of s){var o,l,c;if(!a.clicking)continue;u.bubble.inRange=!a.durationEnd;const e=om(u.getPosition(),n),s=((new Date).getTime()-(null!==(o=t.interactivity.mouse.clickTime)&&void 0!==o?o:0))/Dg;s>i.duration&&(a.durationEnd=!0),s>2*i.duration&&(a.clicking=!1,a.durationEnd=!1);const h={bubbleObj:{optValue:t.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:rm(u.options.size.value)*t.retina.pixelRatio,value:u.size.value},type:e_.size};this._process(u,e,s,h);const d={bubbleObj:{optValue:i.opacity,value:u.bubble.opacity},particlesObj:{optValue:rm(u.options.opacity.value),value:null!==(l=null===(c=u.opacity)||void 0===c?void 0:c.value)&&void 0!==l?l:1},type:e_.opacity};this._process(u,e,s,d),!a.durationEnd&&e<=r?this._hoverBubbleColor(u,e):delete u.bubble.color}},this._hoverBubble=()=>{const t=this.container,e=t.interactivity.mouse.position,n=t.retina.bubbleModeDistance;if(!n||n<0||!e)return;const i=t.particles.quadTree.queryCircle(e,n,(t=>this.isEnabled(t)));for(const r of i){r.bubble.inRange=!0;const i=om(r.getPosition(),e),s=1-i/n;i<=n?s>=0&&t.interactivity.status===Rg&&(this._hoverBubbleSize(r,s),this._hoverBubbleOpacity(r,s),this._hoverBubbleColor(r,s)):this.reset(r),t.interactivity.status===Tg&&this.reset(r)}},this._hoverBubbleColor=(t,e,n)=>{const i=this.container.actualOptions,r=null!==n&&void 0!==n?n:i.interactivity.modes.bubble;if(r){if(!t.bubble.finalColor){const e=r.color;if(!e)return;const n=Om(e);t.bubble.finalColor=Jm(n)}if(t.bubble.finalColor)if(r.mix){t.bubble.color=void 0;const n=t.getFillColor();t.bubble.color=n?$m(iv(n,t.bubble.finalColor,1-e,e)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,e,n)=>{var i,r,s,a;const o=this.container.actualOptions,l=null!==(i=null===n||void 0===n?void 0:n.opacity)&&void 0!==i?i:null===(r=o.interactivity.modes.bubble)||void 0===r?void 0:r.opacity;if(!l)return;const c=t.options.opacity.value,u=n_(null!==(s=null===(a=t.opacity)||void 0===a?void 0:a.value)&&void 0!==s?s:1,l,rm(c),e);void 0!==u&&(t.bubble.opacity=u)},this._hoverBubbleSize=(t,e,n)=>{const i=this.container,r=null!==n&&void 0!==n&&n.size?n.size*i.retina.pixelRatio:i.retina.bubbleModeSize;if(void 0===r)return;const s=rm(t.options.size.value)*i.retina.pixelRatio,a=n_(t.size.value,r,s,e);void 0!==a&&(t.bubble.radius=a)},this._process=(t,e,n,i)=>{var r;const s=this.container,a=i.bubbleObj.optValue,o=s.actualOptions.interactivity.modes.bubble;if(!o||void 0===a)return;const l=o.duration,c=s.retina.bubbleModeDistance,u=i.particlesObj.optValue,h=i.bubbleObj.value,d=null!==(r=i.particlesObj.value)&&void 0!==r?r:0,p=i.type;if(c&&!(c<0)&&a!==u)if(s.bubble||(s.bubble={}),s.bubble.durationEnd)h&&(p===e_.size&&delete t.bubble.radius,p===e_.opacity&&delete t.bubble.opacity);else if(e<=c){if((null!==h&&void 0!==h?h:d)!==a){const e=d-n*(d-a)/l;p===e_.size&&(t.bubble.radius=e),p===e_.opacity&&(t.bubble.opacity=e)}}else p===e_.size&&delete t.bubble.radius,p===e_.opacity&&delete t.bubble.opacity},this._singleSelectorHover=(t,e,n)=>{const i=this.container,r=document.querySelectorAll(e),s=i.actualOptions.interactivity.modes.bubble;s&&r.length&&r.forEach((e=>{const r=e,a=i.retina.pixelRatio,o={x:(r.offsetLeft+.5*r.offsetWidth)*a,y:(r.offsetTop+.5*r.offsetHeight)*a},l=.5*r.offsetWidth*a,c=n.type===Cv.circle?new Ub(o.x,o.y,l):new Gb(r.offsetLeft*a,r.offsetTop*a,r.offsetWidth*a,r.offsetHeight*a),u=i.particles.quadTree.query(c,(t=>this.isEnabled(t)));for(const n of u){if(!c.contains(n.getPosition()))continue;n.bubble.inRange=!0;const e=Rm(s.divs,r);n.bubble.div&&n.bubble.div===r||(this.clear(n,t,!0),n.bubble.div=r),this._hoverBubbleSize(n,1,e),this._hoverBubbleOpacity(n,1,e),this._hoverBubbleColor(n,1,e)}}))},t.bubble||(t.bubble={}),this.handleClickMode=e=>{e===i_&&(t.bubble||(t.bubble={}),t.bubble.clicking=!0)}}clear(t,e,n){t.bubble.inRange&&!n||(delete t.bubble.div,delete t.bubble.opacity,delete t.bubble.radius,delete t.bubble.color)}init(){const t=this.container,e=t.actualOptions.interactivity.modes.bubble;e&&(t.retina.bubbleModeDistance=e.distance*t.retina.pixelRatio,void 0!==e.size&&(t.retina.bubbleModeSize=e.size*t.retina.pixelRatio))}interact(t){const e=this.container.actualOptions.interactivity.events,n=e.onHover,i=e.onClick,r=n.enable,s=n.mode,a=i.enable,o=i.mode,l=e.onDiv;r&&Sm(i_,s)?this._hoverBubble():a&&Sm(i_,o)?this._clickBubble():Tm(i_,l,((e,n)=>this._singleSelectorHover(t,e,n)))}isEnabled(t){var e;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:i.interactivity).events,{onClick:a,onDiv:o,onHover:l}=s,c=Mm(i_,o);return!!(c||l.enable&&r.position||a.enable&&r.clickPosition)&&(Sm(i_,l.mode)||Sm(i_,a.mode)||c)}loadModeOptions(t){t.bubble||(t.bubble=new t_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.bubble.load(null===r||void 0===r?void 0:r.bubble)}reset(t){t.bubble.inRange=!1}}class s_{constructor(){this.opacity=.5}load(t){t&&void 0!==t.opacity&&(this.opacity=t.opacity)}}class a_{constructor(){this.distance=80,this.links=new s_,this.radius=60}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),this.links.load(t.links),void 0!==t.radius&&(this.radius=t.radius))}}const o_=0,l_=1;function c_(t,e,n,i){const r=t.actualOptions.interactivity.modes.connect;if(r)return function(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),a=n.getFillColor();if(!s||!a)return;const o=e.getPosition(),l=n.getPosition(),c=iv(s,a,e.getRadius(),n.getRadius()),u=t.createLinearGradient(o.x,o.y,l.x,l.y);return u.addColorStop(o_,nv(s,i)),u.addColorStop(Zg(r,o_,l_),ev(c,i)),u.addColorStop(l_,nv(a,i)),u}(e,n,i,r.links.opacity)}function u_(t,e,n){t.canvas.draw((i=>{var r;const s=c_(t,i,e,n);if(!s)return;const a=e.getPosition(),o=n.getPosition();!function(t,e,n,i,r){vv(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}(i,null!==(r=e.retina.linksWidth)&&void 0!==r?r:0,s,a,o)}))}class h_ extends py{constructor(t){super(t)}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.connect;e&&(t.retina.connectModeDistance=e.distance*t.retina.pixelRatio,t.retina.connectModeRadius=e.radius*t.retina.pixelRatio)}interact(){const t=this.container;if(t.actualOptions.interactivity.events.onHover.enable&&"pointermove"===t.interactivity.status){const e=t.interactivity.mouse.position,{connectModeDistance:n,connectModeRadius:i}=t.retina;if(!n||n<0||!i||i<0||!e)return;const r=Math.abs(i),s=t.particles.quadTree.queryCircle(e,r,(t=>this.isEnabled(t)));s.forEach(((e,i)=>{const r=e.getPosition();for(const a of s.slice(i+1)){const i=a.getPosition(),s=Math.abs(n),o=Math.abs(r.x-i.x),l=Math.abs(r.y-i.y);o<s&&l<s&&u_(t,e,a)}}))}}isEnabled(t){var e;const n=this.container,i=n.interactivity.mouse,r=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:n.actualOptions.interactivity).events;return!(!r.onHover.enable||!i.position)&&Sm("connect",r.onHover.mode)}loadModeOptions(t){t.connect||(t.connect=new a_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.connect.load(null===r||void 0===r?void 0:r.connect)}reset(){}}class d_{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(t){t&&(void 0!==t.blink&&(this.blink=t.blink),void 0!==t.color&&(this.color=Av.create(this.color,t.color)),void 0!==t.consent&&(this.consent=t.consent),void 0!==t.opacity&&(this.opacity=t.opacity))}}class p_{constructor(){this.distance=100,this.links=new d_}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),this.links.load(t.links))}}function f_(t,e,n,i,r){t.canvas.draw((t=>{var s;const a=e.getPosition();!function(t,e,n,i,r,s){vv(t,n,i),t.strokeStyle=ev(r,s),t.lineWidth=e,t.stroke()}(t,null!==(s=e.retina.linksWidth)&&void 0!==s?s:0,a,r,n,i)}))}class g_ extends py{constructor(t){super(t)}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.grab;e&&(t.retina.grabModeDistance=e.distance*t.retina.pixelRatio)}interact(){const t=this.container,e=t.actualOptions.interactivity;if(!e.modes.grab||!e.events.onHover.enable||t.interactivity.status!==Rg)return;const n=t.interactivity.mouse.position;if(!n)return;const i=t.retina.grabModeDistance;if(!i||i<0)return;const r=t.particles.quadTree.queryCircle(n,i,(t=>this.isEnabled(t)));for(const o of r){var s,a;const r=om(o.getPosition(),n);if(r>i)continue;const l=e.modes.grab.links,c=l.opacity,u=c-r*c/i;if(u<=0)continue;const h=null!==(s=l.color)&&void 0!==s?s:null===(a=o.options.links)||void 0===a?void 0:a.color;if(!t.particles.grabLineColor&&h){const n=e.modes.grab.links;t.particles.grabLineColor=sv(h,n.blink,n.consent)}const d=rv(o,void 0,t.particles.grabLineColor);d&&f_(t,o,d,u,n)}}isEnabled(t){var e;const n=this.container,i=n.interactivity.mouse,r=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Sm("grab",r.onHover.mode)}loadModeOptions(t){t.grab||(t.grab=new p_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.grab.load(null===r||void 0===r?void 0:r.grab)}reset(){}}class m_ extends py{constructor(t){super(t),this.handleClickMode=t=>{if("pause"!==t)return;const e=this.container;e.animationStatus?e.pause():e.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}class v_{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(t){if(!t)return;void 0!==t.default&&(this.default=t.default),void 0!==t.groups&&(this.groups=t.groups.map((t=>t))),this.groups.length||(this.default=!0);const e=t.quantity;void 0!==e&&(this.quantity=sm(e))}}class b_ extends py{constructor(t){super(t),this.handleClickMode=t=>{if("push"!==t)return;const e=this.container,n=e.actualOptions.interactivity.modes.push;if(!n)return;const i=nm(n.quantity);if(i<=0)return;const r=Em([void 0,...n.groups]),s=void 0!==r?e.actualOptions.particles.groups[r]:void 0;e.particles.push(i,e.interactivity.mouse,s,r)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(t){t.push||(t.push=new v_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.push.load(null===r||void 0===r?void 0:r.push)}reset(){}}class y_{constructor(){this.quantity=2}load(t){if(!t)return;const e=t.quantity;void 0!==e&&(this.quantity=sm(e))}}class __ extends py{constructor(t){super(t),this.handleClickMode=t=>{const e=this.container,n=e.actualOptions;if(!n.interactivity.modes.remove||"remove"!==t)return;const i=nm(n.interactivity.modes.remove.quantity);e.particles.removeQuantity(i)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(t){t.remove||(t.remove=new y_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.remove.load(null===r||void 0===r?void 0:r.remove)}reset(){}}class x_{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=uy.easeOutQuad}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.easing&&(this.easing=t.easing),void 0!==t.factor&&(this.factor=t.factor),void 0!==t.speed&&(this.speed=t.speed),void 0!==t.maxSpeed&&(this.maxSpeed=t.maxSpeed))}}class w_ extends x_{constructor(){super(),this.selectors=[]}load(t){super.load(t),t&&void 0!==t.selectors&&(this.selectors=t.selectors)}}class S_ extends x_{load(t){super.load(t),t&&(this.divs=Dm(t.divs,(t=>{const e=new w_;return e.load(t),e})))}}const k_="repulse";class E_ extends py{constructor(t,e){super(e),this._clickRepulse=()=>{var t;const e=this.container,n=e.actualOptions.interactivity.modes.repulse;if(!n)return;const i=null!==(t=e.repulse)&&void 0!==t?t:{particles:[]};if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const t=e.retina.repulseModeDistance;if(!t||t<0)return;const r=Math.pow(t/6,3),s=e.interactivity.mouse.clickPosition;if(void 0===s)return;const a=new Ub(s.x,s.y,r),o=e.particles.quadTree.query(a,(t=>this.isEnabled(t)));for(const e of o){const{dx:t,dy:a,distance:o}=am(s,e.position),l=o**2,c=-r*n.speed/l;if(l<=r){i.particles.push(e);const n=qg.create(t,a);n.length=c,e.velocity.setTo(n)}}}else if(!1===i.clicking){for(const t of i.particles)t.velocity.setTo(t.initialVelocity);i.particles=[]}},this._hoverRepulse=()=>{const t=this.container,e=t.interactivity.mouse.position,n=t.retina.repulseModeDistance;!n||n<0||!e||this._processRepulse(e,n,new Ub(e.x,e.y,n))},this._processRepulse=(t,e,n,i)=>{var r;const s=this.container,a=s.particles.quadTree.query(n,(t=>this.isEnabled(t))),o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const{easing:l,speed:c,factor:u,maxSpeed:h}=o,d=Jg(l),p=(null!==(r=null===i||void 0===i?void 0:i.speed)&&void 0!==r?r:c)*u;for(const f of a){const{dx:n,dy:i,distance:r}=am(f.position,t),s=Zg(d(1-r/e)*p,0,h),a=qg.create(r?n/r*s:p,r?i/r*s:p);f.position.addTo(a)}},this._singleSelectorRepulse=(t,e)=>{const n=this.container,i=n.actualOptions.interactivity.modes.repulse;if(!i)return;const r=document.querySelectorAll(t);r.length&&r.forEach((t=>{const r=t,s=n.retina.pixelRatio,a={x:(r.offsetLeft+.5*r.offsetWidth)*s,y:(r.offsetTop+.5*r.offsetHeight)*s},o=.5*r.offsetWidth*s,l=e.type===Cv.circle?new Ub(a.x,a.y,o):new Gb(r.offsetLeft*s,r.offsetTop*s,r.offsetWidth*s,r.offsetHeight*s),c=Rm(i.divs,r);this._processRepulse(a,o,l,c)}))},this._engine=t,e.repulse||(e.repulse={particles:[]}),this.handleClickMode=t=>{const n=this.container.actualOptions.interactivity.modes.repulse;if(!n||t!==k_)return;e.repulse||(e.repulse={particles:[]});const i=e.repulse;i.clicking=!0,i.count=0;for(const r of e.repulse.particles)this.isEnabled(r)&&r.velocity.setTo(r.initialVelocity);i.particles=[],i.finish=!1,setTimeout((()=>{e.destroyed||(i.clicking=!1)}),n.duration*Dg)}}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.repulse;e&&(t.retina.repulseModeDistance=e.distance*t.retina.pixelRatio)}interact(){const t=this.container,e=t.actualOptions,n=t.interactivity.status===Rg,i=e.interactivity.events,r=i.onHover,s=r.enable,a=r.mode,o=i.onClick,l=o.enable,c=o.mode,u=i.onDiv;n&&s&&Sm(k_,a)?this._hoverRepulse():l&&Sm(k_,c)?this._clickRepulse():Tm(k_,u,((t,e)=>this._singleSelectorRepulse(t,e)))}isEnabled(t){var e;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:i.interactivity).events,a=s.onDiv,o=s.onHover,l=s.onClick,c=Mm(k_,a);if(!(c||o.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=o.mode,h=l.mode;return Sm(k_,u)||Sm(k_,h)||c}loadModeOptions(t){t.repulse||(t.repulse=new S_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.repulse.load(null===r||void 0===r?void 0:r.repulse)}reset(){}}class C_{constructor(){this.factor=3,this.radius=200}load(t){t&&(void 0!==t.factor&&(this.factor=t.factor),void 0!==t.radius&&(this.radius=t.radius))}}class A_ extends py{constructor(t){super(t)}clear(t,e,n){t.slow.inRange&&!n||(t.slow.factor=1)}init(){const t=this.container,e=t.actualOptions.interactivity.modes.slow;e&&(t.retina.slowModeRadius=e.radius*t.retina.pixelRatio)}interact(){}isEnabled(t){var e;const n=this.container,i=n.interactivity.mouse,r=(null!==(e=null===t||void 0===t?void 0:t.interactivity)&&void 0!==e?e:n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Sm("slow",r.onHover.mode)}loadModeOptions(t){t.slow||(t.slow=new C_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.slow.load(null===r||void 0===r?void 0:r.slow)}reset(t){t.slow.inRange=!1;const e=this.container,n=e.actualOptions,i=e.interactivity.mouse.position,r=e.retina.slowModeRadius,s=n.interactivity.modes.slow;if(!s||!r||r<0||!i)return;const a=om(i,t.getPosition()),o=a/r,l=s.factor,{slow:c}=t;a>r||(c.inRange=!0,c.factor=o/l)}}const P_=0,M_=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function T_(t){return new Promise((e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",(()=>{t.loading=!1,e()})),n.addEventListener("error",(()=>{t.element=void 0,t.error=!0,t.loading=!1,ym().error("".concat(Ig," loading image: ").concat(t.source)),e()})),n.src=t.source}))}async function R_(t){if("svg"!==t.type)return void await T_(t);t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(ym().error("".concat(Ig," Image not found")),t.error=!0),t.loading=!1}function F_(t,e,n,i){var r,s;const a=function(t,e,n){const{svgData:i}=t;if(!i)return"";const r=nv(e,n);if(i.includes("fill"))return i.replace(M_,(()=>r));const s=i.indexOf(">");return"".concat(i.substring(P_,s),' fill="').concat(r,'"').concat(i.substring(s))}(t,n,null!==(r=null===(s=i.opacity)||void 0===s?void 0:s.value)&&void 0!==r?r:1),o={color:n,gif:e.gif,data:{...t,svgData:a},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise((e=>{const n=new Blob([a],{type:"image/svg+xml"}),i=URL||window.URL||window.webkitURL||window,r=i.createObjectURL(n),s=new Image;s.addEventListener("load",(()=>{o.loaded=!0,o.element=s,e(o),i.revokeObjectURL(r)}));s.addEventListener("error",(()=>{(async()=>{i.revokeObjectURL(r);const n={...t,error:!1,loading:!0};await T_(n),o.loaded=!0,o.element=n.element,e(o)})()})),s.src=r}))}const I_=[0,4,2,1],L_=[8,8,4,2];class D_{constructor(t){this.pos=0,this.data=new Uint8ClampedArray(t)}getString(t){const e=this.data.slice(this.pos,this.pos+t);return this.pos+=e.length,e.reduce(((t,e)=>t+String.fromCharCode(e)),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let t="",e=0;do{e=this.data[this.pos++];for(let n=e;--n>=0;t+=String.fromCharCode(this.data[this.pos++]));}while(0!==e);return t}readSubBlocksBin(){let t=this.data[this.pos],e=0;for(let i=0;0!==t;i+=t+1,t=this.data[this.pos+i])e+=t;const n=new Uint8Array(e);t=this.data[this.pos++];for(let i=0;0!==t;t=this.data[this.pos++])for(let e=t;--e>=0;n[i++]=this.data[this.pos++]);return n}skipSubBlocks(){for(const t=1,e=0;this.data[this.pos]!==e;this.pos+=this.data[this.pos]+t);this.pos++}}var O_,N_;!function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"}(O_||(O_={})),function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"}(N_||(N_={}));const j_=0,z_=0,B_=0;function W_(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function H_(t,e,n,i,r,s){switch(t.nextByte()){case N_.EndOfFile:return!0;case N_.Image:await async function(t,e,n,i,r,s){const a=e.frames[i(!0)];a.left=t.nextTwoBytes(),a.top=t.nextTwoBytes(),a.width=t.nextTwoBytes(),a.height=t.nextTwoBytes();const o=t.nextByte(),l=128===(128&o),c=64===(64&o);a.sortFlag=32===(32&o),a.reserved=(24&o)>>>3;const u=1<<1+(7&o);l&&(a.localColorTable=W_(t,u));const h=t=>{const{r:i,g:s,b:o}=(l?a.localColorTable:e.globalColorTable)[t];return t!==r(null)?{r:i,g:s,b:o,a:255}:{r:i,g:s,b:o,a:n?~~((i+s+o)/3):0}},d=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==d)throw new EvalError("GIF frame size is to large");const p=t.nextByte(),f=t.readSubBlocksBin(),g=1<<p,m=(t,e)=>{const n=t>>>3,i=7&t;return(f[n]+(f[n+1]<<8)+(f[n+2]<<16)&(1<<e)-1<<i)>>>i};if(c){for(let n=0,r=p+1,o=0,l=[[0]],c=0;c<4;c++){if(I_[c]<a.height){let t=0,e=0,i=!1;for(;!i;){const s=n;if(n=m(o,r),o+=r+1,n===g){r=p+1,l.length=g+2;for(let t=0;t<l.length;t++)l[t]=t<g?[t]:[]}else{n>=l.length?l.push(l[s].concat(l[s][0])):s!==g&&l.push(l[s].concat(l[n][0]));for(const i of l[n]){const{r:n,g:r,b:s,a:o}=h(i);d.data.set([n,r,s,o],I_[c]*a.width+L_[c]*e+t%(4*a.width)),t+=4}l.length===1<<r&&r<12&&r++}t===4*a.width*(e+1)&&(e++,I_[c]+L_[c]*e>=a.height&&(i=!0))}}null===s||void 0===s||s(t.pos/(t.data.length-1),i(!1)+1,d,{x:a.left,y:a.top},{width:e.width,height:e.height})}a.image=d,a.bitmap=await createImageBitmap(d)}else{let n=0,r=p+1,o=0,l=-4,c=!1;const u=[[0]];for(;!c;){const t=n;if(n=m(o,r),o+=r,n===g){r=p+1,u.length=g+2;for(let t=0;t<u.length;t++)u[t]=t<g?[t]:[]}else{if(n===g+1){c=!0;break}n>=u.length?u.push(u[t].concat(u[t][0])):t!==g&&u.push(u[t].concat(u[n][0]));for(const t of u[n]){const{r:e,g:n,b:i,a:r}=h(t);d.data.set([e,n,i,r],l+=4)}u.length>=1<<r&&r<12&&r++}}a.image=d,a.bitmap=await createImageBitmap(d),null===s||void 0===s||s((t.pos+1)/t.data.length,i(!1)+1,a.image,{x:a.left,y:a.top},{width:e.width,height:e.height})}}(t,e,n,i,r,s);break;case N_.Extension:!function(t,e,n,i){switch(t.nextByte()){case N_.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(224&s)>>>5,r.disposalMethod=(28&s)>>>2,r.userInputDelayFlag=2===(2&s);const a=1===(1&s);r.delayTime=10*t.nextTwoBytes();const o=t.nextByte();a&&i(o),t.pos++;break}case N_.ApplicationExtension:{t.pos++;const n={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(n);break}case N_.CommentExtension:e.comments.push([n(!1),t.readSubBlocks()]);break;case N_.PlainTextExtension:if(0===e.globalColorTable.length)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break;default:t.skipSubBlocks()}}(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}async function V_(t){if("gif"===t.type){t.loading=!0;try{var e;t.gifData=await async function(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&404===i.status)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},a=new D_(new Uint8ClampedArray(r));if("GIF89a"!==a.getString(6))throw new Error("not a supported GIF file");s.width=a.nextTwoBytes(),s.height=a.nextTwoBytes();const o=a.nextByte(),l=128===(128&o);s.colorRes=(112&o)>>>4,s.sortFlag=8===(8&o);const c=1<<1+(7&o),u=a.nextByte();s.pixelAspectRatio=a.nextByte(),0!==s.pixelAspectRatio&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=W_(a,c));const h=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==h)throw new Error("GIF frame size is to large");const{r:d,g:p,b:f}=s.globalColorTable[u];h.data.set(l?[d,p,f,255]:[0,0,0,0]);for(let x=4;x<h.data.length;x*=2)h.data.copyWithin(x,0,x);s.backgroundImage=h;let g=-1,m=!0,v=-1;const b=t=>(t&&(m=!0),g),y=t=>(null!=t&&(v=t),v);try{do{m&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:O_.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,v=-1,m=!1)}while(!await H_(a,s,n,b,y,e));s.frames.length--;for(const t of s.frames){if(t.userInputDelayFlag&&0===t.delayTime){s.totalTime=1/0;break}s.totalTime+=t.delayTime}return s}catch(_){if(_ instanceof EvalError)throw new Error("error while parsing frame ".concat(g,' "').concat(_.message,'"'));throw _}}(t.source),t.gifLoopCount=null!==(e=function(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}(t.gifData))&&void 0!==e?e:B_,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}else await T_(t)}class U_{constructor(t){this.validTypes=["image","images"],this.loadImageShape=async t=>{var e;if(!this._engine.loadImage)throw new Error("".concat(Ig," image shape not initialized"));await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:null!==(e=t.replaceColor)&&void 0!==e&&e,src:t.src})},this._engine=t}addImage(t){this._engine.images||(this._engine.images=[]),this._engine.images.push(t)}draw(t){const{context:e,radius:n,particle:i,opacity:r}=t,s=i.image,a=null===s||void 0===s?void 0:s.element;if(s){if(e.globalAlpha=r,s.gif&&s.gifData)!function(t){var e;const{context:n,radius:i,particle:r,delta:s}=t,a=r.image;if(null===a||void 0===a||!a.gifData||!a.gif)return;const o=new OffscreenCanvas(a.gifData.width,a.gifData.height),l=o.getContext("2d");if(!l)throw new Error("could not create offscreen canvas context");var c;l.imageSmoothingQuality="low",l.imageSmoothingEnabled=!1,l.clearRect(j_,z_,o.width,o.height),void 0===r.gifLoopCount&&(r.gifLoopCount=null!==(c=a.gifLoopCount)&&void 0!==c?c:B_);let u=null!==(e=r.gifFrame)&&void 0!==e?e:0;const h={x:.5*-a.gifData.width,y:.5*-a.gifData.height},d=a.gifData.frames[u];if(void 0===r.gifTime&&(r.gifTime=0),d.bitmap){switch(n.scale(i/a.gifData.width,i/a.gifData.height),d.disposalMethod){case O_.UndefinedA:case O_.UndefinedB:case O_.UndefinedC:case O_.UndefinedD:case O_.Replace:l.drawImage(d.bitmap,d.left,d.top),n.drawImage(o,h.x,h.y),l.clearRect(j_,z_,o.width,o.height);break;case O_.Combine:l.drawImage(d.bitmap,d.left,d.top),n.drawImage(o,h.x,h.y);break;case O_.RestoreBackground:l.drawImage(d.bitmap,d.left,d.top),n.drawImage(o,h.x,h.y),l.clearRect(j_,z_,o.width,o.height),a.gifData.globalColorTable.length?l.putImageData(a.gifData.backgroundImage,h.x,h.y):l.putImageData(a.gifData.frames[0].image,h.x+d.left,h.y+d.top);break;case O_.RestorePrevious:{const t=l.getImageData(j_,z_,o.width,o.height);l.drawImage(d.bitmap,d.left,d.top),n.drawImage(o,h.x,h.y),l.clearRect(j_,z_,o.width,o.height),l.putImageData(t,j_,z_)}}if(r.gifTime+=s.value,r.gifTime>d.delayTime){if(r.gifTime-=d.delayTime,++u>=a.gifData.frames.length){if(--r.gifLoopCount<=B_)return;u=0,l.clearRect(j_,z_,o.width,o.height)}r.gifFrame=u}n.scale(a.gifData.width/i,a.gifData.height/i)}}(t);else if(a){const t=s.ratio,i={x:-n,y:-n},r=2*n;e.drawImage(a,i.x,i.y,r,r/t)}e.globalAlpha=1}}getSidesCount(){return 12}async init(t){const e=t.actualOptions;if(e.preload&&this._engine.loadImage)for(const n of e.preload)await this._engine.loadImage(n)}loadShape(t){if("image"!==t.shape&&"images"!==t.shape)return;this._engine.images||(this._engine.images=[]);const e=t.shapeData;if(!e)return;this._engine.images.find((t=>t.name===e.name||t.source===e.src))||this.loadImageShape(e).then((()=>{this.loadShape(t)}))}particleInit(t,e){var n;if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=e.shapeData;if(!r)return;const s=e.getFillColor(),a=i.find((t=>t.name===r.name||t.source===r.src));if(!a)return;const o=null!==(n=r.replaceColor)&&void 0!==n?n:a.replaceColor;a.loading?setTimeout((()=>{this.particleInit(t,e)})):(async(t,n)=>{let i;var l;a.svgData&&s?i=await F_(a,r,s,e):i={color:s,data:a,element:a.element,gif:a.gif,gifData:a.gifData,gifLoopCount:a.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:null!==(l=a.ratio)&&void 0!==l?l:1,replaceColor:o,source:r.src};i.ratio||(i.ratio=1);const c={image:i,fill:null!==(t=r.fill)&&void 0!==t?t:e.shapeFill,close:null!==(n=r.close)&&void 0!==n?n:e.shapeClose};e.image=c.image,e.shapeFill=c.fill,e.shapeClose=c.close})()}}class G_{constructor(){this.src="",this.gif=!1}load(t){t&&(void 0!==t.gif&&(this.gif=t.gif),void 0!==t.height&&(this.height=t.height),void 0!==t.name&&(this.name=t.name),void 0!==t.replaceColor&&(this.replaceColor=t.replaceColor),void 0!==t.src&&(this.src=t.src),void 0!==t.width&&(this.width=t.width))}}class q_{constructor(t){this.id="imagePreloader",this._engine=t}async getPlugin(){return await Promise.resolve(),{}}loadOptions(t,e){if(null===e||void 0===e||!e.preload)return;t.preload||(t.preload=[]);const n=t.preload;for(const i of e.preload){const t=n.find((t=>t.name===i.name||t.src===i.src));if(t)t.load(i);else{const t=new G_;t.load(i),n.push(t)}}}needsPlugin(){return!0}}const X_=3;async function K_(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error("".concat(Ig," no image source provided"));if(t.images||(t.images=[]),!t.images.find((t=>t.name===e.name||t.source===e.src)))try{var n,i;const r={gif:null!==(n=e.gif)&&void 0!==n&&n,name:null!==(i=e.name)&&void 0!==i?i:e.src,source:e.src,type:e.src.substring(e.src.length-X_),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};let s;t.images.push(r),s=e.gif?V_:e.replaceColor?R_:T_,await s(r)}catch{var r;throw new Error("".concat(Ig," ").concat(null!==(r=e.name)&&void 0!==r?r:e.src," not found"))}})}(t);const n=new q_(t);await t.addPlugin(n,e),await t.addShape(new U_(t),e)}class Y_ extends rb{constructor(){super(),this.sync=!1}load(t){t&&(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class Q_ extends rb{constructor(){super(),this.sync=!1}load(t){t&&(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class J_{constructor(){this.count=0,this.delay=new Y_,this.duration=new Q_}load(t){t&&(void 0!==t.count&&(this.count=t.count),this.delay.load(t.delay),this.duration.load(t.duration))}}class $_{constructor(t){this.container=t}init(t){const e=this.container,n=t.options.life;n&&(t.life={delay:e.retina.reduceFactor?nm(n.delay.value)*(n.delay.sync?1:$g())/e.retina.reduceFactor*Dg:0,delayTime:0,duration:e.retina.reduceFactor?nm(n.duration.value)*(n.duration.sync?1:$g())/e.retina.reduceFactor*Dg:0,time:0,count:n.count},t.life.duration<=0&&(t.life.duration=-1),t.life.count<=0&&(t.life.count=-1),t.life&&(t.spawning=t.life.delay>0))}isEnabled(t){return!t.destroyed}loadOptions(t){t.life||(t.life=new J_);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.life.load(null===r||void 0===r?void 0:r.life)}update(t,e){this.isEnabled(t)&&t.life&&function(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning){if(i.delayTime+=e.value,!(i.delayTime>=t.life.delay))return;r=!0,t.spawning=!1,i.delayTime=0,i.time=0}if(-1===i.duration)return;if(t.spawning)return;if(r?i.time=0:i.time+=e.value,i.time<i.duration)return;if(i.time=0,t.life.count>0&&t.life.count--,0===t.life.count)return void t.destroy();const s=sm(0,n.width),a=sm(0,n.width);t.position.x=em(s),t.position.y=em(a),t.spawning=!0,i.delayTime=0,i.time=0,t.reset();const o=t.options.life;o&&(i.delay=nm(o.delay.value)*Dg,i.duration=nm(o.duration.value)*Dg)}(t,e,this.container.canvas.size)}}class Z_{constructor(){this.validTypes=["line"]}draw(t){!function(t){var e;const{context:n,particle:i,radius:r}=t,s=i.shapeData;n.moveTo(-r,0),n.lineTo(r,0),n.lineCap=null!==(e=null===s||void 0===s?void 0:s.cap)&&void 0!==e?e:"butt"}(t)}getSidesCount(){return 1}}class tx{init(){}isEnabled(t){return!xm()&&!t.destroyed&&t.container.actualOptions.interactivity.events.onHover.parallax.enable}move(t){const e=t.container,n=e.actualOptions.interactivity.events.onHover.parallax;if(xm()||!n.enable)return;const i=n.force,r=e.interactivity.mouse.position;if(!r)return;const s=e.canvas.size,a=.5*s.width,o=.5*s.height,l=n.smooth,c=t.getRadius()/i,u=(r.x-a)*c,h=(r.y-o)*c,{offset:d}=t;d.x+=(u-d.x)/l,d.y+=(h-d.y)/l}}class ex extends fy{constructor(t){super(t)}clear(){}init(){}interact(t){const e=this.container;void 0===t.attractDistance&&(t.attractDistance=nm(t.options.move.attract.distance)*e.retina.pixelRatio);const n=t.attractDistance,i=t.getPosition(),r=e.particles.quadTree.queryCircle(i,n);for(const s of r){if(t===s||!s.options.move.attract.enable||s.destroyed||s.spawning)continue;const e=s.getPosition(),{dx:n,dy:r}=am(i,e),a=t.options.move.attract.rotate,o=n/(1e3*a.x),l=r/(1e3*a.y),c=s.size.value/t.size.value,u=1/c;t.velocity.x-=o*c,t.velocity.y-=l*c,s.velocity.x+=o*u,s.velocity.y+=l*u}}isEnabled(t){return t.options.move.attract.enable}reset(){}}const nx=.5,ix=10,rx=0;function sx(t,e,n,i,r,s){const a=Zg(t.options.collisions.absorb.speed*r.factor/ix,rx,i);t.size.value+=a*nx,n.size.value-=a,i<=s&&(n.size.value=0,n.destroy())}const ax=t=>{void 0===t.collisionMaxSpeed&&(t.collisionMaxSpeed=nm(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function ox(t,e){Im(Fm(t),Fm(e)),ax(t),ax(e)}function lx(t,e,n,i){switch(t.options.collisions.mode){case Vv.absorb:!function(t,e,n,i){const r=t.getRadius(),s=e.getRadius();void 0===r&&void 0!==s?t.destroy():void 0!==r&&void 0===s?e.destroy():void 0!==r&&void 0!==s&&(r>=s?sx(t,0,e,s,n,i):sx(e,0,t,r,n,i))}(t,e,n,i);break;case Vv.bounce:ox(t,e);break;case Vv.destroy:!function(t,e){t.unbreakable||e.unbreakable||ox(t,e),void 0===t.getRadius()&&void 0!==e.getRadius()?t.destroy():void 0!==t.getRadius()&&void 0===e.getRadius()?e.destroy():void 0!==t.getRadius()&&void 0!==e.getRadius()&&(t.getRadius()>=e.getRadius()?e:t).destroy()}(t,e)}}class cx extends fy{constructor(t){super(t)}clear(){}init(){}interact(t,e){if(t.destroyed||t.spawning)return;const n=this.container,i=t.getPosition(),r=t.getRadius(),s=n.particles.quadTree.queryCircle(i,2*r);for(const a of s){if(t===a||!a.options.collisions.enable||t.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const s=a.getPosition(),o=a.getRadius();if(Math.abs(Math.round(i.z)-Math.round(s.z))>r+o)continue;om(i,s)>r+o||lx(t,a,e,n.retina.pixelRatio)}}isEnabled(t){return t.options.collisions.enable}reset(){}}class ux extends Ub{constructor(t,e,n,i){super(t,e,n),this.canvasSize=i,this.canvasSize={...i}}contains(t){const{width:e,height:n}=this.canvasSize,{x:i,y:r}=t;return super.contains(t)||super.contains({x:i-e,y:r})||super.contains({x:i-e,y:r-n})||super.contains({x:i,y:r-n})}intersects(t){if(super.intersects(t))return!0;const e=t,n=t,i={x:t.position.x-this.canvasSize.width,y:t.position.y-this.canvasSize.height};if(void 0!==n.radius){const t=new Ub(i.x,i.y,2*n.radius);return super.intersects(t)}if(void 0!==e.size){const t=new Gb(i.x,i.y,2*e.size.width,2*e.size.height);return super.intersects(t)}return!1}}class hx{constructor(){this.blur=5,this.color=new Av,this.color.value="#000",this.enable=!1}load(t){t&&(void 0!==t.blur&&(this.blur=t.blur),this.color=Av.create(this.color,t.color),void 0!==t.enable&&(this.enable=t.enable))}}class dx{constructor(){this.enable=!1,this.frequency=1}load(t){t&&(void 0!==t.color&&(this.color=Av.create(this.color,t.color)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.frequency&&(this.frequency=t.frequency),void 0!==t.opacity&&(this.opacity=t.opacity))}}class px{constructor(){this.blink=!1,this.color=new Av,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new hx,this.triangles=new dx,this.width=1,this.warp=!1}load(t){t&&(void 0!==t.id&&(this.id=t.id),void 0!==t.blink&&(this.blink=t.blink),this.color=Av.create(this.color,t.color),void 0!==t.consent&&(this.consent=t.consent),void 0!==t.distance&&(this.distance=t.distance),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.frequency&&(this.frequency=t.frequency),void 0!==t.opacity&&(this.opacity=t.opacity),this.shadow.load(t.shadow),this.triangles.load(t.triangles),void 0!==t.width&&(this.width=t.width),void 0!==t.warp&&(this.warp=t.warp))}}const fx=0,gx=0;function mx(t,e,n,i,r){const{dx:s,dy:a,distance:o}=am(t,e);if(!r||o<=n)return o;const l={x:Math.abs(s),y:Math.abs(a)},c=Math.min(l.x,i.width-l.x),u=Math.min(l.y,i.height-l.y);return Math.sqrt(c**2+u**2)}class vx extends fy{constructor(t){super(t),this._setColor=t=>{if(!t.options.links)return;const e=this.linkContainer,n=t.options.links;let i=void 0===n.id?e.particles.linksColor:e.particles.linksColors.get(n.id);if(i)return;i=sv(n.color,n.blink,n.consent),void 0===n.id?e.particles.linksColor=i:e.particles.linksColors.set(n.id,i)},this.linkContainer=t}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}interact(t){var e;if(!t.options.links)return;t.links=[];const n=t.getPosition(),i=this.container,r=i.canvas.size;if(n.x<fx||n.y<gx||n.x>r.width||n.y>r.height)return;const s=t.options.links,a=s.opacity,o=null!==(e=t.retina.linksDistance)&&void 0!==e?e:0,l=s.warp;let c;c=l?new ux(n.x,n.y,o,r):new Ub(n.x,n.y,o);const u=i.particles.quadTree.query(c);for(const h of u){const e=h.options.links;if(t===h||null===e||void 0===e||!e.enable||s.id!==e.id||h.spawning||h.destroyed||!h.links||t.links.some((t=>t.destination===h))||h.links.some((e=>e.destination===t)))continue;const i=h.getPosition();if(i.x<fx||i.y<gx||i.x>r.width||i.y>r.height)continue;const c=mx(n,i,o,r,l&&e.warp);if(c>o)continue;const u=(1-c/o)*a;this._setColor(t),t.links.push({destination:h,opacity:u})}}isEnabled(t){var e;return!(null===(e=t.options.links)||void 0===e||!e.enable)}loadParticlesOptions(t){t.links||(t.links=new px);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.links.load(null===r||void 0===r?void 0:r.links)}reset(){}}function bx(t,e){const n=((i=t.map((t=>t.id))).sort(((t,e)=>t-e)),i.join("_"));var i;let r=e.get(n);return void 0===r&&(r=$g(),e.set(n,r)),r}class yx{constructor(t){this.container=t,this._drawLinkLine=(t,e)=>{const n=t.options.links;if(null===n||void 0===n||!n.enable)return;const i=this.container,r=i.actualOptions,s=e.destination,a=t.getPosition(),o=s.getPosition();let l=e.opacity;i.canvas.draw((e=>{var c,u,h;let d;const p=null===(c=t.options.twinkle)||void 0===c?void 0:c.lines;if(null!==p&&void 0!==p&&p.enable){const t=p.frequency,e=Ym(p.color);$g()<t&&e&&(d=e,l=nm(p.opacity))}if(!d){const e=void 0!==n.id?i.particles.linksColors.get(n.id):i.particles.linksColor;d=rv(t,s,e)}if(!d)return;const f=null!==(u=t.retina.linksWidth)&&void 0!==u?u:0,g=null!==(h=t.retina.linksDistance)&&void 0!==h?h:0,{backgroundMask:m}=r;!function(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:a,width:o,backgroundMask:l,colorLine:c,opacity:u,links:h}=t;if(om(n,i)<=r)vv(s,n,i),e=!0;else if(h.warp){let t,o;const l=am(n,{x:i.x-a.width,y:i.y});if(l.distance<=r){const e=n.y-l.dy/l.dx*n.x;t={x:0,y:e},o={x:a.width,y:e}}else{const e=am(n,{x:i.x,y:i.y-a.height});if(e.distance<=r){const i=-(n.y-e.dy/e.dx*n.x)/(e.dy/e.dx);t={x:i,y:0},o={x:i,y:a.height}}else{const e=am(n,{x:i.x-a.width,y:i.y-a.height});if(e.distance<=r){const i=n.y-e.dy/e.dx*n.x;t={x:-i/(e.dy/e.dx),y:i},o={x:t.x+a.width,y:t.y+a.height}}}}t&&o&&(vv(s,n,t),vv(s,i,o),e=!0)}if(!e)return;s.lineWidth=o,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=ev(c,u);const{shadow:d}=h;if(d.enable){const t=Ym(d.color);t&&(s.shadowBlur=d.blur,s.shadowColor=ev(t))}s.stroke()}({context:e,width:f,begin:a,end:o,maxDistance:g,canvasSize:i.canvas.size,links:n,backgroundMask:m,colorLine:d,opacity:l})}))},this._drawLinkTriangle=(t,e,n)=>{var i;const r=t.options.links;if(null===r||void 0===r||!r.enable)return;const s=r.triangles;if(!s.enable)return;const a=this.container,o=a.actualOptions,l=e.destination,c=n.destination,u=null!==(i=s.opacity)&&void 0!==i?i:.5*(e.opacity+n.opacity);u<=0||a.canvas.draw((e=>{var n;const i=t.getPosition(),h=l.getPosition(),d=c.getPosition(),p=null!==(n=t.retina.linksDistance)&&void 0!==n?n:0;if(om(i,h)>p||om(d,h)>p||om(d,i)>p)return;let f=Ym(s.color);if(!f){const e=void 0!==r.id?a.particles.linksColors.get(r.id):a.particles.linksColor;f=rv(t,l,e)}f&&function(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:a,opacityTriangle:o}=t;!function(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=ev(a,o),e.fill()}({context:e,pos1:i,pos2:h,pos3:d,backgroundMask:o.backgroundMask,colorTriangle:f,opacityTriangle:u})}))},this._drawTriangles=(t,e,n,i)=>{var r,s,a;const o=n.destination;if(null===(r=t.links)||void 0===r||!r.triangles.enable||null===(s=o.options.links)||void 0===s||!s.triangles.enable)return;const l=null===(a=o.links)||void 0===a?void 0:a.filter((t=>{const e=this._getLinkFrequency(o,t.destination);return o.options.links&&e<=o.options.links.frequency&&i.findIndex((e=>e.destination===t.destination))>=0}));if(null!==l&&void 0!==l&&l.length)for(const c of l){const i=c.destination;this._getTriangleFrequency(e,o,i)>t.links.triangles.frequency||this._drawLinkTriangle(e,n,c)}},this._getLinkFrequency=(t,e)=>bx([t,e],this._freqs.links),this._getTriangleFrequency=(t,e,n)=>bx([t,e,n],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(t,e){const{links:n,options:i}=e;if(null===n||void 0===n||!n.length)return;const r=n.filter((t=>i.links&&(i.links.frequency>=1||this._getLinkFrequency(e,t.destination)<=i.links.frequency)));for(const a of r){var s;this._drawTriangles(i,e,a,r),a.opacity>0&&(null!==(s=e.retina.linksWidth)&&void 0!==s?s:0)>0&&this._drawLinkLine(e,a)}}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(t){if(t.links=[],!t.options.links)return;const e=this.container.retina.pixelRatio,{retina:n}=t,{distance:i,width:r}=t.options.links;n.linksDistance=i*e,n.linksWidth=r*e}particleDestroyed(t){t.links=[]}}class _x{constructor(){this.id="links"}getPlugin(t){return Promise.resolve(new yx(t))}loadOptions(){}needsPlugin(){return!0}}async function xx(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("particlesLinks",(async t=>Promise.resolve(new vx(t))),e)}(t,e),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new _x;await t.addPlugin(n,e)}(t,e)}const wx=0,Sx=0;class kx{draw(t){const{particle:e,radius:n}=t;!function(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,a=180*(s-2)/s,o=Math.PI-lm(a);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(wx,Sx);for(let t=0;t<r;t++)i.lineTo(n.length,Sx),i.translate(n.length,Sx),i.rotate(o)}}(t,this.getCenter(e,n),this.getSidesData(e,n))}getSidesCount(t){var e;const n=t.shapeData;return Math.round(nm(null!==(e=null===n||void 0===n?void 0:n.sides)&&void 0!==e?e:5))}}class Ex extends kx{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(t,e){return{x:-e/(t.sides/3.5),y:-e/.76}}getSidesData(t,e){const n=t.sides;return{count:{denominator:1,numerator:n},length:2.66*e/(n/3)}}}class Cx extends kx{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(t,e){return{x:-e,y:e/1.66}}getSidesCount(){return 3}getSidesData(t,e){return{count:{denominator:2,numerator:3},length:2*e}}}async function Ax(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Ex,e)}(t,e),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Cx,e)}(t,e)}class Px{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){t&&(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=sm(t.speed)),void 0!==t.decay&&(this.decay=sm(t.decay)),void 0!==t.sync&&(this.sync=t.sync))}}class Mx extends rb{constructor(){super(),this.animation=new Px,this.direction=ly.clockwise,this.path=!1,this.value=0}load(t){t&&(super.load(t),void 0!==t.direction&&(this.direction=t.direction),this.animation.load(t.animation),void 0!==t.path&&(this.path=t.path))}}const Tx=2*Math.PI;class Rx{constructor(t){this.container=t}init(t){const e=t.options.rotate;if(!e)return;t.rotate={enable:e.animation.enable,value:lm(nm(e.value)),min:0,max:Tx},t.pathRotation=e.path;let n=e.direction;if(n===ly.random){n=Math.floor(2*$g())>0?ly.counterClockwise:ly.clockwise}switch(n){case ly.counterClockwise:case"counterClockwise":t.rotate.status=pm.decreasing;break;case ly.clockwise:t.rotate.status=pm.increasing}const i=e.animation;i.enable&&(t.rotate.decay=1-nm(i.decay),t.rotate.velocity=nm(i.speed)/360*this.container.retina.reduceFactor,i.sync||(t.rotate.velocity*=$g())),t.rotation=t.rotate.value}isEnabled(t){const e=t.options.rotate;return!!e&&(!t.destroyed&&!t.spawning&&(!!e.value||e.animation.enable||e.path))}loadOptions(t){t.rotate||(t.rotate=new Mx);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t.rotate.load(null===r||void 0===r?void 0:r.rotate)}update(t,e){this.isEnabled(t)&&(t.isRotating=!!t.rotate,t.rotate&&(Wm(t,t.rotate,!1,fm.none,e),t.rotation=t.rotate.value))}}const Fx=Math.sqrt(2);class Ix{constructor(){this.validTypes=["edge","square"]}draw(t){!function(t){const{context:e,radius:n}=t,i=n/Fx,r=2*i;e.rect(-i,-i,r,r)}(t)}getSidesCount(){return 4}}const Lx=0,Dx=0;class Ox{constructor(){this.validTypes=["star"]}draw(t){!function(t){var e;const{context:n,particle:i,radius:r}=t,s=i.sides,a=null!==(e=i.starInset)&&void 0!==e?e:2;n.moveTo(Lx,Dx-r);for(let o=0;o<s;o++)n.rotate(Math.PI/s),n.lineTo(Lx,Dx-r*a),n.rotate(Math.PI/s),n.lineTo(Lx,Dx-r)}(t)}getSidesCount(t){var e;const n=t.shapeData;return Math.round(nm(null!==(e=null===n||void 0===n?void 0:n.sides)&&void 0!==e?e:5))}particleInit(t,e){var n;const i=e.shapeData;e.starInset=nm(null!==(n=null===i||void 0===i?void 0:i.inset)&&void 0!==n?n:2)}}class Nx{constructor(t){this.container=t}init(t){var e,n,i;const r=this.container,s=t.options,a=Om(s.stroke,t.id,s.reduceDuplicates);t.strokeWidth=nm(a.width)*r.retina.pixelRatio,t.strokeOpacity=nm(null!==(e=a.opacity)&&void 0!==e?e:1),t.strokeAnimation=null===(n=a.color)||void 0===n?void 0:n.animation;const o=null!==(i=Jm(a.color))&&void 0!==i?i:t.getFillColor();o&&(t.strokeColor=ov(o,t.strokeAnimation,r.retina.reduceFactor))}isEnabled(t){const e=t.strokeAnimation,{strokeColor:n}=t;return!t.destroyed&&!t.spawning&&!!e&&(void 0!==(null===n||void 0===n?void 0:n.h.value)&&n.h.enable||void 0!==(null===n||void 0===n?void 0:n.s.value)&&n.s.enable||void 0!==(null===n||void 0===n?void 0:n.l.value)&&n.l.enable)}update(t,e){this.isEnabled(t)&&uv(t.strokeColor,e)}}async function jx(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addMover("parallax",(()=>Promise.resolve(new tx)),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalAttract",(e=>Promise.resolve(new Wy(t,e))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalBounce",(t=>Promise.resolve(new Jy(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalBubble",(t=>Promise.resolve(new r_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalConnect",(t=>Promise.resolve(new h_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalGrab",(t=>Promise.resolve(new g_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalPause",(t=>Promise.resolve(new m_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalPush",(t=>Promise.resolve(new b_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalRemove",(t=>Promise.resolve(new __(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalRepulse",(e=>Promise.resolve(new E_(t,e))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("externalSlow",(t=>Promise.resolve(new A_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("particlesAttract",(t=>Promise.resolve(new ex(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addInteractor("particlesCollisions",(t=>Promise.resolve(new cx(t))),e)}(t,!1),await xx(t,!1),await async function(){Qg(uy.easeInQuad,(t=>t**2)),Qg(uy.easeOutQuad,(t=>1-(1-t)**2)),Qg(uy.easeInOutQuad,(t=>t<.5?2*t**2:1-(-2*t+2)**2/2)),await Promise.resolve()}(),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Dy,e)}(t,!1),await K_(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Z_,e)}(t,!1),await Ax(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Ix,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addShape(new Ox,e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("life",(async t=>Promise.resolve(new $_(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("rotate",(t=>Promise.resolve(new Rx(t))),e)}(t,!1),await async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addParticleUpdater("strokeColor",(t=>Promise.resolve(new Nx(t))),e)}(t,!1),await Iy(t,e)}const zx=t=>{const[n,i]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async function(t){await t(gy)})((async t=>{await jx(t)})).then((()=>{i(!0)}))}),[]);const r=(0,e.useMemo)((()=>({particles:{number:{value:60,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:2,random:!0,anim:{enable:!1,speed:1,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:.5,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})),[]);return(0,ng.jsx)(my,{id:t.id,init:t=>{console.log(t)},options:r})},Bx=()=>{const[t,n]=(0,e.useState)(0),[i,r]=(0,e.useState)(!1),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(300-100*Math.random()),[c,u]=(0,e.useState)(1),h=["Web Developer","Competitive Coder","MERN Stack Developer"];(0,e.useEffect)((()=>{let t=setInterval((()=>{d()}),o);return()=>{clearInterval(t)}}),[s]);const d=()=>{let e=h[t%h.length],o=i?e.substring(0,s.length-1):e.substring(0,s.length+1);a(o),i&&l((t=>t/2)),i||o!==e?i&&""===o?(r(!1),n(t+1),u(1),l(500)):u((t=>t+1)):(r(!0),u((t=>t-1)),l(2e3))};return(0,ng.jsxs)("section",{className:"banner",id:"home",children:[(0,ng.jsx)("div",{className:"animation",children:(0,ng.jsx)(zx,{id:"particles"})}),(0,ng.jsx)(gg,{children:(0,ng.jsxs)(vg,{className:"aligh-items-center",children:[(0,ng.jsx)(yg,{xs:12,md:6,xl:7,children:(0,ng.jsx)(Pg.A,{children:t=>{let{isVisible:e}=t;return(0,ng.jsxs)("div",{className:e?"animate__animated animate__fadeIn":"",children:[(0,ng.jsx)("span",{className:"tagline",children:"Welcome to my Portfolio"}),(0,ng.jsx)("h1",{children:"Hi! I'm Chirag "}),(0,ng.jsxs)("h1",{children:[" ",(0,ng.jsx)("span",{className:"txt-rotate",dataPeriod:"1000","data-rotate":'[ "Web Developer", "Competitive Coder", "MERN Stack Developer"]',children:(0,ng.jsx)("span",{className:"wrap",children:s})})]}),(0,ng.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}),(0,ng.jsx)("a",{style:{textDecoration:"none"},href:"#connect",children:(0,ng.jsxs)("button",{children:["Let\u2019s Connect ",(0,ng.jsx)(Ag,{size:25})]})})]})}})}),(0,ng.jsx)(yg,{xs:12,md:6,xl:5,children:(0,ng.jsx)(Pg.A,{children:t=>{let{isVisible:e}=t;return(0,ng.jsx)("div",{className:e?"animate__animated animate__zoomIn":"",children:(0,ng.jsx)("img",{src:_g,alt:"Header Img"})})}})})]})})]})},Wx=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t?String(t):e||null},Hx=e.createContext(null);function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vx.apply(null,arguments)}function Ux(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}__webpack_require__(2740);function Gx(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function qx(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function Xx(t,n){return Object.keys(n).reduce((function(i,r){var s,a=i,o=a[Gx(r)],l=a[r],c=Ux(a,[Gx(r),r].map(qx)),u=n[r],h=function(t,n,i){var r=(0,e.useRef)(void 0!==t),s=(0,e.useState)(n),a=s[0],o=s[1],l=void 0!==t,c=r.current;return r.current=l,!l&&c&&a!==n&&o(n),[l?t:a,(0,e.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i&&i.apply(void 0,[t].concat(n)),o(t)}),[i])]}(l,o,t[u]),d=h[0],p=h[1];return Vx({},c,((s={})[r]=d,s[u]=p,s))}),t)}function Kx(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function Yx(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function Qx(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}Kx.__suppressDeprecationWarning=!0,Yx.__suppressDeprecationWarning=!0,Qx.__suppressDeprecationWarning=!0;const Jx=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:i,as:r,...s}=t;n=hg(n,"navbar-brand");const a=r||(s.href?"a":"span");return(0,ng.jsx)(a,{...s,ref:e,className:sg()(i,n)})}));Jx.displayName="NavbarBrand";const $x=Jx;function Zx(t){return t&&t.ownerDocument||document}function tw(t,e){return function(t){var e=Zx(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var ew=/([A-Z])/g;var nw=/^ms-/;function iw(t){return function(t){return t.replace(ew,"-$1").toLowerCase()}(t).replace(nw,"-ms-")}var rw=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const sw=function(t,e){var n="",i="";if("string"===typeof e)return t.style.getPropertyValue(iw(e))||tw(t).getPropertyValue(iw(e));Object.keys(e).forEach((function(r){var s=e[r];s||0===s?!function(t){return!(!t||!rw.test(t))}(r)?n+=iw(r)+": "+s+";":i+=r+"("+s+") ":t.style.removeProperty(iw(r))})),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n};function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},aw(t,e)}var ow=__webpack_require__(7950),lw=__webpack_require__.t(ow,2);const cw=!1,uw=e.createContext(null);var hw="unmounted",dw="exited",pw="entering",fw="entered",gw="exiting",mw=function(t){var n,i;function r(e,n){var i;i=t.call(this,e,n)||this;var r,s=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?s?(r=dw,i.appearStatus=pw):r=fw:r=e.unmountOnExit||e.mountOnEnter?hw:dw,i.state={status:r},i.nextCallback=null,i}i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,aw(n,i),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===hw?{status:dw}:null};var s=r.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==pw&&n!==fw&&(e=pw):n!==pw&&n!==fw||(e=gw)}this.updateStatus(!1,e)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!==typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},s.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===pw){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ow.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dw&&this.setState({status:hw})},s.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,r=this.props.nodeRef?[i]:[ow.findDOMNode(this),i],s=r[0],a=r[1],o=this.getTimeouts(),l=i?o.appear:o.enter;!t&&!n||cw?this.safeSetState({status:fw},(function(){e.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:pw},(function(){e.props.onEntering(s,a),e.onTransitionEnd(l,(function(){e.safeSetState({status:fw},(function(){e.props.onEntered(s,a)}))}))})))},s.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:ow.findDOMNode(this);e&&!cw?(this.props.onExit(i),this.safeSetState({status:gw},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:dw},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:dw},(function(){t.props.onExited(i)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},s.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:ow.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],a=r[1];this.props.addEndListener(s,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},s.render=function(){var t=this.state.status;if(t===hw)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ux(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(uw.Provider,{value:null},"function"===typeof i?i(t,r):e.cloneElement(e.Children.only(i),r))},r}(e.Component);function vw(){}mw.contextType=uw,mw.propTypes={},mw.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vw,onEntering:vw,onEntered:vw,onExit:vw,onExiting:vw,onExited:vw},mw.UNMOUNTED=hw,mw.EXITED=dw,mw.ENTERING=pw,mw.ENTERED=fw,mw.EXITING=gw;const bw=mw,yw=!("undefined"===typeof window||!window.document||!window.document.createElement);var _w=!1,xw=!1;try{var ww={get passive(){return _w=!0},get once(){return xw=_w=!0}};yw&&(window.addEventListener("test",ww,ww),window.removeEventListener("test",ww,!0))}catch(SI){}const Sw=function(t,e,n,i){if(i&&"boolean"!==typeof i&&!xw){var r=i.once,s=i.capture,a=n;!xw&&r&&(a=n.__once||function t(i){this.removeEventListener(e,t,s),n.call(this,i)},n.__once=a),t.addEventListener(e,a,_w?i:s)}t.addEventListener(e,n,i)};const kw=function(t,e,n,i){var r=i&&"boolean"!==typeof i?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)};const Ew=function(t,e,n,i){return Sw(t,e,n,i),function(){kw(t,e,n,i)}};function Cw(t,e,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}(t,"transitionend",!0)}),e+n),s=Ew(t,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),s()}}function Aw(t,e,n,i){null==n&&(n=function(t){var e=sw(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var r=Cw(t,n,i),s=Ew(t,"transitionend",e);return function(){r(),s()}}function Pw(t,e){const n=sw(t,e)||"",i=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*i}function Mw(t,e){const n=Pw(t,"transitionDuration"),i=Pw(t,"transitionDelay"),r=Aw(t,(n=>{n.target===t&&(r(),e(n))}),n+i)}const Tw=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t=>null!=t)).reduce(((t,e)=>{if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i),e.apply(this,i)}}),null)};function Rw(t){t.offsetHeight}const Fw=t=>t&&"function"!==typeof t?e=>{t.current=e}:t;const Iw=function(t,n){return(0,e.useMemo)((()=>function(t,e){const n=Fw(t),i=Fw(e);return t=>{n&&n(t),i&&i(t)}}(t,n)),[t,n])};const Lw=e.forwardRef(((t,n)=>{let{onEnter:i,onEntering:r,onEntered:s,onExit:a,onExiting:o,onExited:l,addEndListener:c,children:u,childRef:h,...d}=t;const p=(0,e.useRef)(null),f=Iw(p,h),g=t=>{var e;f((e=t)&&"setState"in e?ow.findDOMNode(e):null!=e?e:null)},m=t=>e=>{t&&p.current&&t(p.current,e)},v=(0,e.useCallback)(m(i),[i]),b=(0,e.useCallback)(m(r),[r]),y=(0,e.useCallback)(m(s),[s]),_=(0,e.useCallback)(m(a),[a]),x=(0,e.useCallback)(m(o),[o]),w=(0,e.useCallback)(m(l),[l]),S=(0,e.useCallback)(m(c),[c]);return(0,ng.jsx)(bw,{ref:n,...d,onEnter:v,onEntered:y,onEntering:b,onExit:_,onExited:w,onExiting:x,addEndListener:S,nodeRef:p,children:"function"===typeof u?(t,e)=>u(t,{...e,ref:g}):e.cloneElement(u,{ref:g})})})),Dw=Lw,Ow={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Nw(t,e){const n=e["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],i=Ow[t];return n+parseInt(sw(e,i[0]),10)+parseInt(sw(e,i[1]),10)}const jw={[dw]:"collapse",[gw]:"collapsing",[pw]:"collapsing",[fw]:"collapse show"},zw=e.forwardRef(((t,n)=>{let{onEnter:i,onEntering:r,onEntered:s,onExit:a,onExiting:o,className:l,children:c,dimension:u="height",in:h=!1,timeout:d=300,mountOnEnter:p=!1,unmountOnExit:f=!1,appear:g=!1,getDimensionValue:m=Nw,...v}=t;const b="function"===typeof u?u():u,y=(0,e.useMemo)((()=>Tw((t=>{t.style[b]="0"}),i)),[b,i]),_=(0,e.useMemo)((()=>Tw((t=>{const e="scroll".concat(b[0].toUpperCase()).concat(b.slice(1));t.style[b]="".concat(t[e],"px")}),r)),[b,r]),x=(0,e.useMemo)((()=>Tw((t=>{t.style[b]=null}),s)),[b,s]),w=(0,e.useMemo)((()=>Tw((t=>{t.style[b]="".concat(m(b,t),"px"),Rw(t)}),a)),[a,m,b]),S=(0,e.useMemo)((()=>Tw((t=>{t.style[b]=null}),o)),[b,o]);return(0,ng.jsx)(Dw,{ref:n,addEndListener:Mw,...v,"aria-expanded":v.role?h:null,onEnter:y,onEntering:_,onEntered:x,onExit:w,onExiting:S,childRef:c.ref,in:h,timeout:d,mountOnEnter:p,unmountOnExit:f,appear:g,children:(t,n)=>e.cloneElement(c,{...n,className:sg()(l,c.props.className,jw[t],"width"===b&&"collapse-horizontal")})})})),Bw=zw,Ww=e.createContext(null);Ww.displayName="NavbarContext";const Hw=Ww,Vw=e.forwardRef(((t,n)=>{let{children:i,bsPrefix:r,...s}=t;r=hg(r,"navbar-collapse");const a=(0,e.useContext)(Hw);return(0,ng.jsx)(Bw,{in:!(!a||!a.expanded),...s,children:(0,ng.jsx)("div",{ref:n,className:r,children:i})})}));Vw.displayName="NavbarCollapse";const Uw=Vw;const Gw=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function qw(t){const n=Gw(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Xw=e.forwardRef(((t,n)=>{let{bsPrefix:i,className:r,children:s,label:a="Toggle navigation",as:o="button",onClick:l,...c}=t;i=hg(i,"navbar-toggler");const{onToggle:u,expanded:h}=(0,e.useContext)(Hw)||{},d=qw((t=>{l&&l(t),u&&u()}));return"button"===o&&(c.type="button"),(0,ng.jsx)(o,{...c,ref:n,onClick:d,"aria-label":a,className:sg()(r,i,!h&&"collapsed"),children:s||(0,ng.jsx)("span",{className:"".concat(i,"-icon")})})}));Xw.displayName="NavbarToggle";const Kw=Xw,Yw="undefined"!==typeof __webpack_require__.g&&__webpack_require__.g.navigator&&"ReactNative"===__webpack_require__.g.navigator.product,Qw="undefined"!==typeof document||Yw?e.useLayoutEffect:e.useEffect,Jw=new WeakMap,$w=(t,e)=>{if(!t||!e)return;const n=Jw.get(e)||new Map;Jw.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function Zw(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const i=$w(t,n),[r,s]=(0,e.useState)((()=>!!i&&i.matches));return Qw((()=>{let e=$w(t,n);if(!e)return s(!1);let i=Jw.get(n);const r=()=>{s(e.matches)};return e.refCount++,e.addListener(r),r(),()=>{e.removeListener(r),e.refCount--,e.refCount<=0&&(null==i||i.delete(e.media)),e=void 0}}),[t]),r}const tS=function(t){const n=Object.keys(t);function i(t,e){return t===e?e:t?"".concat(t," and ").concat(e):e}function r(e){const i=function(t){return n[Math.min(n.indexOf(t)+1,n.length-1)]}(e);let r=t[i];return r="number"===typeof r?"".concat(r-.2,"px"):"calc(".concat(r," - 0.2px)"),"(max-width: ".concat(r,")")}return function(n,s,a){let o;return"object"===typeof n?(o=n,a=s,s=!0):(s=s||!0,o={[n]:s}),Zw((0,e.useMemo)((()=>Object.entries(o).reduce(((e,n)=>{let[s,a]=n;return"up"!==a&&!0!==a||(e=i(e,function(e){let n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==a&&!0!==a||(e=i(e,r(s))),e}),"")),[JSON.stringify(o)]),a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),eS=tS;function nS(t){void 0===t&&(t=Zx());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(SI){return t.body}}function iS(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}function rS(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}const sS="data-rr-ui-";function aS(t){return"".concat(sS).concat(t)}const oS=aS("modal-open");const lS=class{constructor(){let{ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[n]:i.style[n]},t.scrollBarWidth&&(e[n]="".concat(parseInt(sw(i,n)||"0",10)+t.scrollBarWidth,"px")),i.setAttribute(oS,""),sw(i,e)}reset(){[...this.modals].forEach((t=>this.remove(t)))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(oS),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return-1!==e?e:(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==e||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e)}remove(t){const e=this.modals.indexOf(t);-1!==e&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}},cS=(0,e.createContext)(yw?window:void 0);cS.Provider;function uS(){return(0,e.useContext)(cS)}const hS=(t,e)=>yw?null==t?(e||Zx()).body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;const dS=function(t){let{children:n,in:i,onExited:r,mountOnEnter:s,unmountOnExit:a}=t;const o=(0,e.useRef)(null),l=(0,e.useRef)(i),c=qw(r);(0,e.useEffect)((()=>{i?l.current=!0:c(o.current)}),[i,c]);const u=Iw(o,n.ref),h=(0,e.cloneElement)(n,{ref:u});return i?h:a||!l.current&&s?null:h};const pS=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function fS(t){let{onEnter:n,onEntering:i,onEntered:r,onExit:s,onExiting:a,onExited:o,addEndListener:l,children:c}=t,u=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,pS);const{major:h}=function(){const t=e.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}(),d=h>=19?c.props.ref:c.ref,p=(0,e.useRef)(null),f=Iw(p,"function"===typeof c?null:d),g=t=>e=>{t&&p.current&&t(p.current,e)},m=(0,e.useCallback)(g(n),[n]),v=(0,e.useCallback)(g(i),[i]),b=(0,e.useCallback)(g(r),[r]),y=(0,e.useCallback)(g(s),[s]),_=(0,e.useCallback)(g(a),[a]),x=(0,e.useCallback)(g(o),[o]),w=(0,e.useCallback)(g(l),[l]);return Object.assign({},u,{nodeRef:p},n&&{onEnter:m},i&&{onEntering:v},r&&{onEntered:b},s&&{onExit:y},a&&{onExiting:_},o&&{onExited:x},l&&{addEndListener:w},{children:"function"===typeof c?(t,e)=>c(t,Object.assign({},e,{ref:f})):(0,e.cloneElement)(c,{ref:f})})}const gS=["component"];const mS=e.forwardRef(((t,e)=>{let{component:n}=t;const i=fS(function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,gS));return(0,ng.jsx)(n,Object.assign({ref:e},i))}));function vS(t){let{children:n,in:i,onExited:r,onEntered:s,transition:a}=t;const[o,l]=(0,e.useState)(!i);i&&o&&l(!1);const c=function(t){let{in:n,onTransition:i}=t;const r=(0,e.useRef)(null),s=(0,e.useRef)(!0),a=qw(i);return Qw((()=>{if(!r.current)return;let t=!1;return a({in:n,element:r.current,initial:s.current,isStale:()=>t}),()=>{t=!0}}),[n,a]),Qw((()=>(s.current=!1,()=>{s.current=!0})),[]),r}({in:!!i,onTransition:t=>{Promise.resolve(a(t)).then((()=>{t.isStale()||(t.in?null==s||s(t.element,t.initial):(l(!0),null==r||r(t.element)))}),(e=>{throw t.in||l(!0),e}))}}),u=Iw(c,n.ref);return o&&!i?null:(0,e.cloneElement)(n,{ref:u})}function bS(t,e,n){return t?(0,ng.jsx)(mS,Object.assign({},n,{component:t})):e?(0,ng.jsx)(vS,Object.assign({},n,{transition:e})):(0,ng.jsx)(dS,Object.assign({},n))}const yS=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let _S;function xS(t){const n=uS(),i=t||function(t){return _S||(_S=new lS({ownerDocument:null==t?void 0:t.document})),_S}(n),r=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>i.add(r.current),remove:()=>i.remove(r.current),isTopModal:()=>i.isTopModal(r.current),setDialogRef:(0,e.useCallback)((t=>{r.current.dialog=t}),[]),setBackdropRef:(0,e.useCallback)((t=>{r.current.backdrop=t}),[])})}const wS=(0,e.forwardRef)(((t,n)=>{let{show:i=!1,role:r="dialog",className:s,style:a,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:p,backdropTransition:f,runBackdropTransition:g,autoFocus:m=!0,enforceFocus:v=!0,restoreFocus:b=!0,restoreFocusOptions:y,renderDialog:_,renderBackdrop:x=(t=>(0,ng.jsx)("div",Object.assign({},t))),manager:w,container:S,onShow:k,onHide:E=(()=>{}),onExit:C,onExited:A,onExiting:P,onEnter:M,onEntering:T,onEntered:R}=t,F=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,yS);const I=uS(),L=function(t,n){const i=uS(),[r,s]=(0,e.useState)((()=>hS(t,null==i?void 0:i.document)));if(!r){const e=hS(t);e&&s(e)}return(0,e.useEffect)((()=>{n&&r&&n(r)}),[n,r]),(0,e.useEffect)((()=>{const e=hS(t);e!==r&&s(e)}),[t,r]),r}(S),D=xS(w),O=function(){const t=(0,e.useRef)(!0),n=(0,e.useRef)((()=>t.current));return(0,e.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}(),N=function(t){const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t})),n.current}(i),[j,z]=(0,e.useState)(!i),B=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(()=>D),[D]),yw&&!N&&i&&(B.current=nS(null==I?void 0:I.document)),i&&j&&z(!1);const W=qw((()=>{if(D.add(),X.current=Ew(document,"keydown",G),q.current=Ew(document,"focus",(()=>setTimeout(V)),!0),k&&k(),m){var t,e;const n=nS(null!=(t=null==(e=D.dialog)?void 0:e.ownerDocument)?t:null==I?void 0:I.document);D.dialog&&n&&!iS(D.dialog,n)&&(B.current=n,D.dialog.focus())}})),H=qw((()=>{var t;(D.remove(),null==X.current||X.current(),null==q.current||q.current(),b)&&(null==(t=B.current)||null==t.focus||t.focus(y),B.current=null)}));(0,e.useEffect)((()=>{i&&L&&W()}),[i,L,W]),(0,e.useEffect)((()=>{j&&H()}),[j,H]),rS((()=>{H()}));const V=qw((()=>{if(!v||!O()||!D.isTopModal())return;const t=nS(null==I?void 0:I.document);D.dialog&&t&&!iS(D.dialog,t)&&D.dialog.focus()})),U=qw((t=>{t.target===t.currentTarget&&(null==u||u(t),!0===l&&E())})),G=qw((t=>{c&&function(t){return"Escape"===t.code||27===t.keyCode}(t)&&D.isTopModal()&&(null==h||h(t),t.defaultPrevented||E())})),q=(0,e.useRef)(),X=(0,e.useRef)();if(!L)return null;const K=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":"dialog"===r||void 0},F,{style:a,className:s,tabIndex:-1});let Y=_?_(K):(0,ng.jsx)("div",Object.assign({},K,{children:e.cloneElement(o,{role:"document"})}));Y=bS(d,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:C,onExiting:P,onExited:function(){z(!0),null==A||A(...arguments)},onEnter:M,onEntering:T,onEntered:R,children:Y});let Q=null;return l&&(Q=x({ref:D.setBackdropRef,onClick:U}),Q=bS(f,g,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,ng.jsx)(ng.Fragment,{children:ow.createPortal((0,ng.jsxs)(ng.Fragment,{children:[Q,Y]}),L)})}));wS.displayName="Modal";const SS=Object.assign(wS,{Manager:lS}),kS={[pw]:"show",[fw]:"show"},ES=e.forwardRef(((t,n)=>{let{className:i,children:r,transitionClasses:s={},onEnter:a,...o}=t;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},c=(0,e.useCallback)(((t,e)=>{Rw(t),null==a||a(t,e)}),[a]);return(0,ng.jsx)(Dw,{ref:n,addEndListener:Mw,...l,onEnter:c,childRef:r.ref,children:(t,n)=>e.cloneElement(r,{...n,className:sg()("fade",i,r.props.className,kS[t],s[t])})})}));ES.displayName="Fade";const CS=ES,AS=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:i,as:r="div",...s}=t;return i=hg(i,"offcanvas-body"),(0,ng.jsx)(r,{ref:e,className:sg()(n,i),...s})}));AS.displayName="OffcanvasBody";const PS=AS,MS={[pw]:"show",[fw]:"show"},TS=e.forwardRef(((t,n)=>{let{bsPrefix:i,className:r,children:s,in:a=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...u}=t;return i=hg(i,"offcanvas"),(0,ng.jsx)(Dw,{ref:n,addEndListener:Mw,in:a,mountOnEnter:o,unmountOnExit:l,appear:c,...u,childRef:s.ref,children:(t,n)=>e.cloneElement(s,{...n,className:sg()(r,s.props.className,(t===pw||t===gw)&&"".concat(i,"-toggling"),MS[t])})})}));TS.displayName="OffcanvasToggling";const RS=TS,FS=e.createContext({onHide(){}}),IS={"aria-label":wg().string,onClick:wg().func,variant:wg().oneOf(["white"])},LS=e.forwardRef(((t,e)=>{let{className:n,variant:i,"aria-label":r="Close",...s}=t;return(0,ng.jsx)("button",{ref:e,type:"button",className:sg()("btn-close",i&&"btn-close-".concat(i),n),"aria-label":r,...s})}));LS.displayName="CloseButton",LS.propTypes=IS;const DS=LS,OS=e.forwardRef(((t,n)=>{let{closeLabel:i="Close",closeVariant:r,closeButton:s=!1,onHide:a,children:o,...l}=t;const c=(0,e.useContext)(FS),u=qw((()=>{null==c||c.onHide(),null==a||a()}));return(0,ng.jsxs)("div",{ref:n,...l,children:[o,s&&(0,ng.jsx)(DS,{"aria-label":i,variant:r,onClick:u})]})})),NS=OS,jS=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:i,closeLabel:r="Close",closeButton:s=!1,...a}=t;return n=hg(n,"offcanvas-header"),(0,ng.jsx)(NS,{ref:e,...a,className:sg()(i,n),closeLabel:r,closeButton:s})}));jS.displayName="OffcanvasHeader";const zS=jS,BS=(WS="h5",e.forwardRef(((t,e)=>(0,ng.jsx)("div",{...t,ref:e,className:sg()(t.className,WS)}))));var WS;const HS=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:i,as:r=BS,...s}=t;return i=hg(i,"offcanvas-title"),(0,ng.jsx)(r,{ref:e,className:sg()(n,i),...s})}));HS.displayName="OffcanvasTitle";const VS=HS;var US=Function.prototype.bind.call(Function.prototype.call,[].slice);function GS(t,e){return US(t.querySelectorAll(e))}function qS(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const XS=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",KS=".sticky-top",YS=".navbar-toggler";class QS extends lS{adjustAndStore(t,e,n){const i=e.style[t];e.dataset[t]=i,sw(e,{[t]:"".concat(parseFloat(sw(e,t))+n,"px")})}restore(t,e){const n=e.dataset[t];void 0!==n&&(delete e.dataset[t],sw(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(function(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}(e,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";GS(e,XS).forEach((e=>this.adjustAndStore(n,e,t.scrollBarWidth))),GS(e,KS).forEach((e=>this.adjustAndStore(i,e,-t.scrollBarWidth))),GS(e,YS).forEach((e=>this.adjustAndStore(i,e,t.scrollBarWidth)))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();!function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=qS(t.className,e):t.setAttribute("class",qS(t.className&&t.className.baseVal||"",e))}(e,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";GS(e,XS).forEach((t=>this.restore(n,t))),GS(e,KS).forEach((t=>this.restore(i,t))),GS(e,YS).forEach((t=>this.restore(i,t)))}}let JS;const $S=QS;function ZS(t){return(0,ng.jsx)(RS,{...t})}function tk(t){return(0,ng.jsx)(CS,{...t})}const ek=e.forwardRef(((t,n)=>{let{bsPrefix:i,className:r,children:s,"aria-labelledby":a,placement:o="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:p,onShow:f,onHide:g,container:m,autoFocus:v=!0,enforceFocus:b=!0,restoreFocus:y=!0,restoreFocusOptions:_,onEntered:x,onExit:w,onExiting:S,onEnter:k,onEntering:E,onExited:C,backdropClassName:A,manager:P,renderStaticNode:M=!1,...T}=t;const R=(0,e.useRef)();i=hg(i,"offcanvas");const{onToggle:F}=(0,e.useContext)(Hw)||{},[I,L]=(0,e.useState)(!1),D=eS(l||"xs","up");(0,e.useEffect)((()=>{L(l?c&&!D:c)}),[c,l,D]);const O=qw((()=>{null==F||F(),null==g||g()})),N=(0,e.useMemo)((()=>({onHide:O})),[O]);const j=(0,e.useCallback)((t=>(0,ng.jsx)("div",{...t,className:sg()("".concat(i,"-backdrop"),A)})),[A,i]),z=t=>(0,ng.jsx)("div",{...t,...T,className:sg()(r,l?"".concat(i,"-").concat(l):i,"".concat(i,"-").concat(o)),"aria-labelledby":a,children:s});return(0,ng.jsxs)(ng.Fragment,{children:[!I&&(l||M)&&z({}),(0,ng.jsx)(FS.Provider,{value:N,children:(0,ng.jsx)(SS,{show:I,ref:n,backdrop:u,container:m,keyboard:h,autoFocus:v,enforceFocus:b&&!d,restoreFocus:y,restoreFocusOptions:_,onEscapeKeyDown:p,onShow:f,onHide:O,onEnter:function(t){t&&(t.style.visibility="visible");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];null==k||k(t,...n)},onEntering:E,onEntered:x,onExit:w,onExiting:S,onExited:function(t){t&&(t.style.visibility="");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];null==C||C(...n)},manager:P||(d?(R.current||(R.current=new $S({handleContainerOverflow:!1})),R.current):function(t){return JS||(JS=new QS(t)),JS}()),transition:ZS,backdropTransition:tk,renderBackdrop:j,renderDialog:z})})]})}));ek.displayName="Offcanvas";const nk=Object.assign(ek,{Body:PS,Header:zS,Title:VS}),ik=e.forwardRef(((t,n)=>{const i=(0,e.useContext)(Hw);return(0,ng.jsx)(nk,{ref:n,show:!(null==i||!i.expanded),...t,renderStaticNode:!0})}));ik.displayName="NavbarOffcanvas";const rk=ik,sk=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:i,as:r="span",...s}=t;return i=hg(i,"navbar-text"),(0,ng.jsx)(r,{ref:e,className:sg()(n,i),...s})}));sk.displayName="NavbarText";const ak=sk,ok=e.forwardRef(((t,n)=>{const{bsPrefix:i,expand:r=!0,variant:s="light",bg:a,fixed:o,sticky:l,className:c,as:u="nav",expanded:h,onToggle:d,onSelect:p,collapseOnSelect:f=!1,...g}=Xx(t,{expanded:"onToggle"}),m=hg(i,"navbar"),v=(0,e.useCallback)((function(){null==p||p(...arguments),f&&h&&(null==d||d(!1))}),[p,f,h,d]);void 0===g.role&&"nav"!==u&&(g.role="navigation");let b="".concat(m,"-expand");"string"===typeof r&&(b="".concat(b,"-").concat(r));const y=(0,e.useMemo)((()=>({onToggle:()=>null==d?void 0:d(!h),bsPrefix:m,expanded:!!h,expand:r})),[m,h,r,d]);return(0,ng.jsx)(Hw.Provider,{value:y,children:(0,ng.jsx)(Hx.Provider,{value:v,children:(0,ng.jsx)(u,{ref:n,...g,className:sg()(c,m,r&&b,s&&"".concat(m,"-").concat(s),a&&"bg-".concat(a),l&&"sticky-".concat(l),o&&"fixed-".concat(o))})})})}));ok.displayName="Navbar";const lk=Object.assign(ok,{Brand:$x,Collapse:Uw,Offcanvas:rk,Text:ak,Toggle:Kw});__webpack_require__(9197);const ck=e.createContext(null);ck.displayName="NavContext";const uk=ck,hk=e.createContext(null),dk=["as","disabled"];function pk(t){let{tagName:e,disabled:n,href:i,target:r,rel:s,role:a,onClick:o,tabIndex:l=0,type:c}=t;e||(e=null!=i||null!=r||null!=s?"a":"button");const u={tagName:e};if("button"===e)return[{type:c||"button",disabled:n},u];const h=t=>{(n||"a"===e&&function(t){return!t||"#"===t.trim()}(i))&&t.preventDefault(),n?t.stopPropagation():null==o||o(t)};return"a"===e&&(i||(i="#"),n&&(i=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:i,target:"a"===e?r:void 0,"aria-disabled":n||void 0,rel:"a"===e?s:void 0,onClick:h,onKeyDown:t=>{" "===t.key&&(t.preventDefault(),h(t))}},u]}const fk=e.forwardRef(((t,e)=>{let{as:n,disabled:i}=t,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,dk);const[s,{tagName:a}]=pk(Object.assign({tagName:n,disabled:i},r));return(0,ng.jsx)(a,Object.assign({},r,s,{ref:e}))}));fk.displayName="Button";const gk=fk,mk=["as","active","eventKey"];function vk(t){let{key:n,onClick:i,active:r,id:s,role:a,disabled:o}=t;const l=(0,e.useContext)(Hx),c=(0,e.useContext)(uk),u=(0,e.useContext)(hk);let h=r;const d={role:a};if(c){a||"tablist"!==c.role||(d.role="tab");const t=c.getControllerId(null!=n?n:null),e=c.getControlledId(null!=n?n:null);d[aS("event-key")]=n,d.id=t||s,h=null==r&&null!=n?c.activeKey===n:r,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=e)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),o&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=qw((t=>{o||(null==i||i(t),null!=n&&l&&!t.isPropagationStopped()&&l(n,t))})),[d,{isActive:h}]}const bk=e.forwardRef(((t,e)=>{let{as:n=gk,active:i,eventKey:r}=t,s=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,mk);const[a,o]=vk(Object.assign({key:Wx(r,s.href),active:i},s));return a[aS("active")]=o.isActive,(0,ng.jsx)(n,Object.assign({},s,a,{ref:e}))}));bk.displayName="NavItem";const yk=bk,_k=["as","onSelect","activeKey","role","onKeyDown"];const xk=()=>{},wk=aS("event-key"),Sk=e.forwardRef(((t,n)=>{let{as:i="div",onSelect:r,activeKey:s,role:a,onKeyDown:o}=t,l=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,_k);const c=function(){const[,t]=(0,e.useReducer)((t=>!t),!1);return t}(),u=(0,e.useRef)(!1),h=(0,e.useContext)(Hx),d=(0,e.useContext)(hk);let p,f;d&&(a=a||"tablist",s=d.activeKey,p=d.getControlledId,f=d.getControllerId);const g=(0,e.useRef)(null),m=t=>{const e=g.current;if(!e)return null;const n=GS(e,"[".concat(wk,"]:not([aria-disabled=true])")),i=e.querySelector("[aria-selected=true]");if(!i||i!==document.activeElement)return null;const r=n.indexOf(i);if(-1===r)return null;let s=r+t;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(t,e)=>{null!=t&&(null==r||r(t,e),null==h||h(t,e))};(0,e.useEffect)((()=>{if(g.current&&u.current){const t=g.current.querySelector("[".concat(wk,"][aria-selected=true]"));null==t||t.focus()}u.current=!1}));const b=Iw(n,g);return(0,ng.jsx)(Hx.Provider,{value:v,children:(0,ng.jsx)(uk.Provider,{value:{role:a,activeKey:Wx(s),getControlledId:p||xk,getControllerId:f||xk},children:(0,ng.jsx)(i,Object.assign({},l,{onKeyDown:t=>{if(null==o||o(t),!d)return;let e;switch(t.key){case"ArrowLeft":case"ArrowUp":e=m(-1);break;case"ArrowRight":case"ArrowDown":e=m(1);break;default:return}var n;e&&(t.preventDefault(),v(e.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,t),u.current=!0,c())},ref:b,role:a}))})})}));Sk.displayName="Nav";const kk=Object.assign(Sk,{Item:yk}),Ek=e.createContext(null);Ek.displayName="CardHeaderContext";const Ck=Ek,Ak=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:i,as:r="div",...s}=t;return i=hg(i,"nav-item"),(0,ng.jsx)(r,{ref:e,className:sg()(n,i),...s})}));Ak.displayName="NavItem";const Pk=Ak;new WeakMap;const Mk=["onKeyDown"];const Tk=e.forwardRef(((t,e)=>{let{onKeyDown:n}=t,i=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,Mk);const[r]=pk(Object.assign({tagName:"a"},i)),s=qw((t=>{r.onKeyDown(t),null==n||n(t)}));return(a=i.href)&&"#"!==a.trim()&&"button"!==i.role?(0,ng.jsx)("a",Object.assign({ref:e},i,{onKeyDown:n})):(0,ng.jsx)("a",Object.assign({ref:e},i,r,{onKeyDown:s}));var a}));Tk.displayName="Anchor";const Rk=Tk,Fk=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:i,as:r=Rk,active:s,eventKey:a,disabled:o=!1,...l}=t;n=hg(n,"nav-link");const[c,u]=vk({key:Wx(a,l.href),active:s,disabled:o,...l});return(0,ng.jsx)(r,{...l,...c,ref:e,disabled:o,className:sg()(i,n,o&&"disabled",u.isActive&&"active")})}));Fk.displayName="NavLink";const Ik=Fk,Lk=e.forwardRef(((t,n)=>{const{as:i="div",bsPrefix:r,variant:s,fill:a=!1,justify:o=!1,navbar:l,navbarScroll:c,className:u,activeKey:h,...d}=Xx(t,{activeKey:"onSelect"}),p=hg(r,"nav");let f,g,m=!1;const v=(0,e.useContext)(Hw),b=(0,e.useContext)(Ck);return v?(f=v.bsPrefix,m=null==l||l):b&&({cardHeaderBsPrefix:g}=b),(0,ng.jsx)(kk,{as:i,ref:n,activeKey:h,className:sg()(u,{[p]:!m,["".concat(f,"-nav")]:m,["".concat(f,"-nav-scroll")]:m&&c,["".concat(g,"-").concat(s)]:!!g,["".concat(p,"-").concat(s)]:!!s,["".concat(p,"-fill")]:a,["".concat(p,"-justified")]:o}),...d})}));Lk.displayName="Nav";const Dk=Object.assign(Lk,{Item:Pk,Link:Ik}),Ok=__webpack_require__.p+"static/media/img3.e7bdd1c94622f94ed2bb.png";const Nk=__webpack_require__.p+"static/media/nav-icon1.721d5414c26365f117e71d46b6641cb2.svg";const jk=__webpack_require__.p+"static/media/nav-icon2.97ed8e7eef60d61ca469881dd6f34511.svg";const zk=__webpack_require__.p+"static/media/nav-icon3.08b285abb8e118b52637efa5d65c5367.svg",Bk=()=>{const[t,n]=(0,e.useState)("home"),[i,r]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const t=()=>{window.scrollY>50?r(!0):r(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]);const s=t=>{n(t)};return(0,ng.jsx)(lk,{expand:"md",className:i?"scrolled":"",children:(0,ng.jsxs)(gg,{children:[(0,ng.jsx)(lk.Brand,{href:"/",children:(0,ng.jsx)("img",{src:Ok,alt:"Logo"})}),(0,ng.jsx)(lk.Toggle,{"aria-controls":"basic-navbar-nav",children:(0,ng.jsx)("span",{className:"navbar-toggler-icon"})}),(0,ng.jsxs)(lk.Collapse,{id:"basic-navbar-nav",children:[(0,ng.jsxs)(Dk,{className:"ms-auto",children:[(0,ng.jsx)(Dk.Link,{href:"/",className:"home"===t?"active navbar-link":"navbar-link",onClick:()=>s("home"),children:"Home"}),(0,ng.jsx)(Dk.Link,{href:"/resume.pdf",className:"resume"===t?"active navbar-link":"navbar-link",onClick:()=>s("resume"),children:"Resume"}),(0,ng.jsx)(Dk.Link,{href:"#skills",className:"skills"===t?"active navbar-link":"navbar-link",onClick:()=>s("skills"),children:"Skills"}),(0,ng.jsx)(Dk.Link,{href:"#projects",className:"projects"===t?"active navbar-link":"navbar-link",onClick:()=>s("projects"),children:"Projects"})]}),(0,ng.jsxs)("span",{className:"navbar-text",children:[(0,ng.jsxs)("div",{className:"social-icon",children:[(0,ng.jsx)("a",{href:"https://www.linkedin.com/in/chiraggoyal96/",target:"_blank",rel:"noopener noreferrer",children:(0,ng.jsx)("img",{src:Nk,alt:"LinkedIn"})}),(0,ng.jsx)("a",{href:"https://github.com/cGoyal69",target:"_blank",rel:"noopener noreferrer",children:(0,ng.jsx)("img",{src:jk,alt:"GitHub"})}),(0,ng.jsx)("a",{href:"https://www.instagram.com/_chirag2004/",target:"_blank",rel:"noopener noreferrer",children:(0,ng.jsx)("img",{src:zk,alt:"Instagram"})})]}),(0,ng.jsx)("a",{href:"#connect",children:(0,ng.jsx)("button",{className:"vvd",children:(0,ng.jsx)("span",{children:"Let\u2019s Connect"})})})]})]})]})})};var Wk=__webpack_require__(2488);const Hk=__webpack_require__.p+"static/media/color-sharp.bea361cfef80fefc2d1e.png";function Vk(t){return t+.5|0}const Uk=(t,e,n)=>Math.max(Math.min(t,n),e);function Gk(t){return Uk(Vk(2.55*t),0,255)}function qk(t){return Uk(Vk(255*t),0,255)}function Xk(t){return Uk(Vk(t/2.55)/100,0,1)}function Kk(t){return Uk(Vk(100*t),0,100)}const Yk={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qk=[..."0123456789ABCDEF"],Jk=t=>Qk[15&t],$k=t=>Qk[(240&t)>>4]+Qk[15&t],Zk=t=>(240&t)>>4===(15&t);function tE(t){var e=(t=>Zk(t.r)&&Zk(t.g)&&Zk(t.b)&&Zk(t.a))(t)?Jk:$k;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const eE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nE(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function iE(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function rE(t,e,n){const i=nE(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function sE(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),a=(r+s)/2;let o,l,c;return r!==s&&(c=r-s,l=a>.5?c/(2-r-s):c/(r+s),o=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),o=60*o+.5),[0|o,l||0,a]}function aE(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(qk)}function oE(t,e,n){return aE(nE,t,e,n)}function lE(t){return(t%360+360)%360}function cE(t){const e=eE.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Gk(+e[5]):qk(+e[5]));const r=lE(+e[2]),s=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return aE(rE,t,e,n)}(r,s,a):"hsv"===e[1]?function(t,e,n){return aE(iE,t,e,n)}(r,s,a):oE(r,s,a),{r:n[0],g:n[1],b:n[2],a:i}}const uE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let dE;function pE(t){dE||(dE=function(){const t={},e=Object.keys(hE),n=Object.keys(uE);let i,r,s,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],r=0;r<n.length;r++)s=n[r],o=o.replace(s,uE[s]);s=parseInt(hE[a],16),t[o]=[s>>16&255,s>>8&255,255&s]}return t}(),dE.transparent=[0,0,0,0]);const e=dE[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const fE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const gE=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,mE=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vE(t,e,n){if(t){let i=sE(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=oE(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function bE(t,e){return t?Object.assign(e||{},t):t}function yE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qk(t[3]))):(e=bE(t,{r:0,g:0,b:0,a:1})).a=qk(e.a),e}function _E(t){return"r"===t.charAt(0)?function(t){const e=fE.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Gk(t):Uk(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Gk(n):Uk(n,0,255)),i=255&(e[4]?Gk(i):Uk(i,0,255)),r=255&(e[6]?Gk(r):Uk(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):cE(t)}class xE{constructor(t){if(t instanceof xE)return t;const e=typeof t;let n;"object"===e?n=yE(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Yk[t[1]],g:255&17*Yk[t[2]],b:255&17*Yk[t[3]],a:5===n?17*Yk[t[4]]:255}:7!==n&&9!==n||(e={r:Yk[t[1]]<<4|Yk[t[2]],g:Yk[t[3]]<<4|Yk[t[4]],b:Yk[t[5]]<<4|Yk[t[6]],a:9===n?Yk[t[7]]<<4|Yk[t[8]]:255})),e}(t)||pE(t)||_E(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=bE(this._rgb);return t&&(t.a=Xk(t.a)),t}set rgb(t){this._rgb=yE(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Xk(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?tE(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=sE(t),n=e[0],i=Kk(e[1]),r=Kk(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(Xk(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,a=2*s-1,o=n.a-i.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=mE(Xk(t.r)),r=mE(Xk(t.g)),s=mE(Xk(t.b));return{r:qk(gE(i+n*(mE(Xk(e.r))-i))),g:qk(gE(r+n*(mE(Xk(e.g))-r))),b:qk(gE(s+n*(mE(Xk(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new xE(this.rgb)}alpha(t){return this._rgb.a=qk(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Vk(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return vE(this._rgb,2,t),this}darken(t){return vE(this._rgb,2,-t),this}saturate(t){return vE(this._rgb,1,t),this}desaturate(t){return vE(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=sE(t);n[0]=lE(n[0]+e),n=oE(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function wE(){}const SE=(()=>{let t=0;return()=>t++})();function kE(t){return null===t||"undefined"===typeof t}function EE(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function CE(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function AE(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function PE(t,e){return AE(t)?t:e}function ME(t,e){return"undefined"===typeof t?e:t}const TE=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function RE(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function FE(t,e,n,i){let r,s,a;if(EE(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(CE(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function IE(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function LE(t){if(EE(t))return t.map(LE);if(CE(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=LE(t[n[r]]);return e}return t}function DE(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function OE(t,e,n,i){if(!DE(t))return;const r=e[t],s=n[t];CE(r)&&CE(s)?NE(r,s,i):e[t]=LE(s)}function NE(t,e,n){const i=EE(e)?e:[e],r=i.length;if(!CE(t))return t;const s=(n=n||{}).merger||OE;let a;for(let o=0;o<r;++o){if(a=i[o],!CE(a))continue;const e=Object.keys(a);for(let i=0,r=e.length;i<r;++i)s(e[i],t,a,n)}return t}function jE(t,e){return NE(t,e,{merger:zE})}function zE(t,e,n){if(!DE(t))return;const i=e[t],r=n[t];CE(i)&&CE(r)?jE(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=LE(r))}const BE={"":t=>t,x:t=>t.x,y:t=>t.y};function WE(t,e){const n=BE[e]||(BE[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function HE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const VE=t=>"undefined"!==typeof t,UE=t=>"function"===typeof t,GE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const qE=Math.PI,XE=2*qE,KE=XE+qE,YE=Number.POSITIVE_INFINITY,QE=qE/180,JE=qE/2,$E=qE/4,ZE=2*qE/3,tC=Math.log10,eC=Math.sign;function nC(t,e,n){return Math.abs(t-e)<n}function iC(t){const e=Math.round(t);t=nC(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tC(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function rC(t){return!isNaN(parseFloat(t))&&isFinite(t)}function sC(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function aC(t){return t*(qE/180)}function oC(t){return t*(180/qE)}function lC(t){if(!AE(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function cC(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*qE&&(s+=XE),{angle:s,distance:r}}function uC(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hC(t,e){return(t-e+KE)%XE-qE}function dC(t){return(t%XE+XE)%XE}function pC(t,e,n,i){const r=dC(t),s=dC(e),a=dC(n),o=dC(s-r),l=dC(a-r),c=dC(r-s),u=dC(r-a);return r===s||r===a||i&&s===a||o>l&&c<u}function fC(t,e,n){return Math.max(e,Math.min(n,t))}function gC(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function mC(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const vC=(t,e,n,i)=>mC(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),bC=(t,e,n)=>mC(t,n,(i=>t[i][e]>=n));const yC=["push","pop","shift","splice","unshift"];function _C(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(yC.forEach((e=>{delete t[e]})),delete t._chartjs)}function xC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const wC="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function SC(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];n=s,i||(i=!0,wC.call(window,(()=>{i=!1,t.apply(e,n)})))}}const kC=t=>"start"===t?"left":"end"===t?"right":"center",EC=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function CC(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,_parsed:o}=t,l=a.axis,{min:c,max:u,minDefined:h,maxDefined:d}=a.getUserBounds();h&&(r=fC(Math.min(vC(o,l,c).lo,n?i:vC(e,l,a.getPixelForValue(c)).lo),0,i-1)),s=d?fC(Math.max(vC(o,a.axis,u,!0).hi+1,n?0:vC(e,l,a.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function AC(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const PC=t=>0===t||1===t,MC=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*XE/n),TC=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*XE/n)+1,RC={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*JE),easeOutSine:t=>Math.sin(t*JE),easeInOutSine:t=>-.5*(Math.cos(qE*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>PC(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>PC(t)?t:MC(t,.075,.3),easeOutElastic:t=>PC(t)?t:TC(t,.075,.3),easeInOutElastic(t){const e=.1125;return PC(t)?t:t<.5?.5*MC(2*t,e,.45):.5+.5*TC(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-RC.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*RC.easeInBounce(2*t):.5*RC.easeOutBounce(2*t-1)+.5};function FC(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function IC(t){return FC(t)?t:new xE(t)}function LC(t){return FC(t)?t:new xE(t).saturate(.5).darken(.1).hexString()}const DC=["x","y","borderWidth","radius","tension"],OC=["color","borderColor","backgroundColor"];const NC=new Map;function jC(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=NC.get(n);return i||(i=new Intl.NumberFormat(t,e),NC.set(n,i)),i}(e,n).format(t)}const zC={values:t=>EE(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const a=tC(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),jC(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(tC(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?zC.numeric.call(this,t,e,n):""}};var BC={formatters:zC};const WC=Object.create(null),HC=Object.create(null);function VC(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function UC(t,e,n){return"string"===typeof e?NE(VC(t,e),n):NE(VC(t,""),e)}class GC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>LC(e.backgroundColor),this.hoverBorderColor=(t,e)=>LC(e.borderColor),this.hoverColor=(t,e)=>LC(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return UC(this,t,e)}get(t){return VC(this,t)}describe(t,e){return UC(HC,t,e)}override(t,e){return UC(WC,t,e)}route(t,e,n,i){const r=VC(this,t),s=VC(this,n),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=s[i];return CE(t)?Object.assign({},e,t):ME(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var qC=new GC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:OC},numbers:{type:"number",properties:DC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:BC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function XC(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function KC(t,e,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,c,u,h,d;for(l=0;l<o;l++)if(h=n[l],void 0===h||null===h||EE(h)){if(EE(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||EE(d)||(a=XC(t,r,s,a,d))}else a=XC(t,r,s,a,h);t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return a}function YC(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function QC(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function JC(t,e,n,i){$C(t,e,n,i,null)}function $C(t,e,n,i,r){let s,a,o,l,c,u,h,d;const p=e.pointStyle,f=e.rotation,g=e.radius;let m=(f||0)*QE;if(p&&"object"===typeof p&&(s=p.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,g,0,0,XE):t.arc(n,i,g,0,XE),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=ZE,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=ZE,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,a=Math.cos(m+$E)*l,h=Math.cos(m+$E)*(r?r/2-c:l),o=Math.sin(m+$E)*l,d=Math.sin(m+$E)*(r?r/2-c:l),t.arc(n-h,i-o,c,m-qE,m-JE),t.arc(n+d,i-a,c,m-JE,m),t.arc(n+h,i+o,c,m,m+JE),t.arc(n-d,i+a,c,m+JE,m+qE),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=$E;case"rectRot":h=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-o),t.lineTo(n+d,i-a),t.lineTo(n+h,i+o),t.lineTo(n-d,i+a),t.closePath();break;case"crossRot":m+=$E;case"cross":h=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-o),t.lineTo(n+h,i+o),t.moveTo(n+d,i-a),t.lineTo(n-d,i+a);break;case"star":h=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-o),t.lineTo(n+h,i+o),t.moveTo(n+d,i-a),t.lineTo(n-d,i+a),m+=$E,h=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-o),t.lineTo(n+h,i+o),t.moveTo(n+d,i-a),t.lineTo(n-d,i+a);break;case"line":a=r?r/2:Math.cos(m)*g,o=Math.sin(m)*g,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function ZC(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function tA(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function eA(t){t.restore()}function nA(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function iA(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function rA(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function sA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function aA(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=EE(e)?e:[e],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),kE(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&sA(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),kE(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),rA(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function oA(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*qE,qE,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,qE,JE,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,JE,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-JE,!0),t.lineTo(n+a.topLeft,i)}const lA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uA(t,e){const n=(""+t).match(lA);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const hA=t=>+t||0;function dA(t,e){const n={},i=CE(e),r=i?Object.keys(e):e,s=CE(t)?i?n=>ME(t[n],t[e[n]]):e=>t[e]:()=>t;for(const a of r)n[a]=hA(s(a));return n}function pA(t){return dA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function fA(t){return dA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function gA(t){const e=pA(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mA(t,e){t=t||{},e=e||qC.font;let n=ME(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=ME(t.style,e.style);i&&!(""+i).match(cA)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ME(t.family,e.family),lineHeight:uA(ME(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ME(t.weight,e.weight),string:""};return r.string=function(t){return!t||kE(t.size)||kE(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function vA(t,e,n,i){let r,s,a,o=!0;for(r=0,s=t.length;r<s;++r)if(a=t[r],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),o=!1),void 0!==n&&EE(a)&&(a=a[n%a.length],o=!1),void 0!==a))return i&&!o&&(i.cacheable=!1),a}function bA(t,e){return Object.assign(Object.create(t),e)}function yA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=TA("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>yA([i,...t],e,r,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>kA(n,i,(()=>function(t,e,n,i){let r;for(const s of e)if(r=TA(wA(s,t),n),"undefined"!==typeof r)return SA(t,r)?PA(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>RA(t).includes(e),ownKeys:t=>RA(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function _A(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:xA(t,i),setContext:e=>_A(t,e,n,i),override:r=>_A(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>kA(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let o=i[e];UE(o)&&a.isScriptable(e)&&(o=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||i);o.delete(t),SA(t,l)&&(l=PA(r._scopes,r,t,l));return l}(e,o,t,n));EE(o)&&o.length&&(o=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(CE(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=PA(i,r,t,l);e.push(_A(n,s,a&&a[t],o))}}return e}(e,o,t,a.isIndexable));SA(e,o)&&(o=_A(o,r,s&&s[e],a));return o}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function xA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:UE(n)?n:()=>n,isIndexable:UE(i)?i:()=>i}}const wA=(t,e)=>t?t+HE(e):e,SA=(t,e)=>CE(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function kA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function EA(t,e,n){return UE(t)?t(e,n):t}const CA=(t,e)=>!0===t?e:"string"===typeof t?WE(e,t):void 0;function AA(t,e,n,i,r){for(const s of e){const e=CA(n,s);if(e){t.add(e);const s=EA(e._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function PA(t,e,n,i){const r=e._rootScopes,s=EA(e._fallback,n,i),a=[...t,...r],o=new Set;o.add(i);let l=MA(o,a,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=MA(o,a,s,l,i),null!==l))&&yA(Array.from(o),[""],r,s,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(EE(r)&&CE(n))return n;return r||{}}(e,n,i))))}function MA(t,e,n,i,r){for(;n;)n=AA(t,e,n,i,r);return n}function TA(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function RA(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function FA(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,a=new Array(i);let o,l,c,u;for(o=0,l=i;o<l;++o)c=o+n,u=e[c],a[o]={r:r.parse(WE(u,s),c)};return a}const IA=Number.EPSILON||1e-14,LA=(t,e)=>e<t.length&&!t[e].skip&&t[e],DA=t=>"x"===t?"y":"x";function OA(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,o=uC(s,r),l=uC(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(a.x-r.x),y:s.y-h*(a.y-r.y)},next:{x:s.x+d*(a.x-r.x),y:s.y+d*(a.y-r.y)}}}function NA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=DA(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,o,l,c=LA(t,0);for(a=0;a<i;++a)if(o=l,l=c,c=LA(t,a+1),l){if(c){const t=c[e]-l[e];r[a]=0!==t?(c[n]-l[n])/t:0}s[a]=o?c?eC(r[a-1])!==eC(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}!function(t,e,n){const i=t.length;let r,s,a,o,l,c=LA(t,0);for(let u=0;u<i-1;++u)l=c,c=LA(t,u+1),l&&c&&(nC(e[u],0,IA)?n[u]=n[u+1]=0:(r=n[u]/e[u],s=n[u+1]/e[u],o=Math.pow(r,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=r*a*e[u],n[u+1]=s*a*e[u])))}(t,r,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=DA(n),r=t.length;let s,a,o,l=LA(t,0);for(let c=0;c<r;++c){if(a=o,o=l,l=LA(t,c+1),!o)continue;const r=o[n],u=o[i];a&&(s=(r-a[n])/3,o["cp1".concat(n)]=r-s,o["cp1".concat(i)]=u-s*e[c]),l&&(s=(l[n]-r)/3,o["cp2".concat(n)]=r+s,o["cp2".concat(i)]=u+s*e[c])}}(t,s,e)}function jA(t,e,n){return Math.max(Math.min(t,n),e)}function zA(t,e,n,i,r){let s,a,o,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)NA(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=OA(n,o,t[Math.min(s+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}e.capBezierPoints&&function(t,e){let n,i,r,s,a,o=ZC(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=o,o=n<i-1&&ZC(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=jA(r.cp1x,e.left,e.right),r.cp1y=jA(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=jA(r.cp2x,e.left,e.right),r.cp2y=jA(r.cp2y,e.top,e.bottom)))}(t,n)}function BA(){return"undefined"!==typeof window&&"undefined"!==typeof document}function WA(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function HA(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const VA=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const UA=["top","right","bottom","left"];function GA(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=UA[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const qA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function XA(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=VA(n),s="border-box"===r.boxSizing,a=GA(r,"padding"),o=GA(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a,o,l=!1;if(qA(r,s,t.target))a=r,o=s;else{const t=e.getBoundingClientRect();a=i.clientX-t.left,o=i.clientY-t.top,l=!0}return{x:a,y:o,box:l}}(t,n),h=a.left+(u&&o.left),d=a.top+(u&&o.top);let{width:p,height:f}=e;return s&&(p-=a.width+o.width,f-=a.height+o.height),{x:Math.round((l-h)/p*n.width/i),y:Math.round((c-d)/f*n.height/i)}}const KA=t=>Math.round(10*t)/10;function YA(t,e,n,i){const r=VA(t),s=GA(r,"margin"),a=HA(r.maxWidth,t,"clientWidth")||YE,o=HA(r.maxHeight,t,"clientHeight")||YE,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=t&&WA(t);if(s){const t=s.getBoundingClientRect(),a=VA(s),o=GA(a,"border","width"),l=GA(a,"padding");e=t.width-l.width-o.width,n=t.height-l.height-o.height,i=HA(a.maxWidth,s,"clientWidth"),r=HA(a.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||YE,maxHeight:r||YE}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=GA(r,"border","width"),e=GA(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=KA(Math.min(c,a,l.maxWidth)),u=KA(Math.min(u,o,l.maxHeight)),c&&!u&&(u=KA(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=KA(Math.floor(u*i))),{width:c,height:u}}function QA(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const JA=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};BA()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(SI){}return t}();function $A(t,e){const n=function(t,e){return VA(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ZA(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function tP(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function eP(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=ZA(t,r,n),o=ZA(r,s,n),l=ZA(s,e,n),c=ZA(a,o,n),u=ZA(o,l,n);return ZA(c,u,n)}function nP(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function iP(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function rP(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function sP(t){return"angle"===t?{between:pC,compare:hC,normalize:dC}:{between:gC,compare:(t,e)=>t-e,normalize:t=>t}}function aP(t){let{start:e,end:n,count:i,loop:r,style:s}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:s}}function oP(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=sP(i),{start:u,end:h,loop:d,style:p}=function(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:o}=sP(i),l=e.length;let c,u,{start:h,end:d,loop:p}=t;if(p){for(h+=l,d+=l,c=0,u=l;c<u&&a(o(e[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:p,style:t.style}}(t,e,n),f=[];let g,m,v,b=!1,y=null;const _=()=>b||l(r,v,g)&&0!==o(r,v),x=()=>!b||0===o(s,g)||l(s,v,g);for(let w=u,S=u;w<=h;++w)m=e[w%a],m.skip||(g=c(m[i]),g!==v&&(b=l(g,r,s),null===y&&_()&&(y=0===o(g,r)?w:S),null!==y&&x()&&(f.push(aP({start:y,end:w,loop:d,count:a,style:p})),y=null),S=w,v=g));return null!==y&&f.push(aP({start:y,end:h,loop:d,count:a,style:p})),f}function lP(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=oP(i[r],t.points,e);s.length&&n.push(...s)}return n}function cP(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),s=uP(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function p(t,e,i,r){const s=o?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const f of e){h=o?h:f.start;let t,e=n[h%l];for(d=h+1;d<=f.end;d++){const s=n[d%l];t=uP(i.setContext(bA(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),hP(t,u)&&p(h,d-1,f.loop,u),e=s,u=t}h<d-1&&p(h,d-1,f.loop,u)}return c}(t,e,n,i):e}function uP(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function hP(t,e){if(!e)return!1;const n=[],i=function(t,e){return FC(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}class dP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=wC.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,a=r.length-1,o=!1;for(;a>=0;--a)s=r[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),o=!0):(r[a]=r[r.length-1],r.pop());o&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pP=new dP;const fP="transparent",gP={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=IC(t||fP),r=i.valid&&IC(e||fP);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class mP{constructor(t,e,n,i){const r=e[n];i=vA([t.to,i,r,t.from]);const s=vA([t.from,r,i]);this._active=!0,this._fn=t.fn||gP[t.type||typeof s],this._easing=RC[t.easing]||RC.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=vA([t.to,e,i,t.from]),this._from=vA([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,a=this._to;let o;if(this._active=r!==a&&(s||e<n),!this._active)return this._target[i]=a,void this._notify(!0);e<0?this._target[i]=r:(o=e/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[i]=this._fn(r,a,o))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class vP{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!CE(t))return;const e=Object.keys(qC.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!CE(r))return;const s={};for(const t of e)s[t]=r[t];(EE(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(r[l]=u=new mP(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(pP.add(this._chart,n),!0):void 0}}function bP(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function yP(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function _P(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let a,o,l,c;if(null!==e){for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(i.all)continue;break}c=t.values[l],AE(c)&&(s||0===e||eC(e)===eC(c))&&(e+=c)}return e}}function xP(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function wP(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function SP(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function kP(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=i,l=s.axis,c=a.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,a,i),h=e.length;let d;for(let p=0;p<h;++p){const t=e[p],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=wP(r,u,n),d[o]=s,d._top=SP(d,a,!0,i.type),d._bottom=SP(d,a,!1,i.type);(d._visualValues||(d._visualValues={}))[o]=s}}function EP(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function CP(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const AP=t=>"reset"===t||"none"===t,PP=(t,e)=>e?t:Object.assign({},t);class MP{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xP(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&CP(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=ME(n.xAxisID,EP(t,"x")),s=e.yAxisID=ME(n.yAxisID,EP(t,"y")),a=e.rAxisID=ME(n.rAxisID,EP(t,"r")),o=e.indexAxis,l=e.iAxisID=i(o,r,s,a),c=e.vAxisID=i(o,s,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_C(this._data,this),t._stacked&&CP(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(CE(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[r]:u,[s]:t[u]};return o}(e,t)}else if(n!==e){if(n){_C(n,this);const t=this._cachedMeta;CP(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),yC.forEach((t=>{const e="_onData"+HE(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const a=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),a}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=xP(e.vScale,e),e.stack!==n.stack&&(i=!0,CP(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&kP(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,a=r.axis;let o,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=EE(i[t])?this.parseArrayData(n,i,t,e):CE(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[a]||h&&l[a]<h[a];for(o=0;o<e;++o)n._parsed[o+t]=l=c[o],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&kP(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,a=r.axis,o=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,p;for(h=0,d=i;h<d;++h)p=h+n,u[h]={[a]:c||r.parse(l[p],p),[o]:s.parse(e[p],p)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,a=new Array(i);let o,l,c,u;for(o=0,l=i;o<l;++o)c=o+n,u=e[c],a[o]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(WE(d,a),h),y:s.parse(WE(d,o),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return _P({keys:yP(i,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const a=i&&n._stacks[e.axis];i&&a&&(i.values=a,s=_P(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,a=this._getOtherScale(t),o=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:yP(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(a);let h,d;function p(){d=i[h];const e=d[a.axis];return!AE(d[t.axis])||c>e||u<e}for(h=0;h<s&&(p()||(this.updateRangeFromParsed(l,t,d,o),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,t,d,o);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],AE(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return CE(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(ME(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=bP(t,n),r=bP(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||i.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,a,o),c=a;c<a+o;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return bA(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return bA(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,a=r[s],o=this.enableOptionSharing&&VE(n);if(a)return PP(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(qC.elements[t]),p=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,e)),u);return p.$shared&&(p.$shared=o,r[s]=Object.freeze(PP(p,o))),p}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(e),a=r[s];if(a)return a;let o;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);o=i.createResolver(s,this.getContext(t,n,e))}const l=new vP(i,o&&o.animations);return o&&o._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||AP(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){AP(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!AP(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let a;const o=t=>{for(t.length+=e,a=t.length-1;a>=s;a--)t[a]=t[a-e]};for(o(r),a=t;a<s;++a)r[a]=new this.dataElementType;this._parsing&&o(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&CP(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function TP(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=xC(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,s,a,o=e._length;const l=()=>{32767!==s&&-32768!==s&&(VE(a)&&(o=Math.min(o,Math.abs(s-a)||o)),a=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return o}function RP(t,e,n,i){return EE(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),a=Math.min(r,s),o=Math.max(r,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:a,max:o}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function FP(t,e,n,i){const r=t.iScale,s=t.vScale,a=r.getLabels(),o=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=o||r.parse(a[c],c),l.push(RP(d,h,s,c));return l}function IP(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function LP(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[DP(u,a,o,l)]=!0,r=c)),s[DP(r,a,o,l)]=!0,t.borderSkipped=s}function DP(t,e,n,i){var r,s,a;return i?(a=n,t=OP(t=(r=t)===(s=e)?a:r===a?s:r,n,e)):t=OP(t,e,n),t}function OP(t,e,n){return"start"===t?e:"end"===t?n:t}function NP(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}At(MP,"defaults",{}),At(MP,"datasetElementType",null),At(MP,"dataElementType",null);class jP extends MP{parsePrimitiveData(t,e,n,i){return FP(t,e,n,i)}parseArrayData(t,e,n,i){return FP(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===r.axis?a:o,c="x"===s.axis?a:o,u=[];let h,d,p,f;for(h=n,d=n+i;h<d;++h)f=e[h],p={},p[r.axis]=r.parse(WE(f,l),h),u.push(RP(WE(f,c),p,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,a=IP(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||kE(e[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,c),f=(e._stacks||{})[a.axis],g={horizontal:l,base:n.base,enableBorderRadius:!f||IP(e._custom)||s===f._top||s===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;LP(g,m,f,s),NP(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,s=[],a=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(kE(i)||isNaN(i))return!0};for(const o of i)if((void 0===e||!a(o))&&((!1===r||-1===s.indexOf(o.stack)||void 0===r&&void 0===o.stack)&&s.push(o.stack),o.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const a=t.barThickness;return{min:a||TP(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,a=r||0,o=this.getParsed(t),l=o._custom,c=IP(l);let u,h,d=o[e.axis],p=0,f=n?this.applyStack(e,o,n):d;f!==d&&(p=f-d,f=d),c&&(d=l.barStart,f=l.barEnd-l.barStart,0!==d&&eC(d)!==eC(l.barEnd)&&(p=0),p+=d);const g=kE(r)||c?p:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(p+f):m,h=u-m,Math.abs(h)<s){h=function(t,e,n){return 0!==t?eC(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,a)*s,d===a&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),p=Math.max(t,r);m=Math.max(Math.min(m,p),l),u=m+h,n&&!c&&(o._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(a)){const t=eC(h)*e.getLineWidthForValue(a)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=ME(i.maxBarThickness,1/0);let a,o;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let a=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===a&&(a=s-(null===o?e.end-e.start:o-s)),null===o&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let s,a;return kE(r)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[t]-s/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=l.start+l.chunk*c+l.chunk/2,o=Math.min(s,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),o=Math.min(s,e.min*e.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}At(jP,"id","bar"),At(jP,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),At(jP,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class zP extends MP{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=ME(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=ME(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),a=i.getLabelForValue(s.x),o=r.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,u=a.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},p=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),f=d[u]=r?a.getBasePixel():a.getPixelForValue(n[u]);d.skip=isNaN(p)||isNaN(f),l&&(d.options=o||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=ME(n&&n._custom,r),i}}At(zP,"id","bubble"),At(zP,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),At(zP,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class BP extends MP{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,a=t=>+n[t];if(CE(n[t])){const{key:t="value"}=this._parsing;a=e=>+WE(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=a(r)}}_getRotation(){return aC(this.options.rotation-90)}_getCircumference(){return aC(this.options.circumference)}_getRotationExtents(){let t=XE,e=-XE;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=function(t,e,n){let i=1,r=1,s=0,a=0;if(e<XE){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),d=Math.sin(l),p=(t,e,i)=>pC(t,o,l,!0)?1:Math.max(e,e*n,i,i*n),f=(t,e,i)=>pC(t,o,l,!0)?-1:Math.min(e,e*n,i,i*n),g=p(0,c,h),m=p(JE,u,d),v=f(qE,c,h),b=f(qE+JE,u,d);i=(g-v)/2,r=(m-b)/2,s=-(g+v)/2,a=-(m+b)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(d,h,o),v=(n.width-s)/p,b=(n.height-s)/f,y=Math.max(Math.min(v,b)/2,0),_=TE(this.options.radius,y),x=(_-Math.max(_*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=m*_,i.total=this.calculateTotal(),this.outerRadius=_-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/XE)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=r&&o.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};f&&(s.options=p||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?XE*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=jC(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,a,o;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,a=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)o=a.resolveDataElementOptions(i),"inner"!==o.borderAlign&&(e=Math.max(e,o.borderWidth||0,o.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(ME(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}At(BP,"id","doughnut"),At(BP,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),At(BP,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),At(BP,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class WP extends MP{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:a,count:o}=CC(e,i,s);this._drawStart=a,this._drawCount=o,AC(e)&&(a=0,o=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,a,o,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=s.axis,d=a.axis,{spanGaps:p,segment:f}=this.options,g=rC(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=e+n,b=t.length;let y=e>0&&this.getParsed(e-1);for(let _=0;_<b;++_){const n=t[_],p=m?n:{};if(_<e||_>=v){p.skip=!0;continue}const b=this.getParsed(_),x=kE(b[d]),w=p[h]=s.getPixelForValue(b[h],_),S=p[d]=r||x?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,b,o):b[d],_);p.skip=isNaN(w)||isNaN(S)||x,p.stop=_>0&&Math.abs(b[h]-y[h])>g,f&&(p.parsed=b,p.raw=l.data[_]),u&&(p.options=c||this.resolveDataElementOptions(_,n.active?"active":i)),m||this.updateElement(n,_,p,i),y=b}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}At(WP,"id","line"),At(WP,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),At(WP,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class HP extends MP{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=jC(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return FA.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,a=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*qE;let h,d=u;const p=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,p);for(h=e;h<e+n;h++){const e=t[h];let n=d,f=d+this._computeAngle(h,i,p),g=s.getDataVisibility(h)?o.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=f,r&&(a.animateScale&&(g=0),a.animateRotate&&(n=f=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?aC(this.resolveDataElementOptions(t,e).angle||n):0}}At(HP,"id","polarArea"),At(HP,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),At(HP,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class VP extends BP{}At(VP,"id","pie"),At(VP,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class UP extends MP{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return FA.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":i),o=r.getPointPositionForValue(a,this.getParsed(a).r),l=s?r.xCenter:o.x,c=s?r.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,a,u,i)}}}At(UP,"id","radar"),At(UP,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),At(UP,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class GP extends MP{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),a=i.getLabelForValue(s.x),o=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+a+", "+o+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=CC(e,n,i);if(this._drawStart=r,this._drawCount=s,AC(e)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:a},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,p=a.axis,{spanGaps:f,segment:g}=this.options,m=rC(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let b=e>0&&this.getParsed(e-1);for(let y=e;y<e+n;++y){const e=t[y],n=this.getParsed(y),c=v?e:{},f=kE(n[p]),_=c[d]=s.getPixelForValue(n[d],y),x=c[p]=r||f?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,n,o):n[p],y);c.skip=isNaN(_)||isNaN(x)||f,c.stop=y>0&&Math.abs(n[d]-b[d])>m,g&&(c.parsed=n,c.raw=l.data[y]),h&&(c.options=u||this.resolveDataElementOptions(y,e.active?"active":i)),v||this.updateElement(e,y,c,i),b=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}At(GP,"id","scatter"),At(GP,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),At(GP,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function qP(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class XP{static override(t){Object.assign(XP.prototype,t)}constructor(t){At(this,"options",void 0),this.options=t||{}}init(){}formats(){return qP()}parse(){return qP()}format(){return qP()}add(){return qP()}diff(){return qP()}startOf(){return qP()}endOf(){return qP()}}var KP=XP;function YP(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,o=r._cachedMeta.iScale;if(o&&e===o.axis&&"r"!==e&&a&&s.length){const t=o._reversePixels?bC:vC;if(!i)return t(s,e,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(s,e,n-r),a=t(s,e,n+r);return{lo:i.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function QP(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:t,data:n}=s[o],{lo:l,hi:c}=YP(s[o],e,a,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function JP(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return QP(t,n,e,(function(n,a,o){(r||ZC(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:a,index:o})}),!0),s}function $P(t,e,n,i,r,s){let a=[];const o=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return QP(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!h)return;const p=o(e,d);p<l?(a=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function ZP(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?$P(t,e,n,i,r,s):function(t,e,n,i){let r=[];return QP(t,n,e,(function(t,n,s){const{startAngle:a,endAngle:o}=t.getProps(["startAngle","endAngle"],i),{angle:l}=cC(t,{x:e.x,y:e.y});pC(l,a,o)&&r.push({element:t,datasetIndex:n,index:s})})),r}(t,e,n,r):[]}function tM(t,e,n,i,r){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return QP(t,n,e,((t,i,l)=>{t[a](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),o=o||t.inRange(e.x,e.y,r))})),i&&!o?[]:s}var eM={evaluateInteractionItems:QP,modes:{index(t,e,n,i){const r=XA(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?JP(t,r,s,i,a):ZP(t,r,s,!1,i,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=o[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=XA(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?JP(t,r,s,i,a):ZP(t,r,s,!1,i,a);if(o.length>0){const e=o[0].datasetIndex,n=t.getDatasetMeta(e).data;o=[];for(let t=0;t<n.length;++t)o.push({element:n[t],datasetIndex:e,index:t})}return o},point:(t,e,n,i)=>JP(t,XA(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=XA(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return ZP(t,r,s,n.intersect,i,a)},x:(t,e,n,i)=>tM(t,XA(e,t),"x",n.intersect,i),y:(t,e,n,i)=>tM(t,XA(e,t),"y",n.intersect,i)}};const nM=["left","top","right","bottom"];function iM(t,e){return t.filter((t=>t.pos===e))}function rM(t,e){return t.filter((t=>-1===nM.indexOf(t.pos)&&t.box.axis===e))}function sM(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function aM(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!nM.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*i:a&&e.availableWidth,o.height=r):(o.width=i,o.height=c?c*r:a&&e.availableHeight)}return n}function oM(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function lM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cM(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!CE(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&lM(a,s.getPadding());const o=Math.max(0,e.outerWidth-oM(a,t,"left","right")),l=Math.max(0,e.outerHeight-oM(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function uM(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function hM(t,e,n,i){const r=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,uM(o.horizontal,e));const{same:a,other:h}=cM(e,n,o,i);c|=a&&r.length,u=u||h,l.fullSize||r.push(o)}return c&&hM(r,e,n,i)||u}function dM(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function pM(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const o of t){const t=o.box,l=i[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const i=e.w*c,s=l.size||t.height;VE(l.start)&&(a=l.start),t.fullSize?dM(t,r.left,a,n.outerWidth-r.right-r.left,s):dM(t,e.left+l.placed,a,i,s),l.start=a,l.placed+=i,a=t.bottom}else{const i=e.h*c,a=l.size||t.width;VE(l.start)&&(s=l.start),t.fullSize?dM(t,s,r.top,a,n.outerHeight-r.bottom-r.top):dM(t,s,e.top+l.placed,a,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=a}var fM={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=gA(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=function(t){const e=function(t){const e=[];let n,i,r,s,a,o;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:a,stackWeight:o=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:o});return e}(t),n=sM(e.filter((t=>t.box.fullSize)),!0),i=sM(iM(e,"left"),!0),r=sM(iM(e,"right")),s=sM(iM(e,"top"),!0),a=sM(iM(e,"bottom")),o=rM(e,"x"),l=rM(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:iM(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(a).concat(o)}}(t.boxes),l=o.vertical,c=o.horizontal;FE(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},r);lM(d,gA(i));const p=Object.assign({maxPadding:d,w:s,h:a,x:r.left,y:r.top},r),f=aM(l.concat(c),h);hM(o.fullSize,p,h,f),hM(l,p,h,f),hM(c,p,h,f)&&hM(l,p,h,f),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(p),pM(o.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,pM(o.rightAndBottom,p,h,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},FE(o.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class gM{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class mM extends gM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vM="$chartjs",bM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yM=t=>null===t||""===t;const _M=!!JA&&{passive:!0};function xM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,_M)}function wM(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function SM(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||wM(n.addedNodes,i),e=e&&!wM(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function kM(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||wM(n.removedNodes,i),e=e&&!wM(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const EM=new Map;let CM=0;function AM(){const t=window.devicePixelRatio;t!==CM&&(CM=t,EM.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function PM(t,e,n){const i=t.canvas,r=i&&WA(i);if(!r)return;const s=SC(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return a.observe(r),function(t,e){EM.size||window.addEventListener("resize",AM),EM.set(t,e)}(t,s),a}function MM(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){EM.delete(t),EM.size||window.removeEventListener("resize",AM)}(t)}function TM(t,e,n){const i=t.canvas,r=SC((e=>{null!==t.ctx&&n(function(t,e){const n=bM[t.type]||t.type,{x:i,y:r}=XA(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,_M)}(i,e,r),r}class RM extends gM{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[vM]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",yM(r)){const e=$A(t,"width");void 0!==e&&(t.width=e)}if(yM(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=$A(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[vM])return!1;const n=e[vM].initial;["height","width"].forEach((t=>{const i=n[t];kE(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[vM],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:SM,detach:kM,resize:PM}[e]||TM;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:MM,detach:MM,resize:MM}[e]||xM)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return YA(t,e,n,i)}isAttached(t){const e=t&&WA(t);return!(!e||!e.isConnected)}}class FM{constructor(){At(this,"x",void 0),At(this,"y",void 0),At(this,"active",!1),At(this,"options",void 0),At(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return rC(this.x)&&rC(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function IM(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>r)return function(t,e,n,i){let r,s=0,a=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===a&&(e.push(t[r]),s++,a=n[s*i])}(e,c,s,a/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let a=0,o=s.length-1;a<o;a++){const t=s[a];if(t>r)return t}return Math.max(r,1)}(s,e,r);if(a>0){let t,n;const i=a>1?Math.round((l-o)/(a-1)):null;for(LM(e,c,u,kE(i)?0:o-i,o),t=0,n=a-1;t<n;t++)LM(e,c,u,s[t],s[t+1]);return LM(e,c,u,l,kE(i)?e.length:l+i),c}return LM(e,c,u),c}function LM(t,e,n,i,r){const s=ME(i,0),a=Math.min(ME(r,t.length),t.length);let o,l,c,u=0;for(n=Math.ceil(n),r&&(o=r-i,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}At(FM,"defaults",{}),At(FM,"defaultRoutes",void 0);const DM=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,OM=(t,e)=>Math.min(e||t,t);function NM(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function jM(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,a-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-o||c>a+o)))return c}function zM(t){return t.drawTicks?t.tickLength:0}function BM(t,e){if(!t.display)return 0;const n=mA(t.font,e),i=gA(t.padding);return(EE(t.text)?t.text.length:1)*n.lineHeight+i.height}function WM(t,e,n){let i=kC(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class HM extends FM{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=PE(t,Number.POSITIVE_INFINITY),e=PE(e,Number.NEGATIVE_INFINITY),n=PE(n,Number.POSITIVE_INFINITY),i=PE(i,Number.NEGATIVE_INFINITY),{min:PE(t,n),max:PE(e,i),minDefined:AE(t),maxDefined:AE(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)e=a[o].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:PE(n,PE(i,n)),max:PE(i,PE(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){RE(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=TE(e,(r-i)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?NM(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=IM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){RE(this.options.afterUpdate,[this])}beforeSetDimensions(){RE(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){RE(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),RE(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){RE(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=RE(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){RE(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){RE(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=OM(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let s,a,o,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=fC(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),a=this.maxHeight-zM(t.grid)-e.padding-BM(t.title,this.chart.options.font),o=Math.sqrt(u*u+h*h),l=oC(Math.min(Math.asin(fC((c.highest.height+6)/s,-1,1)),Math.asin(fC(a/o,-1,1))-Math.asin(fC(h/o,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){RE(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){RE(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=BM(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=zM(r)+s):(t.height=this.maxHeight,t.width=zM(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),o=2*n.padding,l=aC(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+o)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+o)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;o?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){RE(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)kE(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=NM(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],a=[],o=Math.floor(e/OM(e,n));let l,c,u,h,d,p,f,g,m,v,b,y=0,_=0;for(l=0;l<e;l+=o){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=p=d.string,f=r[p]=r[p]||{data:{},gc:[]},g=d.lineHeight,m=v=0,kE(h)||EE(h)){if(EE(h))for(c=0,u=h.length;c<u;++c)b=h[c],kE(b)||EE(b)||(m=XC(i,f.data,f.gc,m,b),v+=g)}else m=XC(i,f.data,f.gc,m,h),v=g;s.push(m),a.push(v),y=Math.max(m,y),_=Math.max(v,_)}!function(t,e){FE(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const x=s.indexOf(y),w=a.indexOf(_),S=t=>({width:s[t]||0,height:a[t]||0});return{first:S(0),last:S(e-1),widest:S(x),highest:S(w),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return fC(this._alignToPixels?YC(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return bA(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=bA(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=aC(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,a=r?r.widest.width+s:0,o=r?r.highest.height+s:0;return this.isHorizontal()?o*n>a*i?a/n:o/i:o*i<a*n?o/n:a/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:a}=i,o=r.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=zM(r),h=[],d=a.setContext(this.getContext()),p=d.display?d.width:0,f=p/2,g=function(t){return YC(n,t,p)};let m,v,b,y,_,x,w,S,k,E,C,A;if("top"===s)m=g(this.bottom),x=this.bottom-u,S=m-f,E=g(t.top)+f,A=t.bottom;else if("bottom"===s)m=g(this.top),E=t.top,A=g(t.bottom)-f,x=m+f,S=this.top+u;else if("left"===s)m=g(this.right),_=this.right-u,w=m-f,k=g(t.left)+f,C=t.right;else if("right"===s)m=g(this.left),k=t.left,C=g(t.right)-f,_=m+f,w=this.left+u;else if("x"===e){if("center"===s)m=g((t.top+t.bottom)/2+.5);else if(CE(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}E=t.top,A=t.bottom,x=m+f,S=x+u}else if("y"===e){if("center"===s)m=g((t.left+t.right)/2);else if(CE(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}_=m-f,w=_-u,k=t.left,C=t.right}const P=ME(i.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/P));for(v=0;v<c;v+=M){const t=this.getContext(v),e=r.setContext(t),i=a.setContext(t),s=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,p=e.tickWidth,f=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;b=jM(this,v,o),void 0!==b&&(y=YC(n,b,s),l?_=w=k=C=y:x=S=E=A=y,h.push({tx1:_,ty1:x,tx2:w,ty2:S,x1:k,y1:E,x2:C,y2:A,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:p,tickColor:f,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=r,h=zM(n.grid),d=h+c,p=u?-c:d,f=-aC(this.labelRotation),g=[];let m,v,b,y,_,x,w,S,k,E,C,A,P="middle";if("top"===i)x=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,_=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,_=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(CE(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)_=(t.left+t.right)/2-d;else if(CE(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===o?P="top":"end"===o&&(P="bottom"));const M=this._getLabelSizes();for(m=0,v=a.length;m<v;++m){b=a[m],y=b.label;const t=r.setContext(this.getContext(m));S=this.getPixelForTick(m)+r.labelOffset,k=this._resolveTickFontOptions(m),E=k.lineHeight,C=EE(y)?y.length:1;const e=C/2,n=t.color,o=t.textStrokeColor,c=t.textStrokeWidth;let h,d=w;if(s?(_=S,"inner"===w&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),A="top"===i?"near"===l||0!==f?-C*E+E/2:"center"===l?-M.highest.height/2-e*E+E:-M.highest.height+E/2:"near"===l||0!==f?E/2:"center"===l?M.highest.height/2-e*E:M.highest.height-C*E,u&&(A*=-1),0===f||t.showLabelBackdrop||(_+=E/2*Math.sin(f))):(x=S,A=(1-C)*E/2),t.showLabelBackdrop){const e=gA(t.backdropPadding),n=M.heights[m],i=M.widths[m];let r=A-e.top,s=0-e.left;switch(P){case"middle":r-=n/2;break;case"bottom":r-=n}switch(w){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===v-1?s-=i:m>0&&(s-=i/2)}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:y,font:k,textOffset:A,options:{rotation:f,color:n,strokeColor:o,strokeWidth:c,textAlign:d,textBaseline:P,translation:[_,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-aC(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,a=this._getLabelSizes().widest.width;let o,l;return"left"===e?i?(l=this.right+r,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const a=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=YC(t,this.left,s)-s/2,c=YC(t,this.right,a)+a/2,u=h=o):(u=YC(t,this.top,s)-s/2,h=YC(t,this.bottom,a)+a/2,l=c=o),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&tA(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;aA(e,r.label,0,r.textOffset,n,t)}n&&eA(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=mA(n.font),s=gA(n.padding),a=n.align;let o=r.lineHeight/2;"bottom"===e||"center"===e||CE(e)?(o+=s.bottom,EE(n.text)&&(o+=r.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,p,f=0;const g=a-r,m=o-s;if(t.isHorizontal()){if(d=EC(i,s,o),CE(n)){const t=Object.keys(n)[0],i=n[t];p=u[t].getPixelForValue(i)+g-e}else p="center"===n?(c.bottom+c.top)/2+g-e:DM(t,n,e);h=o-s}else{if(CE(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:DM(t,n,e);p=EC(i,a,r),f="left"===n?-JE:JE}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}(this,o,e,a);aA(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:WM(a,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=ME(t.grid&&t.grid.z,-1),i=ME(t.border&&t.border.z,0);return this._isVisible()&&this.draw===HM.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return mA(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class VM{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=NE(Object.create(null),[n?qC.get(n):{},qC.get(e),t.defaults]);qC.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");qC.route(s,r,l,o)}))}(e,t.defaultRoutes);t.descriptors&&qC.describe(e,t.descriptors)}(t,s,n),this.override&&qC.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in qC[i]&&(delete qC[i][n],this.override&&delete WC[n])}}class UM{constructor(){this.controllers=new VM(MP,"datasets",!0),this.elements=new VM(FM,"elements"),this.plugins=new VM(Object,"plugins"),this.scales=new VM(HM,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):FE(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=HE(t);RE(n["before"+i],[],n),e[t](n),RE(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var GM=new UM;class qM{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===RE(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){kE(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=ME(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(GM.plugins.items);for(let s=0;s<i.length;s++)n.push(GM.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const a=[],o=t.getContext();for(const l of r){const e=l.id,r=XM(n[e],i);null!==r&&a.push({plugin:l,options:KM(t.config,{plugin:l,local:s[e]},r,o)})}return a}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function XM(t,e){return e||!1!==t?!0===t?{}:t:null}function KM(t,e,n,i){let{plugin:r,local:s}=e;const a=t.pluginScopeKeys(r),o=t.getOptionScopes(n,a);return s&&r.defaults&&o.push(r.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YM(t,e){const n=qC.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function QM(t){if("x"===t||"y"===t||"r"===t)return t}function JM(t){if(QM(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n){const e=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&QM(t[0].toLowerCase());if(e)return e}var r;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function $M(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ZM(t,e){const n=WC[t.type]||{scales:{}},i=e.scales||{},r=YM(t.type,e),s=Object.create(null);return Object.keys(i).forEach((e=>{const a=i[e];if(!CE(a))return console.error("Invalid scale configuration for scale: ".concat(e));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const o=JM(e,a,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return $M(t,"x",n[0])||$M(t,"y",n[0])}return{}}(e,t),qC.scales[a.type]),l=function(t,e){return t===e?"_index_":"_value_"}(o,r),c=n.scales||{};s[e]=jE(Object.create(null),[{axis:o},a,c[o],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,a=n.indexAxis||YM(r,e),o=(WC[r]||{}).scales||{};Object.keys(o).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),jE(s[r],[{axis:e},i[r],o[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];jE(e,[qC.scales[e.type],qC.scale])})),s}function tT(t){const e=t.options||(t.options={});e.plugins=ME(e.plugins,{}),e.scales=ZM(t,e)}function eT(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const nT=new Map,iT=new Set;function rT(t,e){let n=nT.get(t);return n||(n=e(),nT.set(t,n),iT.add(n)),n}const sT=(t,e,n)=>{const i=WE(e,n);void 0!==i&&t.add(i)};class aT{constructor(t){this._config=function(t){return(t=t||{}).data=eT(t.data),tT(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=eT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),tT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rT(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return rT("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return rT("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return rT("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),a=s.get(e);if(a)return a;const o=new Set;e.forEach((e=>{t&&(o.add(t),e.forEach((e=>sT(o,t,e)))),e.forEach((t=>sT(o,i,t))),e.forEach((t=>sT(o,WC[r]||{},t))),e.forEach((t=>sT(o,qC,t))),e.forEach((t=>sT(o,HC,t)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),iT.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,WC[e]||{},qC.datasets[e]||{},{type:e},qC,HC]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:a}=oT(this._resolverCache,t,i);let o=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=xA(t);for(const r of e){const e=n(r),s=i(r),a=(s||e)&&t[r];if(e&&(UE(a)||lT(a))||s&&EE(a))return!0}return!1}(s,e)){r.$shared=!1;o=_A(s,n=UE(n)?n():n,this.createResolver(t,n,a))}for(const l of e)r[l]=o[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=oT(this._resolverCache,t,n);return CE(e)?_A(r,e,void 0,i):r}}function oT(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:yA(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const lT=t=>CE(t)&&Object.getOwnPropertyNames(t).some((e=>UE(t[e])));const cT=["top","bottom","left","right","chartArea"];function uT(t,e){return"top"===t||"bottom"===t||-1===cT.indexOf(t)&&"x"===e}function hT(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function dT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),RE(n&&n.onComplete,[t],e)}function pT(t){const e=t.chart,n=e.options.animation;RE(n&&n.onProgress,[t],e)}function fT(t){return BA()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gT={},mT=t=>{const e=fT(t);return Object.values(gT).filter((t=>t.canvas===e)).pop()};function vT(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function bT(t,e,n){return t.options.clip?t[n]:e[n]}class yT{static register(){GM.add(...arguments),_T()}static unregister(){GM.remove(...arguments),_T()}constructor(t,e){const n=this.config=new aT(e),i=fT(t),r=mT(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!BA()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?mM:RM}(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=SE(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],gT[this.id]=this,a&&o?(pP.listen(this,"complete",dT),pP.listen(this,"progress",pT),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return kE(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return GM}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return QC(this.canvas,this.ctx),this}stop(){return pP.stop(this),this}resize(t,e){pP.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,QA(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),RE(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){FE(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=JM(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),FE(r,(e=>{const r=e.options,s=r.id,a=JM(s,r),o=ME(r.type,e.dtype);void 0!==r.position&&uT(r.position,a)===uT(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(GM.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),FE(i,((t,e)=>{t||delete n[e]})),FE(n,(t=>{fM.configure(this,t,t.options),fM.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(hT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||YM(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=GM.getController(s),{datasetElementType:i,dataElementType:a}=qC.datasets[s];Object.assign(e,{dataElementType:GM.getElement(a),datasetElementType:i&&GM.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){FE(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||FE(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(hT("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){FE(this.scales,(t=>{fM.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);GE(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){vT(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!GE(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fM.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],FE(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,UE(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(pP.has(this)?this.attached&&!pP.running(this)&&pP.start(this):(this.draw(),dT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:bT(n,e,"left"),right:bT(n,e,"right"),top:bT(i,e,"top"),bottom:bT(i,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&tA(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&eA(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return ZC(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=eM.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=bA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);VE(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),pP.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),QC(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};FE(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():s()}unbindEvents(){FE(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},FE(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,a,o;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,o=t.length;a<o;++a){s=t[a];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!IE(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),a=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,a=this._getActiveElements(t,i,n,s),o=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,o);n&&(this._lastEvent=null,RE(r.onHover,[t,a,this],this),o&&RE(r.onClick,[t,a,this],this));const c=!IE(a,i);return(c||e)&&(this._active=a,this._updateHoverStyles(a,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function _T(){return FE(yT.instances,(t=>t._plugins.invalidate()))}function xT(t,e,n,i){const r=dA(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,a=Math.min(s,i*e/2),o=t=>{const e=(n-Math.min(s,t))*i/2;return fC(t,0,Math.min(s,e))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:fC(r.innerStart,0,a),innerEnd:fC(r.innerEnd,0,a)}}function wT(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function ST(t,e,n,i,r,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let p=0;const f=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;p=(f-(0!==t?f*t/(t+i):f))/2}const g=(f-Math.max(.001,f*h-n/qE)/h)/2,m=l+g+p,v=r-g-p,{outerStart:b,outerEnd:y,innerStart:_,innerEnd:x}=xT(e,d,h,v-m),w=h-b,S=h-y,k=m+b/w,E=v-y/S,C=d+_,A=d+x,P=m+_/C,M=v-x/A;if(t.beginPath(),s){const e=(k+E)/2;if(t.arc(a,o,h,k,e),t.arc(a,o,h,e,E),y>0){const e=wT(S,E,a,o);t.arc(e.x,e.y,y,E,v+JE)}const n=wT(A,v,a,o);if(t.lineTo(n.x,n.y),x>0){const e=wT(A,M,a,o);t.arc(e.x,e.y,x,v+JE,M+Math.PI)}const i=(v-x/d+(m+_/d))/2;if(t.arc(a,o,d,v-x/d,i,!0),t.arc(a,o,d,i,m+_/d,!0),_>0){const e=wT(C,P,a,o);t.arc(e.x,e.y,_,P+Math.PI,m-JE)}const r=wT(w,m,a,o);if(t.lineTo(r.x,r.y),b>0){const e=wT(w,k,a,o);t.arc(e.x,e.y,b,m-JE,k)}}else{t.moveTo(a,o);const e=Math.cos(k)*h+a,n=Math.sin(k)*h+o;t.lineTo(e,n);const i=Math.cos(E)*h+a,r=Math.sin(E)*h+o;t.lineTo(i,r)}t.closePath()}function kT(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,p="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,p?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let f=e.endAngle;if(s){ST(t,e,n,i,f,r);for(let e=0;e<s;++e)t.stroke();isNaN(o)||(f=a+(o%XE||XE))}p&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=r/o;t.beginPath(),t.arc(s,a,o,i-c,n+c),l>r?(c=r/l,t.arc(s,a,l,n+c,i-c,!0)):t.arc(s,a,r,n+JE,i-JE),t.closePath(),t.clip()}(t,e,f),s||(ST(t,e,n,i,f,r),t.stroke())}At(yT,"defaults",qC),At(yT,"instances",gT),At(yT,"overrides",WC),At(yT,"registry",GM),At(yT,"version","4.4.3"),At(yT,"getChart",mT);class ET extends FM{constructor(t){super(),At(this,"circumference",void 0),At(this,"endAngle",void 0),At(this,"fullCircles",void 0),At(this,"innerRadius",void 0),At(this,"outerRadius",void 0),At(this,"pixelMargin",void 0),At(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=cC(i,{x:t,y:e}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=ME(u,o-a)>=XE||pC(r,a,o),p=gC(s,l+h,c+h);return d&&p}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:o,spacing:l}=this.options,c=(i+r)/2,u=(s+a+l+o)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>XE?Math.floor(n/XE):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const o=i*(1-Math.sin(Math.min(qE,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){ST(t,e,n,i,l,r);for(let e=0;e<s;++e)t.fill();isNaN(o)||(l=a+(o%XE||XE))}ST(t,e,n,i,l,r),t.fill()}(t,this,o,r,s),kT(t,this,o,r,s),t.restore()}}function CT(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=ME(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ME(n.borderDash,e.borderDash)),t.lineDashOffset=ME(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ME(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ME(n.borderWidth,e.borderWidth),t.strokeStyle=ME(n.borderColor,e.borderColor)}function AT(t,e,n){t.lineTo(n.x,n.y)}function PT(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:o}=e,l=Math.max(r,a),c=Math.min(s,o),u=r<a&&s<a||r>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function MT(t,e,n,i){const{points:r,options:s}=e,{count:a,start:o,loop:l,ilen:c}=PT(r,n,i),u=function(t){return t.stepped?nA:t.tension||"monotone"===t.cubicInterpolationMode?iA:AT}(s);let h,d,p,{move:f=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(o+(g?c-h:h))%a],d.skip||(f?(t.moveTo(d.x,d.y),f=!1):u(t,p,d,g,s.stepped),p=d);return l&&(d=r[(o+(g?c:0))%a],u(t,p,d,g,s.stepped)),!!l}function TT(t,e,n,i){const r=e.points,{count:s,start:a,ilen:o}=PT(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,p,f,g,m=0,v=0;const b=t=>(a+(c?o-t:t))%s,y=()=>{p!==f&&(t.lineTo(m,f),t.lineTo(m,p),t.lineTo(m,g))};for(l&&(h=r[b(0)],t.moveTo(h.x,h.y)),u=0;u<=o;++u){if(h=r[b(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<p?p=n:n>f&&(f=n),m=(v*m+e)/++v):(y(),t.lineTo(e,n),d=i,v=0,p=f=n),g=n}y()}function RT(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?TT:MT}At(ET,"id","arc"),At(ET,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),At(ET,"defaultRoutes",{backgroundColor:"backgroundColor"}),At(ET,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const FT="function"===typeof Path2D;function IT(t,e,n,i){FT&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),CT(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:s}=e,a=RT(e);for(const o of r)CT(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class LT extends FM{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;zA(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:o}=function(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(n,r,s,i);return cP(t,!0===i?[{start:a,end:o,loop:s}]:function(t,e,n,i){const r=t.length,s=[];let a,o=e,l=t[e];for(a=e+1;a<=n;++a){const n=t[a%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(a-1)%r,loop:i}),e=o=n.stop?a:null):(o=a,l.skip&&(e=a)),l=n}return null!==o&&s.push({start:e%r,end:o%r,loop:i}),s}(n,a,o<a?o+r:o,!!t._fullLoop&&0===a&&o===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=lP(this,{property:e,start:i,end:i});if(!s.length)return;const a=[],o=function(t){return t.stepped?tP:t.tension||"monotone"===t.cubicInterpolationMode?eP:ZA}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){a.push(h);continue}const p=o(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);p[e]=t[e],a.push(p)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return RT(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=RT(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const a of i)s&=r(t,this,a,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),IT(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function DT(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}At(LT,"id","line"),At(LT,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),At(LT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),At(LT,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class OT extends FM{constructor(t){super(),At(this,"parsed",void 0),At(this,"skip",void 0),At(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return DT(this,t,"x",e)}inYRange(t,e){return DT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!ZC(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,JC(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function NT(t,e){const{x:n,y:i,base:r,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,h;return t.horizontal?(h=a/2,o=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,o=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:o,top:c,right:l,bottom:u}}function jT(t,e,n,i){return t?0:fC(e,n,i)}function zT(t){const e=NT(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=pA(i);return{t:jT(r.top,s.top,0,n),r:jT(r.right,s.right,0,e),b:jT(r.bottom,s.bottom,0,n),l:jT(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=fA(r),a=Math.min(e,n),o=t.borderSkipped,l=i||CE(r);return{topLeft:jT(!l||o.top||o.left,s.topLeft,0,a),topRight:jT(!l||o.top||o.right,s.topRight,0,a),bottomLeft:jT(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:jT(!l||o.bottom||o.right,s.bottomRight,0,a)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function BT(t,e,n,i){const r=null===e,s=null===n,a=t&&!(r&&s)&&NT(t,i);return a&&(r||gC(e,a.left,a.right))&&(s||gC(n,a.top,a.bottom))}function WT(t,e){t.rect(e.x,e.y,e.w,e.h)}function HT(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+a,radius:t.radius}}At(OT,"id","point"),At(OT,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),At(OT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class VT extends FM{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=zT(this),a=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?oA:WT;var o;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),a(t,HT(s,e,r)),t.clip(),a(t,HT(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,HT(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return BT(this,t,e,n)}inXRange(t,e){return BT(this,t,null,e)}inYRange(t,e){return BT(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}At(VT,"id","bar"),At(VT,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),At(VT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const UT=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class GT extends FM{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=RE(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=mA(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=UT(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,i,a,o)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+a;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,p)=>{const f=n+e/2+r.measureText(t.text).width;(0===p||l[l.length-1]+f+2*a>s)&&(u+=c,l[l.length-(p>0?0:1)]=0,d+=c,h++),o[p]={left:0,top:d,row:h,width:f,height:i},l[l.length-1]+=f+a})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=a,h=0,d=0,p=0,f=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,i,r){const s=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(r).width}(i,t,e,n),a=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=qT(e,n));return i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}(n,e,r,t,i);s>0&&d+m+2*a>c&&(u+=h+a,l.push({width:h,height:d}),p+=h+a,f++,h=d=0),o[s]={left:p,top:d,col:f,width:g,height:m},h=Math.max(h,g),d+=m+a})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=nP(r,this.left,this.width);if(this.isHorizontal()){let r=0,a=EC(n,this.left+i,this.right-this.lineWidths[r]);for(const o of e)r!==o.row&&(r=o.row,a=EC(n,this.left+i,this.right-this.lineWidths[r])),o.top+=this.top+t+i,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+i}else{let r=0,a=EC(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const o of e)o.col!==r&&(r=o.col,a=EC(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),o.top=a,o.left+=this.left+i,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;tA(t,this),this._draw(),eA(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,a=qC.color,o=nP(t.rtl,this.left,this.width),l=mA(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=o.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:g}=UT(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:EC(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:EC(r,this.top+v+c,this.bottom-e[0].height),line:0},iP(this.ctx,t.textDirection);const b=g+c;this.legendItems.forEach(((y,_)=>{i.strokeStyle=y.fontColor,i.fillStyle=y.fontColor;const x=i.measureText(y.text).width,w=o.textAlign(y.textAlign||(y.textAlign=s.textAlign)),S=p+h+x;let k=d.x,E=d.y;o.setWidth(this.width),m?_>0&&k+S+c>this.right&&(E=d.y+=b,d.line++,k=d.x=EC(r,this.left+c,this.right-n[d.line])):_>0&&E+b>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,E=d.y=EC(r,this.top+v+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();const r=ME(n.lineWidth,1);if(i.fillStyle=ME(n.fillStyle,a),i.lineCap=ME(n.lineCap,"butt"),i.lineDashOffset=ME(n.lineDashOffset,0),i.lineJoin=ME(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=ME(n.strokeStyle,a),i.setLineDash(ME(n.lineDash,[])),s.usePointStyle){const a={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=o.xPlus(t,p/2);$C(i,a,l,e+h,s.pointStyleWidth&&p)}else{const s=e+Math.max((u-f)/2,0),a=o.leftForLtr(t,p),l=fA(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?oA(i,{x:a,y:s,w:p,h:f,radius:l}):i.rect(a,s,p,f),i.fill(),0!==r&&i.stroke()}i.restore()}(o.x(k),E,y),k=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(w,k+p+h,m?k+S:this.right,t.rtl),function(t,e,n){aA(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(k),E,y),m)d.x+=S+c;else if("string"!==typeof y.text){const t=l.lineHeight;d.y+=qT(y,t)+c}else d.y+=b})),rP(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=mA(e.font),i=gA(e.padding);if(!e.display)return;const r=nP(t.rtl,this.left,this.width),s=this.ctx,a=e.position,o=n.size/2,l=i.top+o;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=EC(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+EC(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=EC(a,u,u+h);s.textAlign=r.textAlign(kC(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,aA(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=mA(t.font),n=gA(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(gC(t,this.left,this.right)&&gC(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],gC(t,i.left,i.left+i.width)&&gC(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const s=this._hoveredItem,a=(r=n,null!==(i=s)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);s&&!a&&RE(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!a&&RE(e.onHover,[t,n,this],this)}else n&&RE(e.onClick,[t,n,this],this);var i,r}}function qT(t,e){return e*(t.text?t.text.length:0)}var XT={id:"legend",_element:GT,start(t,e,n){const i=t.legend=new GT({ctx:t.ctx,options:n,chart:t});fM.configure(t,i,n),fM.addBox(t,i)},stop(t){fM.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;fM.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=gA(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};new WeakMap;const KT={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++s}}return{x:[...i].reduce(((t,e)=>t+e))/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,a=e.y,o=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=uC(e,i.getCenterPoint());t<o&&(o=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,a=t.y}return{x:s,y:a}}};function YT(t,e){return e&&(EE(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function QT(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function JT(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function $T(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=mA(e.bodyFont),c=mA(e.titleFont),u=mA(e.footerFont),h=s.length,d=r.length,p=i.length,f=gA(e.padding);let g=f.height,m=0,v=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=p*(e.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const y=function(t){m=Math.max(m,n.measureText(t).width+b)};return n.save(),n.font=c.string,FE(t.title,y),n.font=l.string,FE(t.beforeBody.concat(t.afterBody),y),b=e.displayColors?a+2+e.boxPadding:0,FE(i,(t=>{FE(t.before,y),FE(t.lines,y),FE(t.after,y)})),b=0,n.font=u.string,FE(t.footer,y),n.restore(),m+=f.width,{width:m,height:g}}function ZT(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return"center"===i?c=r<=(o+l)/2?"left":"right":r<=s/2?c="left":r>=a-s/2&&(c="right"),function(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;return"left"===t&&r+s+a>e.width||"right"===t&&r-s-a<0||void 0}(c,t,e,n)&&(c="center"),c}function tR(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||ZT(t,e,n,i),yAlign:i}}function eR(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=fA(a);let f=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,o);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,d)+r:"right"===o&&(f+=Math.max(h,p)+r),{x:fC(f,0,i.width-e.width),y:fC(g,0,i.height-e.height)}}function nR(t,e,n){const i=gA(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function iR(t){return YT([],QT(t))}function rR(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const sR={beforeTitle:wE,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:wE,beforeBody:wE,beforeLabel:wE,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return kE(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:wE,afterBody:wE,beforeFooter:wE,footer:wE,afterFooter:wE};function aR(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?sR[e].call(n,i):r}class oR extends FM{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new vP(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,bA(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=aR(n,"beforeTitle",this,t),r=aR(n,"title",this,t),s=aR(n,"afterTitle",this,t);let a=[];return a=YT(a,QT(i)),a=YT(a,QT(r)),a=YT(a,QT(s)),a}getBeforeBody(t,e){return iR(aR(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return FE(t,(t=>{const e={before:[],lines:[],after:[]},r=rR(n,t);YT(e.before,QT(aR(r,"beforeLabel",this,t))),YT(e.lines,aR(r,"label",this,t)),YT(e.after,QT(aR(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return iR(aR(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=aR(n,"beforeFooter",this,t),r=aR(n,"footer",this,t),s=aR(n,"afterFooter",this,t);let a=[];return a=YT(a,QT(i)),a=YT(a,QT(r)),a=YT(a,QT(s)),a}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let a,o,l=[];for(a=0,o=e.length;a<o;++a)l.push(JT(this.chart,e[a]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),FE(l,(e=>{const n=rR(t.callbacks,e);i.push(aR(n,"labelColor",this,e)),r.push(aR(n,"labelPointStyle",this,e)),s.push(aR(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=KT[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=$T(this,n),a=Object.assign({},t,e),o=tR(this.chart,n,a),l=eR(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=fA(a),{x:h,y:d}=t,{width:p,height:f}=e;let g,m,v,b,y,_;return"center"===r?(y=d+f/2,"left"===i?(g=h,m=g-s,b=y+s,_=y-s):(g=h+p,m=g+s,b=y-s,_=y+s),v=g):(m="left"===i?h+Math.max(o,c)+s:"right"===i?h+p-Math.max(l,u)-s:this.caretX,"top"===r?(b=d,y=b-s,g=m-s,v=m+s):(b=d+f,y=b+s,g=m+s,v=m-s),_=b),{x1:g,x2:m,x3:v,y1:b,y2:y,y3:_}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,a,o;if(r){const l=nP(n.rtl,this.x,this.width);for(t.x=nR(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=mA(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+a,o+1===r&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=r,c=mA(r.bodyFont),u=nR(this,"left",r),h=i.x(u),d=o<c.lineHeight?(c.lineHeight-o)/2:0,p=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=p+o/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,JC(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,JC(t,e,n,c)}else{t.lineWidth=CE(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),a=fA(s.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,oA(t,{x:e,y:p,w:l,h:o,radius:a}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),oA(t,{x:n,y:p+1,w:l-2,h:o-2,radius:a}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,p,l,o),t.strokeRect(e,p,l,o),t.fillStyle=s.backgroundColor,t.fillRect(n,p+1,l-2,o-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=mA(n.bodyFont);let h=u.lineHeight,d=0;const p=nP(n.rtl,this.x,this.width),f=function(n){e.fillText(n,p.x(t.x+d),t.y+h/2),t.y+=h+r},g=p.textAlign(s);let m,v,b,y,_,x,w;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=nR(this,g,n),e.fillStyle=n.bodyColor,FE(this.beforeBody,f),d=a&&"right"!==g?"center"===s?l/2+c:l+2+c:0,y=0,x=i.length;y<x;++y){for(m=i[y],v=this.labelTextColors[y],e.fillStyle=v,FE(m.before,f),b=m.lines,a&&b.length&&(this._drawColorBox(e,t,y,p,n),h=Math.max(u.lineHeight,o)),_=0,w=b.length;_<w;++_)f(b[_]),h=u.lineHeight;FE(m.after,f)}d=0,h=u.lineHeight,FE(this.afterBody,f),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,a;if(r){const o=nP(n.rtl,this.x,this.width);for(t.x=nR(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=o.textAlign(n.footerAlign),e.textBaseline="middle",s=mA(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],o.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:a,y:o}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=fA(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(a+u,o),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(a+l-h,o),e.quadraticCurveTo(a+l,o,a+l,o+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(a+l,o+c-p),e.quadraticCurveTo(a+l,o+c,a+l-p,o+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(a+d,o+c),e.quadraticCurveTo(a,o+c,a,o+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(a,o+u),e.quadraticCurveTo(a,o,a+u,o),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=KT[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=$T(this,t),a=Object.assign({},n,this._size),o=tR(e,t,a),l=eR(t,a,o,e);i._to===l.x&&r._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=gA(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),iP(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),rP(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!IE(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),a=this._positionChanged(s,t),o=e||!IE(s,r)||a;return o&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),o}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=KT[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}At(oR,"positioners",KT);var lR={id:"tooltip",_element:oR,positioners:KT,afterInit(t,e,n){n&&(t.tooltip=new oR({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function cR(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function uR(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class hR extends HM{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(kE(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:fC(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:cR(n,t,ME(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return uR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function dR(t,e){const n=[],{bounds:i,step:r,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,p=c-1,{min:f,max:g}=e,m=!kE(s),v=!kE(a),b=!kE(l),y=(g-f)/(u+1);let _,x,w,S,k=iC((g-f)/p/d)*d;if(k<1e-14&&!m&&!v)return[{value:f},{value:g}];S=Math.ceil(g/k)-Math.floor(f/k),S>p&&(k=iC(S*k/p/d)*d),kE(o)||(_=Math.pow(10,o),k=Math.ceil(k*_)/_),"ticks"===i?(x=Math.floor(f/k)*k,w=Math.ceil(g/k)*k):(x=f,w=g),m&&v&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-s)/r,k/1e3)?(S=Math.round(Math.min((a-s)/k,c)),k=(a-s)/S,x=s,w=a):b?(x=m?s:x,w=v?a:w,S=l-1,k=(w-x)/S):(S=(w-x)/k,S=nC(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(lC(k),lC(x));_=Math.pow(10,kE(o)?E:o),x=Math.round(x*_)/_,w=Math.round(w*_)/_;let C=0;for(m&&(h&&x!==s?(n.push({value:s}),x<s&&C++,nC(Math.round((x+C*k)*_)/_,s,pR(s,y,t))&&C++):x<s&&C++);C<S;++C){const t=Math.round((x+C*k)*_)/_;if(v&&t>a)break;n.push({value:t})}return v&&h&&w!==a?n.length&&nC(n[n.length-1].value,a,pR(a,y,t))?n[n.length-1].value=a:n.push({value:a}):v&&w!==a||n.push({value:w}),n}function pR(t,e,n){let{horizontal:i,minRotation:r}=n;const s=aC(r),a=(i?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/a,o)}At(hR,"id","category"),At(hR,"defaults",{ticks:{callback:uR}});class fR extends HM{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return kE(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,a=t=>r=n?r:t;if(t){const t=eC(i),e=eC(r);t<0&&e<0?a(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);a(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=dR({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&sC(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return jC(t,this.chart.options.locale,this.options.ticks.format)}}class gR extends fR{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=AE(t)?t:0,this.max=AE(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=aC(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}At(gR,"id","linear"),At(gR,"defaults",{ticks:{callback:BC.formatters.numeric}});const mR=t=>Math.floor(tC(t)),vR=(t,e)=>Math.pow(10,mR(t)+e);function bR(t){return 1===t/Math.pow(10,mR(t))}function yR(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function _R(t,e){let{min:n,max:i}=e;n=PE(t.min,n);const r=[],s=mR(n);let a=function(t,e){let n=mR(e-t);for(;yR(t,e,n)>10;)n++;for(;yR(t,e,n)<10;)n--;return Math.min(n,mR(t))}(n,i),o=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=s>a?Math.pow(10,s):0,u=Math.round((n-c)*o)/o,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,a)),p=PE(t.min,Math.round((c+h+d*Math.pow(10,a))*o)/o);for(;p<i;)r.push({value:p,major:bR(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,o=a>=0?1:o),p=Math.round((c+h+d*Math.pow(10,a))*o)/o;const f=PE(t.max,p);return r.push({value:f,major:bR(f),significand:d}),r}class xR extends HM{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=fR.prototype.parse.apply(this,[t,e]);if(0!==n)return AE(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=AE(t)?Math.max(0,t):null,this.max=AE(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!AE(this._userMin)&&(this.min=t===vR(this.min,0)?vR(this.min,-1):vR(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(r(1),s(10)):(r(vR(n,-1)),s(vR(i,1)))),n<=0&&r(vR(i,-1)),i<=0&&s(vR(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=_R({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&sC(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":jC(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=tC(t),this._valueRange=tC(this.max)-tC(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(tC(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function wR(t){const e=t.ticks;if(e.display&&t.display){const t=gA(e.backdropPadding);return ME(e.font&&e.font.size,qC.font.size)+t.height}return 0}function SR(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function kR(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?qE/s:0;for(let h=0;h<s;h++){const s=a.setContext(t.getPointLabelContext(h));r[h]=s.padding;const d=t.getPointPosition(h,t.drawingArea+r[h],o),p=mA(s.font),f=(l=t.ctx,c=p,u=EE(u=t._pointLabels[h])?u:[u],{w:KC(l,c.string,u),h:u.length*c.lineHeight});i[h]=f;const g=dC(t.getIndexAngle(h)+o),m=Math.round(oC(g));ER(n,e,g,SR(m,d.x,f.w,0,180),SR(m,d.y,f.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:wR(s)/2,additionalAngle:a?qE/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const r=CR(t,u,l);i.push(r),"auto"===o&&(r.visible=AR(r,c),r.visible&&(c=r))}return i}(t,i,r)}function ER(t,e,n,i,r){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;i.start<e.l?(o=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),r.start<e.t?(l=(e.t-r.start)/a,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function CR(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:a,size:o}=n,l=t.getPointPosition(e,i+r+a,s),c=Math.round(oC(dC(l.angle+JE))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,o.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,o.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+o.w,bottom:u+o.h}}function AR(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(ZC({x:n,y:i},e)||ZC({x:n,y:s},e)||ZC({x:r,y:i},e)||ZC({x:r,y:s},e))}function PR(t,e,n){const{left:i,top:r,right:s,bottom:a}=n,{backdropColor:o}=e;if(!kE(o)){const n=fA(e.borderRadius),l=gA(e.backdropPadding);t.fillStyle=o;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=a-r+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),oA(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function MR(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,XE);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}At(xR,"id","logarithmic"),At(xR,"defaults",{ticks:{callback:BC.formatters.logarithmic,major:{enabled:!0}}});class TR extends fR{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=gA(wR(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=AE(t)&&!isNaN(t)?t:0,this.max=AE(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wR(this.options))}generateTickLabels(t){fR.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=RE(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?kR(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return dC(t*(XE/(this._pointLabels.length||1))+aC(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(kE(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(kE(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return bA(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-JE+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),MR(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let a,o,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const s=i.setContext(t.getPointLabelContext(r));PR(n,s,e);const a=mA(s.font),{x:o,y:l,textAlign:c}=e;aA(n,t._pointLabels[r],o,l+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){o=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),a=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!i||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),MR(t,n,a,i),s.closePath(),s.stroke(),s.restore())}(this,a,o,s,l)}})),n.display){for(t.save(),a=s-1;a>=0;a--){const i=n.setContext(this.getPointLabelContext(a)),{color:r,lineWidth:s}=i;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,a)=>{if(0===a&&this.min>=0&&!e.reverse)return;const o=n.setContext(this.getContext(a)),l=mA(o.font);if(r=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=o.backdropColor;const e=gA(o.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}aA(t,i.label,0,-r,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),t.restore()}drawTitle(){}}At(TR,"id","radialLinear"),At(TR,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:BC.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),At(TR,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),At(TR,"descriptors",{angleLines:{_fallback:"grid"}});const RR={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},FR=Object.keys(RR);function IR(t,e){return t-e}function LR(t,e){if(kE(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return"function"===typeof i&&(a=i(a)),AE(a)||(a="string"===typeof i?n.parse(a,i):n.parse(a)),null===a?null:(r&&(a="week"!==r||!rC(s)&&!0!==s?n.startOf(a,r):n.startOf(a,"isoWeek",s)),+a)}function DR(t,e,n,i){const r=FR.length;for(let s=FR.indexOf(t);s<r-1;++s){const t=RR[FR[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return FR[s]}return FR[r-1]}function OR(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=mC(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function NR(t,e,n){const i=[],r={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],r[o]=a,i.push({value:o,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+r.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class jR extends HM{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new KP(t.adapters.date);i.init(e),jE(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:LR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:a}=this.getUserBounds();function o(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),a||isNaN(t.max)||(r=Math.max(r,t.max))}s&&a||(o(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||o(this.getMinMax(!1))),i=AE(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=AE(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?DR(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=FR.length-1;s>=FR.indexOf(n);s--){const n=FR[s];if(RR[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return FR[n?FR.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=FR.indexOf(t)+1,n=FR.length;e<n;++e)if(RR[FR[e]].common)return FR[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),NR(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=fC(i,0,s),r=fC(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||DR(r.minUnit,e,n,this._getLabelCapacity(e)),a=ME(i.ticks.stepSize,1),o="week"===s&&r.isoWeekday,l=rC(o)||!0===o,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",o)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+s);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,a,s),h++)OR(c,u,p);return u!==n&&"ticks"!==i.bounds&&1!==h||OR(c,u,p),Object.keys(c).sort(IR).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return RE(s,[t,e,n],this);const a=r.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=aC(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*s,h:n*s+a*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,NR(this,[t],this._majorUnit),i),s=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(LR(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return xC(t.sort(IR))}}function zR(t,e,n){let i,r,s,a,o=0,l=t.length-1;n?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=vC(t,"pos",e)),({pos:i,time:s}=t[o]),({pos:r,time:a}=t[l])):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=vC(t,"time",e)),({time:i,pos:s}=t[o]),({time:r,pos:a}=t[l]));const c=r-i;return c?s+(a-s)*(e-i)/c:s}At(jR,"id","time"),At(jR,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class BR extends jR{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=zR(e,this.min),this._tableRange=zR(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,a,o,l,c;for(s=0,a=t.length;s<a;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,a=i.length;s<a;++s)c=i[s+1],o=i[s-1],l=i[s],Math.round((c+o)/2)!==l&&r.push({time:l,pos:s/(a-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(zR(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return zR(this._table,n*this._tableRange+this._minPos,!0)}}At(BR,"id","timeseries"),At(BR,"defaults",jR.defaults);const WR="label";function HR(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function VR(t,e){t.labels=e}function UR(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WR;const i=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):{...e}}))}function GR(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WR;const n={labels:[],datasets:[]};return VR(n,t.labels),UR(n,t.datasets,e),n}function qR(t,n){const{height:i=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...p}=t,f=(0,e.useRef)(null),g=(0,e.useRef)(),m=()=>{f.current&&(g.current=new yT(f.current,{type:o,data:GR(l,a),options:c&&{...c},plugins:u}),HR(n,g.current))},v=()=>{HR(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,e.useEffect)((()=>{!s&&g.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,c)}),[s,c]),(0,e.useEffect)((()=>{!s&&g.current&&VR(g.current.config.data,l.labels)}),[s,l.labels]),(0,e.useEffect)((()=>{!s&&g.current&&l.datasets&&UR(g.current.config.data,l.datasets,a)}),[s,l.datasets]),(0,e.useEffect)((()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,e.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[o]),(0,e.useEffect)((()=>(m(),()=>v())),[]),e.createElement("canvas",Object.assign({ref:f,role:"img",height:i,width:r},p),h)}const XR=(0,e.forwardRef)(qR);function KR(t,n){return yT.register(n),(0,e.forwardRef)(((n,i)=>e.createElement(XR,Object.assign({},n,{ref:i,type:t}))))}const YR=KR("doughnut",BP);var QR=function(){if("undefined"!==typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),JR=function(t){var e,n=[];for(t=[].concat(t);t.length;)"string"===typeof(e=t.pop())?n.unshift.apply(n,e.split("\n")):Array.isArray(e)?t.push.apply(t,e):kE(t)||n.unshift(""+e);return n},$R=function(t,e,n){var i,r=[].concat(e),s=r.length,a=t.font,o=0;for(t.font=n.string,i=0;i<s;++i)o=Math.max(t.measureText(r[i]).width,o);return t.font=a,{height:s*n.lineHeight,width:o}},ZR=function(t,e,n){return Math.max(t,Math.min(e,n))},tF=function(t,e){var n,i,r,s,a=t.slice(),o=[];for(n=0,r=e.length;n<r;++n)s=e[n],-1===(i=a.indexOf(s))?o.push([s,1]):a.splice(i,1);for(n=0,r=a.length;n<r;++n)o.push([a[n],-1]);return o};function eF(t,e){var n=e.x,i=e.y;if(null===n)return{x:0,y:-1};if(null===i)return{x:1,y:0};var r=t.x-n,s=t.y-i,a=Math.sqrt(r*r+s*s);return{x:a?r/a:0,y:a?s/a:-1}}var nF=0,iF=1,rF=2,sF=4,aF=8;function oF(t,e,n){var i=nF;return t<n.left?i|=iF:t>n.right&&(i|=rF),e<n.top?i|=aF:e>n.bottom&&(i|=sF),i}function lF(t,e){var n,i,r=e.anchor,s=t;return e.clamp&&(s=function(t,e){for(var n,i,r,s=t.x0,a=t.y0,o=t.x1,l=t.y1,c=oF(s,a,e),u=oF(o,l,e);c|u&&!(c&u);)(n=c||u)&aF?(i=s+(o-s)*(e.top-a)/(l-a),r=e.top):n&sF?(i=s+(o-s)*(e.bottom-a)/(l-a),r=e.bottom):n&rF?(r=a+(l-a)*(e.right-s)/(o-s),i=e.right):n&iF&&(r=a+(l-a)*(e.left-s)/(o-s),i=e.left),n===c?c=oF(s=i,a=r,e):u=oF(o=i,l=r,e);return{x0:s,x1:o,y0:a,y1:l}}(s,e.area)),"start"===r?(n=s.x0,i=s.y0):"end"===r?(n=s.x1,i=s.y1):(n=(s.x0+s.x1)/2,i=(s.y0+s.y1)/2),function(t,e,n,i,r){switch(r){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),i=Math.sin(r)}return{x:t,y:e,vx:n,vy:i}}(n,i,t.vx,t.vy,e.align)}var cF=function(t,e){var n=(t.startAngle+t.endAngle)/2,i=Math.cos(n),r=Math.sin(n),s=t.innerRadius,a=t.outerRadius;return lF({x0:t.x+i*s,y0:t.y+r*s,x1:t.x+i*a,y1:t.y+r*a,vx:i,vy:r},e)},uF=function(t,e){var n=eF(t,e.origin),i=n.x*t.options.radius,r=n.y*t.options.radius;return lF({x0:t.x-i,y0:t.y-r,x1:t.x+i,y1:t.y+r,vx:n.x,vy:n.y},e)},hF=function(t,e){var n=eF(t,e.origin),i=t.x,r=t.y,s=0,a=0;return t.horizontal?(i=Math.min(t.x,t.base),s=Math.abs(t.base-t.x)):(r=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),lF({x0:i,y0:r+a,x1:i+s,y1:r,vx:n.x,vy:n.y},e)},dF=function(t,e){var n=eF(t,e.origin);return lF({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)},pF=function(t){return Math.round(t*QR)/QR};function fF(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return t.horizontal?{x:i,y:null}:{x:null,y:i}}function gF(t,e,n){var i=n.backgroundColor,r=n.borderColor,s=n.borderWidth;(i||r&&s)&&(t.beginPath(),function(t,e,n,i,r,s){var a=Math.PI/2;if(s){var o=Math.min(s,r/2,i/2),l=e+o,c=n+o,u=e+i-o,h=n+r-o;t.moveTo(e,c),l<u&&c<h?(t.arc(l,c,o,-Math.PI,-a),t.arc(u,c,o,-a,0),t.arc(u,h,o,0,a),t.arc(l,h,o,a,Math.PI)):l<u?(t.moveTo(l,n),t.arc(u,c,o,-a,a),t.arc(l,c,o,a,Math.PI+a)):c<h?(t.arc(l,c,o,-Math.PI,0),t.arc(l,h,o,0,Math.PI)):t.arc(l,c,o,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,r)}(t,pF(e.x)+s/2,pF(e.y)+s/2,pF(e.w)-s,pF(e.h)-s,n.borderRadius),t.closePath(),i&&(t.fillStyle=i,t.fill()),r&&s&&(t.strokeStyle=r,t.lineWidth=s,t.lineJoin="miter",t.stroke()))}function mF(t,e,n){var i=t.shadowBlur,r=n.stroked,s=pF(n.x),a=pF(n.y),o=pF(n.w);r&&t.strokeText(e,s,a,o),n.filled&&(i&&r&&(t.shadowBlur=0),t.fillText(e,s,a,o),i&&r&&(t.shadowBlur=i))}var vF=function(t,e,n,i){var r=this;r._config=t,r._index=i,r._model=null,r._rects=null,r._ctx=e,r._el=n};NE(vF.prototype,{_modelize:function(t,e,n,i){var r,s=this,a=s._index,o=mA(vA([n.font,{}],i,a)),l=vA([n.color,qC.color],i,a);return{align:vA([n.align,"center"],i,a),anchor:vA([n.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:vA([n.backgroundColor,null],i,a),borderColor:vA([n.borderColor,null],i,a),borderRadius:vA([n.borderRadius,0],i,a),borderWidth:vA([n.borderWidth,0],i,a),clamp:vA([n.clamp,!1],i,a),clip:vA([n.clip,!1],i,a),color:l,display:t,font:o,lines:e,offset:vA([n.offset,4],i,a),opacity:vA([n.opacity,1],i,a),origin:fF(s._el,i),padding:gA(vA([n.padding,4],i,a)),positioner:(r=s._el,r instanceof ET?cF:r instanceof OT?uF:r instanceof VT?hF:dF),rotation:vA([n.rotation,0],i,a)*(Math.PI/180),size:$R(s._ctx,e,o),textAlign:vA([n.textAlign,"start"],i,a),textShadowBlur:vA([n.textShadowBlur,0],i,a),textShadowColor:vA([n.textShadowColor,l],i,a),textStrokeColor:vA([n.textStrokeColor,l],i,a),textStrokeWidth:vA([n.textStrokeWidth,0],i,a)}},update:function(t){var e,n,i,r=this,s=null,a=null,o=r._index,l=r._config,c=vA([l.display,!0],t,o);c&&(e=t.dataset.data[o],(i=kE(n=ME(RE(l.formatter,[e,t]),e))?[]:JR(n)).length&&(a=function(t){var e=t.borderWidth||0,n=t.padding,i=t.size.height,r=t.size.width,s=-r/2,a=-i/2;return{frame:{x:s-n.left-e,y:a-n.top-e,w:r+n.width+2*e,h:i+n.height+2*e},text:{x:s,y:a,w:r,h:i}}}(s=r._modelize(c,i,l,t)))),r._model=s,r._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n,i=t.ctx,r=this._model,s=this._rects;this.visible()&&(i.save(),r.clip&&(n=r.area,i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()),i.globalAlpha=ZR(0,r.opacity,1),i.translate(pF(e.x),pF(e.y)),i.rotate(r.rotation),gF(i,s.frame,r),function(t,e,n,i){var r,s=i.textAlign,a=i.color,o=!!a,l=i.font,c=e.length,u=i.textStrokeColor,h=i.textStrokeWidth,d=u&&h;if(c&&(o||d))for(n=function(t,e,n){var i=n.lineHeight,r=t.w,s=t.x;return"center"===e?s+=r/2:"end"!==e&&"right"!==e||(s+=r),{h:i,w:r,x:s,y:t.y+i/2}}(n,s,l),t.font=l.string,t.textAlign=s,t.textBaseline="middle",t.shadowBlur=i.textShadowBlur,t.shadowColor=i.textShadowColor,o&&(t.fillStyle=a),d&&(t.lineJoin="round",t.lineWidth=h,t.strokeStyle=u),r=0,c=e.length;r<c;++r)mF(t,e[r],{stroked:d,filled:o,w:n.w,x:n.x,y:n.y+n.h*r})}(i,r.lines,s.text,r),i.restore())}});var bF=Number.MIN_SAFE_INTEGER||-9007199254740991,yF=Number.MAX_SAFE_INTEGER||9007199254740991;function _F(t,e,n){var i=Math.cos(n),r=Math.sin(n),s=e.x,a=e.y;return{x:s+i*(t.x-s)-r*(t.y-a),y:a+r*(t.x-s)+i*(t.y-a)}}function xF(t,e){var n,i,r,s,a,o=yF,l=bF,c=e.origin;for(n=0;n<t.length;++n)r=(i=t[n]).x-c.x,s=i.y-c.y,a=e.vx*r+e.vy*s,o=Math.min(o,a),l=Math.max(l,a);return{min:o,max:l}}function wF(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);return{vx:(e.x-t.x)/r,vy:(e.y-t.y)/r,origin:t,ln:r}}var SF=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function kF(t,e,n){var i=e.positioner(t,e),r=i.vx,s=i.vy;if(!r&&!s)return{x:i.x,y:i.y};var a=n.w,o=n.h,l=e.rotation,c=Math.abs(a/2*Math.cos(l))+Math.abs(o/2*Math.sin(l)),u=Math.abs(a/2*Math.sin(l))+Math.abs(o/2*Math.cos(l)),h=1/Math.max(Math.abs(r),Math.abs(s));return c*=r*h,u*=s*h,c+=e.offset*r,u+=e.offset*s,{x:i.x+c,y:i.y+u}}NE(SF.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=e._rect;return!((t=_F(t,e.center(),-e._rotation)).x<n.x-1||t.y<n.y-1||t.x>n.x+n.w+2||t.y>n.y+n.h+2)},intersects:function(t){var e,n,i,r=this._points(),s=t._points(),a=[wF(r[0],r[1]),wF(r[0],r[3])];for(this._rotation!==t._rotation&&a.push(wF(s[0],s[1]),wF(s[0],s[3])),e=0;e<a.length;++e)if(n=xF(r,a[e]),i=xF(s,a[e]),n.max<i.min||i.max<n.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,i=t.center();return[_F({x:e.x,y:e.y},i,n),_F({x:e.x+e.w,y:e.y},i,n),_F({x:e.x+e.w,y:e.y+e.h},i,n),_F({x:e.x,y:e.y+e.h},i,n)]}});var EF={prepare:function(t){var e,n,i,r,s,a=[];for(e=0,i=t.length;e<i;++e)for(n=0,r=t[e].length;n<r;++n)s=t[e][n],a.push(s),s.$layout={_box:new SF,_hidable:!1,_visible:!0,_set:e,_idx:s._index};return a.sort((function(t,e){var n=t.$layout,i=e.$layout;return n._idx===i._idx?i._set-n._set:i._idx-n._idx})),this.update(a),a},update:function(t){var e,n,i,r,s,a=!1;for(e=0,n=t.length;e<n;++e)r=(i=t[e]).model(),(s=i.$layout)._hidable=r&&"auto"===r.display,s._visible=i.visible(),a|=s._hidable;a&&function(t){var e,n,i,r,s,a,o;for(e=0,n=t.length;e<n;++e)(r=(i=t[e]).$layout)._visible&&(o=new Proxy(i._el,{get:(t,e)=>t.getProps([e],!0)[e]}),s=i.geometry(),a=kF(o,i.model(),s),r._box.update(a,s,i.rotation()));(function(t,e){var n,i,r,s;for(n=t.length-1;n>=0;--n)for(r=t[n].$layout,i=n-1;i>=0&&r._visible;--i)(s=t[i].$layout)._visible&&r._box.intersects(s._box)&&e(r,s)})(t,(function(t,e){var n=t._hidable,i=e._hidable;n&&i||i?e._visible=!1:n&&(t._visible=!1)}))}(t)},lookup:function(t,e){var n,i;for(n=t.length-1;n>=0;--n)if((i=t[n].$layout)&&i._visible&&i._box.contains(e))return t[n];return null},draw:function(t,e){var n,i,r,s,a,o;for(n=0,i=e.length;n<i;++n)(s=(r=e[n]).$layout)._visible&&(a=r.geometry(),o=kF(r._el,r.model(),a),s._box.update(o,a,r.rotation()),r.draw(t,o))}},CF="$datalabels",AF="$default";function PF(t,e,n,i){if(e){var r,s=n.$context,a=n.$groups;e[a._set]&&(r=e[a._set][a._key])&&!0===RE(r,[s,i])&&(t[CF]._dirty=!0,n.update(s))}}function MF(t,e){var n,i,r=t[CF],s=r._listeners;if(s.enter||s.leave){if("mousemove"===e.type)i=EF.lookup(r._labels,e);else if("mouseout"!==e.type)return;n=r._hovered,r._hovered=i,function(t,e,n,i,r){var s,a;(n||i)&&(n?i?n!==i&&(a=s=!0):a=!0:s=!0,a&&PF(t,e.leave,n,r),s&&PF(t,e.enter,i,r))}(t,s,n,i,e)}}var TF={id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(t){if(kE(t))return null;var e,n,i,r=t;if(CE(t))if(kE(t.label))if(kE(t.r))for(r="",i=0,n=(e=Object.keys(t)).length;i<n;++i)r+=(0!==i?", ":"")+e[i]+": "+t[e[i]];else r=t.r;else r=t.label;return""+r},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(t){t[CF]={_actives:[]}},beforeUpdate:function(t){var e=t[CF];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var i,r,s,a,o,l,c,u,h=e.index,d=t[CF],p=d._datasets[h]=[],f=t.isDatasetVisible(h),g=t.data.datasets[h],m=function(t,e){var n,i,r,s=t.datalabels,a=[];return!1===s?null:(!0===s&&(s={}),e=NE({},[e,s]),i=e.labels||{},r=Object.keys(i),delete e.labels,r.length?r.forEach((function(t){i[t]&&a.push(NE({},[e,i[t],{_key:t}]))})):a.push(e),n=a.reduce((function(t,e){return FE(e.listeners||{},(function(n,i){t[i]=t[i]||{},t[i][e._key||AF]=n})),delete e.listeners,t}),{}),{labels:a,listeners:n})}(g,n),v=e.meta.data||[],b=t.ctx;for(b.save(),i=0,s=v.length;i<s;++i)if((c=v[i])[CF]=[],f&&c&&t.getDataVisibility(i)&&!c.skip)for(r=0,a=m.labels.length;r<a;++r)l=(o=m.labels[r])._key,(u=new vF(o,b,c,i)).$groups={_set:h,_key:l||AF},u.$context={active:!1,chart:t,dataIndex:i,dataset:g,datasetIndex:h},u.update(u.$context),c[CF].push(u),p.push(u);b.restore(),NE(d._listeners,m.listeners,{merger:function(t,n,i){n[t]=n[t]||{},n[t][e.index]=i[t],d._listened=!0}})},afterUpdate:function(t){t[CF]._labels=EF.prepare(t[CF]._datasets)},afterDatasetsDraw:function(t){EF.draw(t,t[CF]._labels)},beforeEvent:function(t,e){if(t[CF]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":MF(t,n);break;case"click":!function(t,e){var n=t[CF],i=n._listeners.click,r=i&&EF.lookup(n._labels,e);r&&PF(t,i,r,e)}(t,n)}}},afterEvent:function(t){var e,n,i,r,s,a,o,l=t[CF],c=l._actives,u=l._actives=t.getActiveElements(),h=tF(c,u);for(e=0,n=h.length;e<n;++e)if((s=h[e])[1])for(i=0,r=(o=s[0].element[CF]||[]).length;i<r;++i)(a=o[i]).$context.active=1===s[1],a.update(a.$context);(l._dirty||h.length)&&(EF.update(l._labels),t.render()),delete l._dirty}};yT.register(ET,lR,XT,TF);const RF=()=>{const t={maintainAspectRatio:!1,plugins:{datalabels:{color:"white",display:!0,formatter:t=>"".concat(t,"%"),font:{weight:"bold",size:14}}}};return(0,ng.jsxs)("section",{className:"skill",id:"skills",children:[(0,ng.jsx)("div",{className:"container",children:(0,ng.jsx)("div",{className:"row",children:(0,ng.jsx)("div",{className:"col-12",children:(0,ng.jsxs)("div",{className:"skill-bx wow zoomIn",children:[(0,ng.jsx)("h2",{children:"Skills"}),(0,ng.jsxs)("p",{children:["Lorem Ipsum is simply dummy text of the printing and typesetting industry.",(0,ng.jsx)("br",{})," Lorem Ipsum has been the industry's standard dummy text."]}),(0,ng.jsxs)(Wk.default,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},infinite:!0,className:"owl-carousel owl-theme skill-slider",children:[(0,ng.jsxs)("div",{className:"item",children:[(0,ng.jsx)("div",{children:(0,ng.jsx)(YR,{data:{datasets:[{label:"Web Developemnt",data:[90,10],backgroundColor:["#9900FF","#000000"],hoverBackgroundColor:["#FF6384","#000000"]}]},options:t})}),(0,ng.jsx)("h6",{className:"chartlabel",children:"Web Development"})]}),(0,ng.jsxs)("div",{className:"item",children:[(0,ng.jsx)("div",{children:(0,ng.jsx)(YR,{data:{datasets:[{label:"MERN Stack",data:[80,20],backgroundColor:["#9900FF","#000000"],hoverBackgroundColor:["#FF6384","#000000"]}]},options:t})}),(0,ng.jsx)("h6",{className:"chartlabel",children:"MERN Stack"})]}),(0,ng.jsxs)("div",{className:"item",children:[(0,ng.jsx)("div",{children:(0,ng.jsx)(YR,{data:{datasets:[{label:"Server Scripting",data:[70,30],backgroundColor:["#9900FF","#000000"],hoverBackgroundColor:["#FF6384","#000000"]}]},options:t})}),(0,ng.jsx)("h6",{className:"chartlabel",children:"Server Scripting"})]}),(0,ng.jsxs)("div",{className:"item",children:[(0,ng.jsx)("div",{children:(0,ng.jsx)(YR,{data:{datasets:[{label:"Competitive Programming",data:[80,20],backgroundColor:["#9900FF","#000000"],hoverBackgroundColor:["#FF6384","#000000"]}]},options:t})}),(0,ng.jsx)("h6",{className:"chartlabel",children:"Competitive Coding"})]}),(0,ng.jsxs)("div",{className:"item",children:[(0,ng.jsx)("div",{children:(0,ng.jsx)(YR,{data:{datasets:[{label:"Documentation",data:[70,30],backgroundColor:["#9900FF","#000000"],hoverBackgroundColor:["#FF6384","#000000"]}]},options:t})}),(0,ng.jsx)("h6",{className:"chartlabel",children:"Documentation"})]})]})]})})})}),(0,ng.jsx)("img",{className:"background-image-left",src:Hk,alt:"Image"})]})};function FF(t,n,i){const r=(0,e.useRef)(void 0!==t),[s,a]=(0,e.useState)(n),o=void 0!==t,l=r.current;return r.current=o,!o&&l&&s!==n&&a(n),[o?t:s,(0,e.useCallback)((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...s]=e;let o=null==i?void 0:i(r,...s);return a(r),o}),[i])]}const IF={prefix:String(Math.round(1e10*Math.random())),current:0},LF=e.createContext(IF),DF=e.createContext(!1);let OF=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),NF=new WeakMap;function jF(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,e.useContext)(LF),i=(0,e.useRef)(null);if(null===i.current&&!t){var r,s;let t=null===(s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s||null===(r=s.ReactCurrentOwner)||void 0===r?void 0:r.current;if(t){let e=NF.get(t);null==e?NF.set(t,{id:n.current,state:t.memoizedState}):t.memoizedState!==e.state&&(n.current=e.id,NF.delete(t))}i.current=++n.current}return i.current}const zF="function"===typeof e.useId?function(t){let n=e.useId(),[i]=(0,e.useState)("function"===typeof e.useSyncExternalStore?e.useSyncExternalStore(HF,BF,WF):(0,e.useContext)(DF)),r=i?"react-aria":"react-aria".concat(IF.prefix);return t||"".concat(r,"-").concat(n)}:function(t){let n=(0,e.useContext)(LF);n!==IF||OF||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let i=jF(!!t),r="react-aria".concat(n.prefix);return t||"".concat(r,"-").concat(i)};function BF(){return!1}function WF(){return!0}function HF(t){return()=>{}}const VF=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],UF=["activeKey","getControlledId","getControllerId"],GF=["as"];function qF(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function XF(t){let{active:n,eventKey:i,mountOnEnter:r,transition:s,unmountOnExit:a,role:o="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:p}=t,f=qF(t,VF);const g=(0,e.useContext)(hk);if(!g)return[Object.assign({},f,{role:o}),{eventKey:i,isActive:n,mountOnEnter:r,transition:s,unmountOnExit:a,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:p}];const{activeKey:m,getControlledId:v,getControllerId:b}=g,y=qF(g,UF),_=Wx(i);return[Object.assign({},f,{role:o,id:v(i),"aria-labelledby":b(i)}),{eventKey:i,isActive:null==n&&null!=_?Wx(m)===_:n,transition:s||y.transition,mountOnEnter:null!=r?r:y.mountOnEnter,unmountOnExit:null!=a?a:y.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:p}]}const KF=e.forwardRef(((t,e)=>{let{as:n="div"}=t,i=qF(t,GF);const[r,{isActive:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:h,mountOnEnter:d,unmountOnExit:p,transition:f=dS}]=XF(i);return(0,ng.jsx)(hk.Provider,{value:null,children:(0,ng.jsx)(Hx.Provider,{value:null,children:(0,ng.jsx)(f,{in:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:h,mountOnEnter:d,unmountOnExit:p,children:(0,ng.jsx)(n,Object.assign({},r,{ref:e,hidden:!s,"aria-hidden":!s}))})})})}));KF.displayName="TabPanel";const YF=t=>{const{id:n,generateChildId:i,onSelect:r,activeKey:s,defaultActiveKey:a,transition:o,mountOnEnter:l,unmountOnExit:c,children:u}=t,[h,d]=FF(s,a,r),p=zF(n),f=(0,e.useMemo)((()=>i||((t,e)=>p?"".concat(p,"-").concat(e,"-").concat(t):null)),[p,i]),g=(0,e.useMemo)((()=>({onSelect:d,activeKey:h,transition:o,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:t=>f(t,"tabpane"),getControllerId:t=>f(t,"tab")})),[d,h,o,l,c,f]);return(0,ng.jsx)(hk.Provider,{value:g,children:(0,ng.jsx)(Hx.Provider,{value:d||null,children:u})})};YF.Panel=KF;const QF=YF;function JF(t){return"boolean"===typeof t?t?CS:dS:t}const $F=t=>{let{transition:e,...n}=t;return(0,ng.jsx)(QF,{...n,transition:JF(e)})};$F.displayName="TabContainer";const ZF=$F,tI=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:i,as:r="div",...s}=t;return i=hg(i,"tab-content"),(0,ng.jsx)(r,{ref:e,className:sg()(n,i),...s})}));tI.displayName="TabContent";const eI=tI,nI=e.forwardRef(((t,e)=>{let{bsPrefix:n,transition:i,...r}=t;const[{className:s,as:a="div",...o},{isActive:l,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:p,onExited:f,mountOnEnter:g,unmountOnExit:m,transition:v=CS}]=XF({...r,transition:JF(i)}),b=hg(n,"tab-pane");return(0,ng.jsx)(hk.Provider,{value:null,children:(0,ng.jsx)(Hx.Provider,{value:null,children:(0,ng.jsx)(v,{in:l,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:p,onExited:f,mountOnEnter:g,unmountOnExit:m,children:(0,ng.jsx)(a,{...o,ref:e,className:sg()(s,b,l&&"active")})})})})}));nI.displayName="TabPane";const iI=nI,rI={eventKey:wg().oneOfType([wg().string,wg().number]),title:wg().node.isRequired,disabled:wg().bool,tabClassName:wg().string,tabAttrs:wg().object},sI=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};sI.propTypes=rI;const aI=Object.assign(sI,{Container:ZF,Content:eI,Pane:iI}),oI=t=>{let{title:e,description:n,imgUrl:i,link:r}=t;return(0,ng.jsx)(yg,{size:12,sm:6,md:4,children:(0,ng.jsx)("a",{href:r,children:(0,ng.jsxs)("div",{className:"proj-imgbx",children:[(0,ng.jsx)("img",{src:i}),(0,ng.jsxs)("div",{className:"proj-txtx",children:[(0,ng.jsx)("h4",{children:e}),(0,ng.jsx)("span",{children:n})]})]})})})},lI=__webpack_require__.p+"static/media/project-img1.1f67f35d6c544eeb891e.png",cI=__webpack_require__.p+"static/media/project-img2.2e52097c417f9f1134b0.png",uI=__webpack_require__.p+"static/media/project-img3.675b30d2f975a1bc1d09.png",hI=__webpack_require__.p+"static/media/color-sharp2.c87586c6c2f549cb4aa6.png",dI=()=>{const t=[{title:"College Student Portal",description:"Student portal for their daily needs.",imgUrl:lI,link:"https://github.com/cGoyal69/College-Portal/tree/master/react/my-app"},{title:"Business Startup",description:"Design & Development",imgUrl:cI},{title:"Business Startup",description:"Design & Development",imgUrl:uI},{title:"Business Startup",description:"Design & Development",imgUrl:lI},{title:"Business Startup",description:"Design & Development",imgUrl:cI},{title:"Business Startup",description:"Design & Development",imgUrl:uI}];return(0,ng.jsxs)("section",{className:"project",id:"projects",children:[(0,ng.jsx)(gg,{children:(0,ng.jsx)(vg,{children:(0,ng.jsx)(yg,{size:12,children:(0,ng.jsx)(Pg.A,{children:e=>{let{isVisible:n}=e;return(0,ng.jsxs)("div",{className:n?"animate__animated animate__fadeIn":"",children:[(0,ng.jsx)("h2",{children:"Projects"}),(0,ng.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}),(0,ng.jsxs)(aI.Container,{id:"projects-tabs",defaultActiveKey:"first",children:[(0,ng.jsxs)(Dk,{variant:"pills",className:"nav-pills mb-5 justify-content-center align-items-center",id:"pills-tab",children:[(0,ng.jsx)(Dk.Item,{children:(0,ng.jsx)(Dk.Link,{eventKey:"first",children:"Tab 1"})}),(0,ng.jsx)(Dk.Item,{children:(0,ng.jsx)(Dk.Link,{eventKey:"second",children:"Tab 2"})})]}),(0,ng.jsxs)(aI.Content,{id:"slideInUp",className:n?"animate__animated animate__slideInUp":"",children:[(0,ng.jsx)(aI.Pane,{eventKey:"first",children:(0,ng.jsx)(vg,{children:t.map(((t,e)=>(0,ng.jsx)(oI,{...t},e)))})}),(0,ng.jsx)(aI.Pane,{eventKey:"section",children:(0,ng.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quam, quod neque provident velit, rem explicabo excepturi id illo molestiae blanditiis, eligendi dicta officiis asperiores delectus quasi inventore debitis quo."})}),(0,ng.jsx)(aI.Pane,{eventKey:"third",children:(0,ng.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quam, quod neque provident velit, rem explicabo excepturi id illo molestiae blanditiis, eligendi dicta officiis asperiores delectus quasi inventore debitis quo."})})]})]})]})}})})})}),(0,ng.jsx)("img",{className:"background-image-right",src:hI})]})};const pI=__webpack_require__.p+"static/media/contact-img.87eac2b29352fa01abb2f9510ef6ac7e.svg",fI=()=>{const t={firstName:"",lastName:"",email:"",phone:"",message:""},[n,i]=(0,e.useState)(t),[r,s]=(0,e.useState)("Send"),[a,o]=(0,e.useState)({}),l=(t,e)=>{i({...n,[t]:e})},c=async e=>{e.preventDefault(),s("Sending...");try{let e=await fetch("http://localhost:9696/contact",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)});s("Send");let r=await e.json();i(t),200===r.code?o({success:!0,message:"Message sent successfully"}):o({success:!1,message:"Something went wrong, please try again later."})}catch(r){s("Send"),o({success:!1,message:"Something went wrong, please try again later."})}};return(0,ng.jsx)("section",{className:"contact",id:"connect",children:(0,ng.jsx)(gg,{children:(0,ng.jsxs)(vg,{className:"align-items-center",children:[(0,ng.jsx)(yg,{size:12,md:6,children:(0,ng.jsx)(Pg.A,{children:t=>{let{isVisible:e}=t;return(0,ng.jsx)("img",{className:e?"animate__animated animate__zoomIn":"",src:pI,alt:"Contact Us"})}})}),(0,ng.jsx)(yg,{size:12,md:6,children:(0,ng.jsx)(Pg.A,{children:t=>{let{isVisible:e}=t;return(0,ng.jsxs)("div",{className:e?"animate__animated animate__fadeIn":"",children:[(0,ng.jsx)("h2",{children:"Get In Touch"}),(0,ng.jsx)("form",{onSubmit:c,children:(0,ng.jsxs)(vg,{children:[(0,ng.jsx)(yg,{size:12,sm:6,className:"px-1",children:(0,ng.jsx)("input",{type:"text",value:n.firstName,placeholder:"First Name",onChange:t=>l("firstName",t.target.value)})}),(0,ng.jsx)(yg,{size:12,sm:6,className:"px-1",children:(0,ng.jsx)("input",{type:"text",value:n.lastName,placeholder:"Last Name",onChange:t=>l("lastName",t.target.value)})}),(0,ng.jsx)(yg,{size:12,sm:6,className:"px-1",children:(0,ng.jsx)("input",{type:"email",value:n.email,placeholder:"Email Address",onChange:t=>l("email",t.target.value)})}),(0,ng.jsx)(yg,{size:12,sm:6,className:"px-1",children:(0,ng.jsx)("input",{type:"tel",value:n.phone,placeholder:"Phone No.",onChange:t=>l("phone",t.target.value)})}),(0,ng.jsxs)(yg,{size:12,className:"px-1",children:[(0,ng.jsx)("textarea",{rows:"6",value:n.message,placeholder:"Message",onChange:t=>l("message",t.target.value)}),(0,ng.jsx)("button",{type:"submit",children:(0,ng.jsx)("span",{children:r})})]}),a.message&&(0,ng.jsx)(yg,{children:(0,ng.jsx)("p",{className:!1===a.success?"danger":"success",children:a.message})})]})})]})}})})]})})})};const gI=()=>{const[t,n]=(0,e.useState)(function(){const t=(new Date).getFullYear();return"".concat(t)}());return(0,ng.jsx)("footer",{className:"footer",children:(0,ng.jsx)(gg,{children:(0,ng.jsxs)(vg,{className:"align-items-center",children:[(0,ng.jsx)(yg,{size:12,sm:6,children:(0,ng.jsx)("img",{src:Ok,alt:"Logo"})}),(0,ng.jsxs)(yg,{size:12,sm:6,className:"text-center text-sm-end",children:[(0,ng.jsxs)("div",{className:"social-icon",children:[(0,ng.jsx)("a",{href:"https://www.linkedin.com/in/chiraggoyal96/",target:"blank",children:(0,ng.jsx)("img",{src:Nk,alt:""})}),(0,ng.jsx)("a",{href:"https://github.com/cGoyal69",target:"blank",children:(0,ng.jsx)("img",{src:jk,alt:""})}),(0,ng.jsx)("a",{href:"https://www.instagram.com/_chirag2004/",target:"blank",children:(0,ng.jsx)("img",{src:zk,alt:""})})]}),(0,ng.jsxs)("p",{children:["Copyright ",t,". All Rights Reserved"]})]})]})})})};const mI=function(){return(0,ng.jsxs)("div",{className:"App",children:[(0,ng.jsx)(Bk,{}),(0,ng.jsx)(Bx,{}),(0,ng.jsx)(RF,{}),(0,ng.jsx)(dI,{}),(0,ng.jsx)(fI,{}),(0,ng.jsx)(gI,{})]})},vI=()=>(0,ng.jsxs)(et,{children:[(0,ng.jsx)(Z,{path:"/",element:(0,ng.jsx)(mI,{})}),(0,ng.jsx)(Z,{path:"/resume",element:(0,ng.jsx)(ig,{fileUrl:"".concat("/website","/resume.pdf")})})]}),bI=t=>{t&&t instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,6453)).then((e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:a}=e;n(t),i(t),r(t),s(t),a(t)}))};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(SI){}new Map;const yI=n.startTransition;lw.flushSync,n.useId;function _I(t){let{basename:n,children:i,future:r,window:s}=t,a=e.useRef();null==a.current&&(a.current=function(t){return void 0===t&&(t={}),d((function(t,e){let{pathname:n,search:i,hash:r}=t.location;return c("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:u(e)}),null,t)}({window:s,v5Compat:!0}));let o=a.current,[l,h]=e.useState({action:o.action,location:o.location}),{v7_startTransition:p}=r||{},f=e.useCallback((t=>{p&&yI?yI((()=>h(t))):h(t)}),[h,p]);return e.useLayoutEffect((()=>o.listen(f)),[o,f]),e.createElement(tt,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:o,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var xI,wI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xI||(xI={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(wI||(wI={}));i.createRoot(document.getElementById("root")).render((0,ng.jsx)(e.StrictMode,{children:(0,ng.jsx)(_I,{children:(0,ng.jsx)(vI,{})})})),bI()})()})();
//# sourceMappingURL=main.1dfca3c1.js.map